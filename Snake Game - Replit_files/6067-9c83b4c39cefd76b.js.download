"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6067],{47970:function(e,r,t){t.d(r,{IO:function(){return d},IU:function(){return l},YR:function(){return p},wg:function(){return h},x4:function(){return f}});var n=t(34051),a=t.n(n),o=t(48010);function i(e,r,t,n,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,a)}function u(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function u(e){i(o,n,a,u,c,"next",e)}function c(e){i(o,n,a,u,c,"throw",e)}u(void 0)}))}}function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){c(e,r,t[r])}))}return e}function l(e){var r=e.username,t=e.email,n=e.password,i=e.teacher,c=e.organization,s=e.hCaptchaResponse,l=e.hCaptchaSiteKey,f=e.privacyInvite,p=e.source;return function(){var e=u(a().mark((function e(u,d){var h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({type:"FETCH_SIGNUP_REQUEST"}),e.prev=2,e.next=5,(0,o.uz)("/signup",{email:t,username:r,password:n,teacher:i,organization:c,privacyInvite:f,hCaptchaResponse:s,hCaptchaSiteKey:l,source:p});case 5:h=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),u({type:"FETCH_SIGNUP_FAILURE",error:e.t0}),e.abrupt("return",{error:e.t0});case 12:return u({type:"FETCH_SIGNUP_SUCCESS",user:h}),e.abrupt("return",{user:d().user.userInfo});case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(r,t){return e.apply(this,arguments)}}()}function f(e){var r=e.username,t=e.password,n=e.teacher,i=e.hCaptchaResponse,c=e.hCaptchaSiteKey;return function(){var e=u(a().mark((function e(u,s){var l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({type:"FETCH_LOGIN_REQUEST"}),e.prev=2,e.next=5,(0,o.uz)("/login",{username:r,password:t,teacher:n,hCaptchaResponse:i,hCaptchaSiteKey:c});case 5:l=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),u({type:"FETCH_LOGIN_FAILURE",error:e.t0}),e.abrupt("return",{error:e.t0});case 12:return u({type:"FETCH_LOGIN_SUCCESS",user:l}),e.abrupt("return",{user:s().user.userInfo});case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(r,t){return e.apply(this,arguments)}}()}function p(e){var r=e.provider;return function(){var e=u(a().mark((function e(t,n){var i,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_USER_INFO_REQUEST"}),e.prev=2,e.next=5,(0,o.LK)("/is_authenticated");case 5:i=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),t({type:"FETCH_USER_INFO_FAILURE",error:e.t0}),e.abrupt("return",{error:e.t0});case 12:if(i.success){e.next=17;break}return(u=new Error("Unauthorized")).status=401,t({type:"FETCH_USER_INFO_FAILURE",error:u}),e.abrupt("return",{error:u});case 17:return t({type:"FETCH_USER_INFO_SUCCESS",user:s({},i.user,{loginMethod:r,should_complete_profile:i.should_complete_profile})}),e.abrupt("return",{user:n().user.userInfo});case 19:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(r,t){return e.apply(this,arguments)}}()}function d(){return{type:"AUTH_MODAL_INCREMENT_PROMPT_COUNT"}}function h(){return{type:"AUTH_MODAL_DISMISS"}}},23551:function(e,r,t){t.d(r,{j:function(){return i}});var n=t(10630),a=t(56834);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var i=function(e){var r=n.Z.get("gfa_ref")||n.Z.get("_growth_ref")||document.referrer,t=n.Z.get("gfa_campaign")||n.Z.get("_growth_campaign"),i=n.Z.get("gfa_landed_on")||n.Z.get("_growth_landing");(0,a.yV)(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){o(e,r,t[r])}))}return e}({id:e},r?{firstAcquisitionSource:r}:{},t?{firstAcquisitionCampaign:t}:{},i?{firstAcquisitionLandedOn:i}:{}))}},99345:function(e,r,t){t.d(r,{Z:function(){return q}});var n=t(35944),a=t(79547),o=t.n(a),i=t(67294),u=t(34051),c=t.n(u),s=t(78135),l=t(57541),f=t(66692),p=t(94590),d=t(1517),h=t(47970),m=t(21),v=t(33108),b=t(23139),g=t(11542),w=t(56834),y=t(67938),x=function(e){var r=e.isLogin;return(0,n.BX)(y.x,{children:["Trouble ",r?"logging in":"signing up","? ",(0,n.tZ)("a",{href:"https://replit.com/support",target:"_blank",rel:"noopener noreferrer",children:"Get help"})]})},k=t(8286);function S(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Z(e,r,t,n,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,a)}function C(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return S(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _="a20d9b66-6747-404a-9393-c449c4611661";function E(e){if(e.error)return[{message:e.error.message,state:"error"}];if(e.warning)return[{message:e.warning.message,state:"warning"}];if(e.value){if(e.isValid)return[{message:"",state:"success"}];if(e.touched)return[{message:"",state:"loading"}]}}var O=function(e){var r=e.email,t=void 0===r?"":r,a=e.username,o=void 0===a?"":a,u=e.password,y=void 0===u?"":u,S=e.schoolName,O=void 0===S?"":S,T=e.isTeacher,U=e.randomUsername,R=void 0===U?"":U,P=e.privacyInvite,j=e.onSubmit,I=e.onChangeAuth,A=e.toggleTeacher,N=e.source,D=void 0===N?"explicit":N,L=C(i.useState(!1),2),z=L[0],F=L[1],H=C(i.useState(!1),2),B=H[0],V=H[1],G=i.useRef(null),M=(0,s.I0)(),X=(0,v.Y)(P?R:o,f.Z.username),Y=(0,v.Y)(P?"".concat(R,"@teams.noreply.replit.com"):t,T?f.Z.teacherEmail:f.Z.email),K=(0,v.Y)(y||"",f.Z.password),Q=(0,v.Y)(O||"",f.Z.school),q=function(){var e,r=(e=c().mark((function e(r){var t,n,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),F(!0),X.isValid){e.next=9;break}return e.next=5,X.validate();case 5:if(!e.sent){e.next=9;break}return F(!1),e.abrupt("return");case 9:if(Y.isValid){e.next=16;break}return e.next=12,Y.validate();case 12:if(!e.sent){e.next=16;break}return F(!1),e.abrupt("return");case 16:if(K.isValid){e.next=23;break}return e.next=19,K.validate();case 19:if(!e.sent){e.next=23;break}return F(!1),e.abrupt("return");case 23:if(!T||Q.isValid){e.next=30;break}return e.next=26,Q.validate();case 26:if(!e.sent){e.next=30;break}return F(!1),e.abrupt("return");case 30:return e.prev=31,e.next=34,(0,m.Z)(_,(function(){(0,w.j)(w.U3.AUTH_FORM_CAPTCHA_TRIGGERED,{authenticationType:"signup"})}));case 34:t=e.sent,e.next=42;break;case 37:return e.prev=37,e.t0=e.catch(31),j({error:"Something went wrong trying to submit. Please try again."}),F(!1),e.abrupt("return");case 42:return e.next=44,M((0,h.IU)({username:X.value,password:K.value,privacyInvite:P,email:Y.value,teacher:T,organization:Q.value,hCaptchaResponse:t,hCaptchaSiteKey:_,source:D}));case 44:if(n=e.sent,F(!1),V(!0),!("error"in n)){e.next=53;break}if(a=n.error,j({error:a.status&&a.message?a.message:"Something went wrong"}),!(a.status&&a.status>=500)){e.next=52;break}throw a;case 52:return e.abrupt("return");case 53:o=n.user,j({user:o,newUser:!0,organization:Q.value});case 55:case"end":return e.stop()}}),e,null,[[31,37]])})),function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){Z(o,n,a,i,u,"next",e)}function u(e){Z(o,n,a,i,u,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}(),W=function(e){e.preventDefault(),A()},$=T&&!Q.value,J=P&&!Y.value,ee=function(e){I&&(e.preventDefault(),I(),(0,w.j)(w.U3.LOGIN_REQUESTED,{from:"signup",location:"form"}))};return(0,n.tZ)("form",{onSubmit:q,children:(0,n.BX)(b.G7,{css:[b.l0.colWithGap(8)],children:[(0,n.tZ)(b.h4,{variant:"headerDefault",level:1,children:T?"Create a teacher account":"Create a Replit account"}),!P&&(0,n.tZ)(b.G7,{onClick:W,role:"button",tabIndex:0,onKeyDown:W,children:(0,n.tZ)(b.xv,{children:T?(0,n.tZ)("a",{children:"Not a teacher?"}):(0,n.tZ)("a",{children:"Teacher? Sign up for our education product."})})}),(0,n.tZ)(l.ZP,{label:P?"Use our default or pick a username that\u2019s not your real name.":void 0,"aria-label":P?void 0:"Username",name:"username",ref:G,placeholder:"Username",onBlur:X.handleBlur,validationResults:E(X),onChange:function(e){return X.setValue(e.target.value)},value:X.value,autoComplete:"on",autoFocus:!0,autoCorrect:"off",autoCapitalize:"off",onValidationError:function(){(0,w.j)(w.U3.AUTH_FORM_VALIDATION_ERROR,{field:"username"})}}),P?null:(0,n.tZ)(l.ZP,{name:"email",placeholder:"Email","aria-label":"Email",onBlur:Y.handleBlur,validationResults:E(Y),onChange:function(e){return Y.setValue(e.target.value)},value:Y.value,autoComplete:"on",autoCorrect:"off",autoCapitalize:"off",onValidationError:function(){(0,w.j)(w.U3.AUTH_FORM_VALIDATION_ERROR,{field:"email"})}}),(0,n.tZ)(l.ZP,{name:"password",type:"password","aria-label":"Password",placeholder:"Password",onBlur:K.handleBlur,validationResults:E(K),onChange:function(e){return K.setValue(e.target.value)},value:K.value,onValidationError:function(){(0,w.j)(w.U3.AUTH_FORM_VALIDATION_ERROR,{field:"password"})}}),T?(0,n.tZ)(l.ZP,{type:"text",name:"organization",placeholder:"School or Organization name","aria-label":"School or Organization name",onBlur:Q.handleBlur,validationResults:E(Q),onChange:function(e){return Q.setValue(e.target.value)},value:Q.value,onValidationError:function(){(0,w.j)(w.U3.AUTH_FORM_VALIDATION_ERROR,{field:"organization"})}}):null,(0,n.BX)(b.G7,{css:[b.l0.colWithGap(4)],children:[(0,n.tZ)(b.zx,{type:"submit",colorway:B?"positive":"primary",big:!0,stretch:!0,disabled:!K.value||!X.value||J||$||B||z,iconLeft:z?(0,n.tZ)(d.Z,{}):B?(0,n.tZ)(k.Z,{}):(0,n.tZ)(p.Z,{}),"data-cy":"signup-create-account",text:"Create account",css:[z&&b.pt.backgroundPulse(b.TV.accentPrimaryDimmest,b.TV.accentPrimaryDimmer),(B||z)&&{color:"".concat(b.TV.foregroundDefault," !important"),cursor:"default"},b.l0.borderRadius(4)]}),(0,n.tZ)(g.Z,{size:3}),!P&&I&&(0,n.BX)(b.xv,{children:["Have an account?"," ",(0,n.tZ)("a",{role:"button",tabIndex:0,onKeyDown:function(e){return ee(e)},onClick:function(e){return ee(e)},children:"Log in"})]}),(0,n.tZ)(x,{isLogin:!1})]}),!1]})})},T=t(41664),U=t.n(T),R=t(39e3),P=t(92432);function j(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function I(e,r,t,n,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,a)}function A(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return j(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e){var r=e.username,t=void 0===r?"":r,a=e.password,o=void 0===a?"":a,u=e.isTeacher,f=e.onSubmit,p=e.onChangeAuth,y=e.source,S=A(i.useState(!1),2),Z=S[0],C=S[1],_=A(i.useState(!1),2),E=_[0],O=_[1],T=i.useRef(null),j=(0,s.I0)(),N=(0,v.Y)(t,(function(){return null})),D=(0,v.Y)(o,(function(){return null})),L="firewalledreplit.com"===(null===window||void 0===window?void 0:window.location.hostname),z=function(){var e,r=(e=c().mark((function e(r){var t,n,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.preventDefault&&r.preventDefault(),!Z){e.next=3;break}return e.abrupt("return");case 3:return C(!0),e.next=6,N.validate();case 6:if(!e.sent){e.next=12;break}return null===(t=T.current)||void 0===t||t.focus(),C(!1),e.abrupt("return");case 12:return e.next=14,D.validate();case 14:if(!e.sent){e.next=18;break}return C(!1),e.abrupt("return");case 18:return e.prev=19,e.next=22,(0,m.Z)(void 0,(function(){(0,w.j)(w.U3.AUTH_FORM_CAPTCHA_TRIGGERED,{authenticationType:"login"})}));case 22:n=e.sent,e.next=30;break;case 25:return e.prev=25,e.t0=e.catch(19),f({error:"Something went wrong trying to submit. Please try again."}),C(!1),e.abrupt("return");case 30:return e.next=32,j((0,h.x4)({username:N.value,password:D.value,hCaptchaResponse:n,hCaptchaSiteKey:m.w,teacher:u}));case 32:if(a=e.sent,C(!1),!("error"in a)){e.next=40;break}if(o=a.error,f({error:o.status&&o.message?o.message:"Something went wrong"}),!(o.status&&o.status>=500)){e.next=39;break}throw o;case 39:return e.abrupt("return");case 40:O(!0),(0,w.j)(w.U3.LOGIN_SUCCESSFUL,{source:y,siteVersion:L?"firewall":"regular"}),f({user:a.user});case 43:case"end":return e.stop()}}),e,null,[[19,25]])})),function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){I(o,n,a,i,u,"next",e)}function u(e){I(o,n,a,i,u,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,n.tZ)("form",{className:"login-form",onSubmit:z,method:"POST",action:"/login",children:(0,n.BX)(b.G7,{css:[b.l0.colWithGap(8)],children:[(0,n.tZ)(b.h4,{variant:"headerDefault",level:1,children:"Log in to your account"}),(0,n.tZ)(g.Z,{}),(0,n.tZ)(l.ZP,{ref:T,name:"username",placeholder:"Email or Username","aria-label":"Email or Username",value:N.value,onBlur:N.handleBlur,onChange:function(e){return N.setValue(e.currentTarget.value)},autoComplete:"on",autoFocus:!0,autoCorrect:"off",autoCapitalize:"off",validationResults:N.error?[{message:N.error.message,state:"error"}]:void 0,required:!0}),(0,n.tZ)(R.Z,{validated:!1,name:"password",placeholder:"Password","aria-label":"Password",value:D.value,onBlur:D.handleBlur,onChange:function(e){return D.setValue(e.currentTarget.value)},validationResults:D.error?[{message:D.error.message,state:"error"}]:void 0,required:!0},"password"),(0,n.tZ)(b.zx,{type:"submit",onClick:z,colorway:E?"positive":"primary",big:!0,stretch:!0,disabled:!D.value||!N.value||Z||E,iconRight:Z?(0,n.tZ)(d.Z,{}):E?(0,n.tZ)(k.Z,{}):(0,n.tZ)(P.Z,{}),"data-cy":"log-in-btn",text:"Log in",css:[Z&&b.pt.backgroundPulse(b.TV.accentPrimaryDimmest,b.TV.accentPrimaryDimmer),(E||Z)&&{color:"".concat(b.TV.foregroundDefault," !important"),cursor:"default"},b.l0.borderRadius(4)]}),(0,n.tZ)(g.Z,{}),p&&(0,n.BX)(b.xv,{children:["New to Replit?"," ",(0,n.tZ)("a",{href:"/signup",onClick:function(e){e.preventDefault(),p(),(0,w.j)(w.U3.SIGNUP_REQUESTED,{from:"login",location:"form"})},children:"Sign up"})]}),(0,n.tZ)(x,{isLogin:!0}),(0,n.tZ)(b.xv,{children:(0,n.tZ)(U(),{href:"/forgot",children:"Forgot password?"})}),!1]})})}var D=t(94184),L=t.n(D),z=t(40425),F=t(8996),H=t(51281),B=t(58458),V=t(82820),G=t(55551);function M(e,r,t,n,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,a)}var X=["google","github","facebook"];var Y=function(e){var r,t,a,i=e.onClick,u=e.provider,c=(0,G.s)();return(0,n.BX)("div",{className:"jsx-872e72fe1dfe1a05 social-login-container",children:[(0,n.tZ)(H.Z,{onClick:i,fullWidth:!0,size:"small",children:(0,n.BX)(F.Ug,{align:"center",justify:"space-between",spacing:2,children:[(0,n.tZ)("div",{style:{backgroundImage:"url(/public/images/".concat(u,".png)")},css:c===V.V2.replitDark&&"github"===u&&{filter:"brightness(0) invert(1)"},className:"jsx-872e72fe1dfe1a05 "+(L()("social-login-icon",(r={},t=u,a=u,t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r))||"")}),(0,n.BX)(B.Z,{size:"small",children:["Continue with"," ","".concat(u.substring(0,1).toUpperCase()).concat(u.substring(1))]}),(0,n.tZ)(g.Z,{})]})}),(0,n.tZ)(o(),{id:"872e72fe1dfe1a05",children:".social-login-container.jsx-872e72fe1dfe1a05{min-width:280px}.social-login-container.jsx-872e72fe1dfe1a05 button .content{width:100%}.social-login-icon.jsx-872e72fe1dfe1a05{height:22px;width:22px;-webkit-background-size:contain;-moz-background-size:contain;-o-background-size:contain;background-size:contain;background-repeat:no-repeat}"})]})},K=function(e){var r=e.isTeacher,t=e.isLogin,a=e.onSubmit,u=e.source,l=e.googleClassroom,f=(0,s.I0)(),p=i.useRef(null),d="firewalledreplit.com"===(null===window||void 0===window?void 0:window.location.hostname),m=function(e,n){e.preventDefault();var o="/auth/".concat(n,"/get?close=1");r&&(o+="&teacher=1"),u&&(o+="&source=".concat(u)),(0,w.j)(w.U3.AUTH_FORM_SSO_REQUESTED,{provider:n,authenticationType:t?"login":"signup",isTeacher:r?"true":"false"});var i=window.open(o),s=function(){var e,o=(e=c().mark((function e(o){var s,l,m,v;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o.origin===window.location.origin||"https://replit.com"===o.origin||"https://repl.it"===o.origin||"https://firewalledreplit.com"===o.origin)&&("authenticated"===o.data||"authenticated:new_user"===o.data)){e.next=2;break}return e.abrupt("return");case 2:return p.current&&p.current(),i&&i.close(),e.next=6,f((0,h.YR)({provider:n}));case 6:if(!("error"in(s=e.sent))){e.next=14;break}if(l=s.error,a({error:l.status&&l.message?l.message:"Something went wrong"}),(0,w.j)(w.U3.AUTH_FORM_SUBMISSION_FAILED,{provider:n,authenticationType:t?"login":"signup",isTeacher:r?"true":"false",errorStatus:l.status}),401===l.status){e.next=13;break}throw l;case 13:return e.abrupt("return");case 14:m=s.user,v="authenticated:new_user"===o.data,t&&!v&&(0,w.j)(w.U3.LOGIN_SUCCESSFUL,{source:u,siteVersion:d?"firewall":"regular"}),a({user:m,social:!0,newUser:v});case 18:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){M(o,n,a,i,u,"next",e)}function u(e){M(o,n,a,i,u,"throw",e)}i(void 0)}))});return function(e){return o.apply(this,arguments)}}();window.addEventListener("message",s),p.current=function(){p.current=null,window.removeEventListener("message",s)}};return i.useEffect((function(){return function(){p.current&&p.current()}}),[]),(0,n.BX)(F.gC,{children:[l?(0,n.BX)(F.gC,{align:"center",children:[(0,n.tZ)(z.Z,{level:4,align:"center",children:"Login with Google"}),(0,n.tZ)("div",{className:"jsx-ec4a0caca93c2428",children:(0,n.tZ)(Y,{provider:"google",onClick:function(e){return m(e,"google")}})})]}):(0,n.BX)(n.HY,{children:[(0,n.tZ)(g.Z,{size:2}),(0,n.tZ)("div",{className:"jsx-ec4a0caca93c2428 social-spacer"}),(0,n.tZ)(g.Z,{}),(0,n.tZ)(F.gC,{spacing:1,children:X.map((function(e){return(0,n.tZ)(Y,{onClick:function(r){return m(r,e)},provider:e},e)}))})]}),(0,n.tZ)(o(),{id:"ec4a0caca93c2428",children:".social-spacer.jsx-ec4a0caca93c2428{width:100%;border-bottom:1px solid var(--outline-dimmest)}"})]})},Q=function(){return(0,n.BX)("div",{className:"jsx-ebf1f482d98c40ac signup-form-email-disclaimer",children:["By continuing, you agree to Replit\u2019s"," ",(0,n.tZ)("a",{href:"/site/terms",target:"_blank",className:"jsx-ebf1f482d98c40ac",children:"Terms of Service"})," ","and"," ",(0,n.tZ)("a",{href:"/site/privacy",target:"_blank",className:"jsx-ebf1f482d98c40ac",children:"Privacy Policy"}),", and to receiving emails with updates.",(0,n.tZ)(o(),{id:"ebf1f482d98c40ac",children:".signup-form-email-disclaimer.jsx-ebf1f482d98c40ac{font-size:12px;margin-top:20px;color:var(--foreground-dimmer);line-height:14px}"})]})},q=function(e){var r=e.onSubmit,t=e.isLogin,a=e.email,i=e.isTeacher,u=e.toggleTeacher,c=e.onChangeAuth,s=e.privacyInvite,l=e.randomUsername,f=e.source,p=void 0===f?"explicit":f,d=e.googleClassroom;return(0,n.BX)("div",{className:"jsx-c4d8c9697df04b1d",children:[(0,n.tZ)(o(),{id:"c4d8c9697df04b1d",children:"div.jsx-c4d8c9697df04b1d{max-width:280px;margin-top:auto;margin-bottom:auto;color:var(--accent-foreground-default)}"}),t&&(0,n.tZ)(N,{isTeacher:i,onSubmit:r,onChangeAuth:c,source:p}),!t&&!d&&(0,n.tZ)(O,{isTeacher:i,email:a,onSubmit:r,toggleTeacher:u,onChangeAuth:c,privacyInvite:s,randomUsername:l,source:p}),!s&&(0,n.tZ)(K,{isTeacher:i,onSubmit:r,source:p,isLogin:t,googleClassroom:d}),(0,n.tZ)(Q,{})]})}},39e3:function(e,r,t){var n=t(35944),a=t(79547),o=t.n(a),i=t(67294),u=t(83308),c=t(57541);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function f(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){p(e,r,t[r])}))}return e}function m(e,r){return!r||"object"!==b(r)&&"function"!==typeof r?s(e):r}function v(e,r){return(v=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}var b=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=d(e);if(r){var a=d(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return m(this,t)}}var w=function(e){!function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&v(e,r)}(d,e);var r,t,a,i=g(d);function d(){var e;return l(this,d),p(s(e=i.apply(this,arguments)),"state",{isShown:!1}),p(s(e),"toggleShowHide",(function(){e.setState({isShown:!e.state.isShown})})),e}return r=d,(t=[{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"render",value:function(){var e=this,r=this.state.isShown,t=r?"HIDE":"SHOW";return(0,n.BX)("div",{className:"jsx-36c139331f6f2b3d password-input",children:[this.props.validated?(0,n.tZ)(u.a,h({ref:function(r){return e.input=r},type:r?"text":"password"},this.props,{validated:void 0})):(0,n.tZ)(c.ZP,h({ref:function(r){return e.input=r}},this.props,{type:r?"text":"password",validated:void 0})),this.props.value&&this.props.value.length>0&&(0,n.tZ)("div",{onClick:this.toggleShowHide,className:"jsx-36c139331f6f2b3d password-show-toggle",children:t}),(0,n.tZ)(o(),{id:"36c139331f6f2b3d",children:".password-input.jsx-36c139331f6f2b3d{position:relative}.password-input.jsx-36c139331f6f2b3d input{padding-right:67px!important}.password-show-toggle.jsx-36c139331f6f2b3d{position:absolute;right:19px;line-height:16px;top:12px;cursor:pointer}"})]})}}])&&f(r.prototype,t),a&&f(r,a),d}(i.Component);p(w,"defaultProps",{validated:!1,theme:"replitLight"}),r.Z=w},21:function(e,r,t){t.d(r,{Z:function(){return m},w:function(){return c}});var n=t(34051),a=t.n(n),o=t(34155);function i(e,r,t,n,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,a)}function u(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function u(e){i(o,n,a,u,c,"next",e)}function c(e){i(o,n,a,u,c,"throw",e)}u(void 0)}))}}var c="473079ba-e99f-4e25-a635-e9b661c7dd3e",s=0;function l(){var e=Math.floor(500*Math.random());return 1e3*Math.pow(1.7,s)+e}var f=null;function p(){return d.apply(this,arguments)}function d(){return(d=u(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.createElement("script")).src="https://js.hcaptcha.com/1/api.js?render=explicit&host=repl.it",e.abrupt("return",new Promise((function(e,t){r.onload=h((function(){f=null,e()})),r.onerror=function(){s++,f=new Promise((function(e,r){setTimeout((function(){p().then(e,r)}),l())})),5===s&&t(new Error("Failed to load captcha script after ".concat(5," times")))},window.document.head.appendChild(r)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return function(){"undefined"===typeof window.hcaptcha?setTimeout((function(){h(e)}),100):e()}}function m(e,r){return v.apply(this,arguments)}function v(){return(v=u(a().mark((function e(r,t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if("true"!==o.env.IS_CYPRESS_AUTOMATED_TEST){e.next=4;break}return e.abrupt("return","bypassed");case 4:if(!f){e.next=7;break}return e.next=7,f;case 7:return n=window.hcaptcha,e.abrupt("return",new Promise((function(e,a){var o=document.createElement("div"),i=n.render(o,{sitekey:r||c,size:"invisible",callback:function(r){n.reset(i),window.document.body.contains(o)&&window.document.body.removeChild(o),e(r)},"open-callback":function(){t&&t()},"close-callback":function(){n.reset(i),window.document.body.contains(o)&&window.document.body.removeChild(o),a(new Error("HCaptcha closed"))},"chalexpired-callback":function(){n.reset(i),window.document.body.contains(o)&&window.document.body.removeChild(o),a(new Error("HCaptcha challenge expired"))},"error-callback":function(){n.reset(i),window.document.body.contains(o)&&window.document.body.removeChild(o),a(new Error("HCaptcha render error"))},"expired-callback":function(){n.reset(i),window.document.body.contains(o)&&window.document.body.removeChild(o),a(new Error("HCaptcha render expired"))}});window.document.body.appendChild(o),n.execute(i)})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}f=p()},66692:function(e,r,t){var n=t(34051),a=t.n(n),o=t(83868),i=t.n(o),u=t(93235),c=t.n(u),s=t(48010);function l(e,r,t,n,a,o,i){try{var u=e[o](i),c=u.value}catch(s){return void t(s)}u.done?r(c):Promise.resolve(c).then(n,a)}function f(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function i(e){l(o,n,a,i,u,"next",e)}function u(e){l(o,n,a,i,u,"throw",e)}i(void 0)}))}}var p=function(){var e=f(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:if(i()(r)){e.next=4;break}return e.abrupt("return",{message:"Invalid email address"});case 4:return e.next=6,(0,s.uz)("/data/user/exists",{email:r});case 6:if(!e.sent.exists){e.next=9;break}return e.abrupt("return",{message:"Email already in use"});case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();r.Z={isValidEmail:function(){var e=f(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{message:"Must include valid email address"});case 2:if(i()(r)){e.next=4;break}return e.abrupt("return",{message:"Invalid email address"});case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),email:p,teacherEmail:function(){var e=f(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,p(r);case 4:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return e.next=9,(0,s.uz)("/data/user/is-teacher-email",{email:r});case 9:if(e.sent.isTeacherEmail){e.next=12;break}return e.abrupt("return",{message:"Ensure you\u2019re using your institution\u2019s email",severity:"warning"});case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),username:function(){var e=f(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:if(c()(r,{min:2,max:15})){e.next=4;break}return e.abrupt("return",{message:"Your username must be between 2 and 15 characters"});case 4:if(r.match(/^[0-9a-zA-Z]+$/)){e.next=6;break}return e.abrupt("return",{message:"Your username can only contain alphanumeric characters (letters A-Z, numbers 0-9)"});case 6:return e.next=8,(0,s.uz)("/data/user/exists",{username:r});case 8:if(!e.sent.exists){e.next=11;break}return e.abrupt("return",{message:"Username is taken"});case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),teamUsername:function(){var e=f(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:if(c()(r,{min:2,max:28})){e.next=4;break}return e.abrupt("return",{message:"Your username must be between 2 and 28 characters"});case 4:if(r.match(/^[0-9a-zA-Z-]+$/)){e.next=6;break}return e.abrupt("return",{message:"Username can only contain alphanumeric characters (letters A-Z, numbers 0-9) and hyphens."});case 6:if(!r.match(/^-.*|.*-$|.*--.*/)){e.next=8;break}return e.abrupt("return",{message:"A username can not start or end with hyphens, or contain two consecutive hyphens."});case 8:return e.next=10,(0,s.uz)("/data/user/exists",{username:r});case 10:if(!e.sent.exists){e.next=13;break}return e.abrupt("return",{message:"Username is taken"});case 13:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),password:function(e){return e?c()(e,{min:8})?void 0:{message:"Must be at least 8 characters"}:null},school:function(e){return null}}}}]);
//# sourceMappingURL=6067-9c83b4c39cefd76b.js.map