"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[876],{40746:function(e,t,r){function n(e,t){var r=t.existing,n=t.getKey,l=new Map,i=!0,o=!1,a=void 0;try{for(var u,c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var s=u.value;l.set(n(s),s)}}catch(O){o=!0,a=O}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}var d=new Set,f=[],p=!0,h=!1,v=void 0;try{for(var g,m=r[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){var b=n(g.value),y=l.get(b);y&&(f.push(y),d.add(b))}}catch(O){h=!0,v=O}finally{try{p||null==m.return||m.return()}finally{if(h)throw v}}var w=!0,Z=!1,x=void 0;try{for(var S,k=e[Symbol.iterator]();!(w=(S=k.next()).done);w=!0){var R=S.value;d.has(n(R))||f.push(R)}}catch(O){Z=!0,x=O}finally{try{w||null==k.return||k.return()}finally{if(Z)throw x}}return f}r.d(t,{Z:function(){return n}})},50876:function(e,t,r){r.d(t,{Z:function(){return _r}});var n=r(35944),l=r(67294),i=r(54929),o=r(88768),a=r(23139),u=r(1517),c=r(34051),s=r.n(c),d=r(28614),f=r(1769),p=r(45734),h=r(92432),v=r(4993),g=r(41664),m=r.n(g),b=r(70917),y=r(67938),w=r(66552),Z=r(3204),x=r(67615),S=r(16055),k=r(53009),R=r(74302),O=r(14285),I=r(84409);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){P(e,t,r[t])}))}return e}function T(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=(0,i.K)("a"),A=(0,b.iv)({"::after":{content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}});function V(e){var t=e.post,r=t.repl,l=t.user,o=r.isTemplate?"Template":"Repl";return(0,n.BX)(i.Z,{css:Z.l0.colWithGap(8),children:[(0,n.BX)(i.Z,{css:[Z.l0.flex.row,Z.l0.align.center,Z.l0.justify.spaceBetween],children:[(0,n.tZ)(i.Z,{css:[Z.l0.flex.row,Z.l0.align.center],children:(0,n.BX)(i.Z,{css:[Z.l0.rowWithGap(8),Z.l0.align.center],children:[(0,n.tZ)(I.Z,{size:24,username:l.username,src:l.image}),(0,n.BX)(i.Z,{css:Z.l0.rowWithGap(4),children:[(0,n.tZ)(y.x,{children:l.username}),(0,n.BX)(y.x,{color:"dimmest",children:[" published a ",o]})]})]})}),(0,n.tZ)(O.Z,{size:12})]}),(0,n.BX)(w.Z,{css:[Z.l0.borderRadius(8),Z.l0.colWithGap(8),Z.l0.p(8),Z.l0.position.relative,{border:"1px solid "+Z.TV.outlineDimmest}],children:[(0,n.tZ)(i.Z,{css:[Z.l0.colWithGap(16)],children:(0,n.tZ)(i.Z,{css:[Z.l0.rowWithGap(16),Z.l0.justify.spaceBetween],children:(0,n.BX)(i.Z,{css:[Z.l0.rowWithGap(8),Z.l0.align.start,Z.l0.flex.growAndShrink(1)],children:[(0,n.tZ)(k.ZP,{iconUrl:r.iconUrl,alt:r.title,size:84,css:[Z.l0.backgroundColor.backgroundHigher]}),(0,n.BX)(i.Z,{css:[Z.l0.flex.growAndShrink(1),Z.l0.colWithGap(4)],children:[(0,n.BX)(i.Z,{css:[Z.l0.flex.row],children:[(0,n.tZ)(m(),B({passHref:!0},(0,R.j3)(r),{children:(0,n.tZ)(j,{css:[{color:"inherit"},A,Z.l0.flex.growAndShrink(1),Z.l0.minWidth(0)],onClick:function(e){return e.preventDefault()},children:(0,n.tZ)(y.x,{variant:"subheadBig",children:r.title})})})),r.isTemplate&&(0,n.tZ)(E,{})]}),r.description?(0,n.tZ)(y.x,{color:"dimmer",maxLines:2,children:r.description}):null]})]})})}),(0,n.BX)(i.Z,{css:[Z.l0.rowWithGap(8),Z.l0.justify.spaceBetween,Z.l0.minHeight(24)],children:[(0,n.tZ)(x.Z,{repl:{id:r.id,runCount:0,likeCount:0,commentCount:0}}),(0,n.tZ)(i.Z,{css:[Z.l0.position.relative,{zIndex:1},Z.l0.flex.shrink(1)],children:(0,n.tZ)(S.Vs,{tags:r.tags,onTagClick:function(e){return e.preventDefault()}})})]})]})]})}var E=function(){return(0,n.tZ)("span",{css:[Z.l0.display.inlineFlex,Z.l0.align.center,Z.l0.height(24),Z.l0.px(8),Z.l0.borderRadius(16),Z.l0.backgroundColor.yellowDimmest,Z.l0.color.yellowStrongest,Z.l0.justify.center,Z.l0.ml(8),{fontSize:Z.TV.fontSizeSmall,lineHeight:Z.TV.fontSizeSmall}],children:"Template"})},G=function(){return(0,n.BX)(i.Z,{css:[Z.l0.colWithGap(8),{opacity:.5}],children:[(0,n.BX)(i.Z,{css:[Z.l0.flex.row,Z.l0.align.center,Z.l0.flex.grow(1),Z.l0.justify.spaceBetween],children:[(0,n.BX)(i.Z,{css:[Z.l0.rowWithGap(8),Z.l0.align.center],children:[(0,n.tZ)("span",{css:[Z.l0.backgroundColor.backgroundHigher,Z.l0.width(24),Z.l0.height(24),Z.l0.borderRadius(16)]}),(0,n.tZ)("span",{css:[Z.l0.backgroundColor.backgroundHigher,Z.l0.width(126),Z.l0.height(12),Z.l0.borderRadius(4)]})]}),(0,n.tZ)("span",{css:[Z.l0.backgroundColor.backgroundHigher,Z.l0.width(12),Z.l0.height(12),Z.l0.borderRadius(8)]})]}),(0,n.BX)(i.Z,{css:[Z.l0.backgroundColor.backgroundDefault,Z.l0.width("100%"),Z.l0.height(132),Z.l0.borderRadius(8),Z.l0.colWithGap(8),Z.l0.p(8)],children:[(0,n.BX)(i.Z,{css:Z.l0.rowWithGap(8),children:[(0,n.tZ)("span",{css:[Z.l0.backgroundColor.backgroundHigher,Z.l0.height(84),Z.l0.width(84),Z.l0.borderRadius(4)]}),(0,n.BX)(i.Z,{css:[Z.l0.colWithGap(12),Z.l0.pt(4),Z.l0.flex.grow(1)],children:[(0,n.tZ)("span",{css:[Z.l0.backgroundColor.backgroundHigher,Z.l0.width(80),Z.l0.height(16),Z.l0.borderRadius(4)]}),(0,n.BX)(i.Z,{css:Z.l0.colWithGap(8),children:[(0,n.tZ)("span",{css:[Z.l0.backgroundColor.backgroundHigher,Z.l0.width("100%"),Z.l0.height(12),Z.l0.borderRadius(4)]}),(0,n.tZ)("span",{css:[Z.l0.backgroundColor.backgroundHigher,Z.l0.width("80%"),Z.l0.height(12),Z.l0.borderRadius(4)]})]})]})]}),(0,n.BX)(i.Z,{css:[Z.l0.flex.row,Z.l0.flex.grow(1),Z.l0.align.center,Z.l0.justify.spaceBetween],children:[(0,n.tZ)(i.Z,{css:Z.l0.rowWithGap(16),children:T(Array(3)).map((function(e,t){return(0,n.BX)(i.Z,{css:[Z.l0.rowWithGap(4),Z.l0.align.center],children:[(0,n.tZ)("span",{css:[Z.l0.backgroundColor.backgroundHigher,Z.l0.width(12),Z.l0.height(12),Z.l0.borderRadius(8)]}),(0,n.tZ)("span",{css:[Z.l0.backgroundColor.backgroundHigher,Z.l0.width(16),Z.l0.height(8),Z.l0.borderRadius(2)]})]},t)}))}),(0,n.tZ)(i.Z,{css:Z.l0.rowWithGap(4),children:T(Array(2)).map((function(e,t){return(0,n.tZ)("span",{css:[Z.l0.backgroundColor.backgroundHigher,Z.l0.width(48),Z.l0.height(24),Z.l0.borderRadius(16)]},t)}))})]})]})]})},F=r(64063),D=r.n(F),U=r(33108),X=r(56408),W=r(27291);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e,t,r,n,l,i,o){try{var a=e[i](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,l)}function H(e){return function(){var t=this,r=arguments;return new Promise((function(n,l){var i=e.apply(t,r);function o(e){M(i,n,l,o,a,"next",e)}function a(e){M(i,n,l,o,a,"throw",e)}o(void 0)}))}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,i=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(u){a=!0,l=u}finally{try{o||null==r.return||r.return()}finally{if(a)throw l}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e){return e.message||"Something went wrong saving updates to your Repl"}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K(e,t,r,n,l,i,o){try{var a=e[i](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,l)}function $(e){return function(){var t=this,r=arguments;return new Promise((function(n,l){var i=e.apply(t,r);function o(e){K(i,n,l,o,a,"next",e)}function a(e){K(i,n,l,o,a,"throw",e)}o(void 0)}))}}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,i=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(u){a=!0,l=u}finally{try{o||null==r.return||r.return()}finally{if(a)throw l}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e){var t,r,n,l,i,o,a;return e.error?e.error.message||"Something went wrong saving your Cover page":"NotFoundError"===(null===(t=e.data)||void 0===t||null===(r=t.setReplViewSettings)||void 0===r?void 0:r.__typename)||"UnauthorizedError"===(null===(n=e.data)||void 0===n||null===(l=n.setReplViewSettings)||void 0===l?void 0:l.__typename)||"UserError"===(null===(i=e.data)||void 0===i||null===(o=i.setReplViewSettings)||void 0===o?void 0:o.__typename)?e.data.setReplViewSettings.message:(null===(a=e.data)||void 0===a?void 0:a.setReplViewSettings)&&"ReplViewSettings"!==e.data.setReplViewSettings.__typename?"Something went wrong saving your Cover page":void 0}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J(e,t,r,n,l,i,o){try{var a=e[i](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,l)}function ee(e){return function(){var t=this,r=arguments;return new Promise((function(n,l){var i=e.apply(t,r);function o(e){J(i,n,l,o,a,"next",e)}function a(e){J(i,n,l,o,a,"throw",e)}o(void 0)}))}}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,i=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(u){a=!0,l=u}finally{try{o||null==r.return||r.return()}finally{if(a)throw l}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e){var t,r,n,l,i,o,a;return e.error?e.error.message||"Something went wrong saving your Repl Tags":"NotFoundError"===(null===(t=e.data)||void 0===t||null===(r=t.setReplTags)||void 0===r?void 0:r.__typename)||"UnauthorizedError"===(null===(n=e.data)||void 0===n||null===(l=n.setReplTags)||void 0===l?void 0:l.__typename)||"UserError"===(null===(i=e.data)||void 0===i||null===(o=i.setReplTags)||void 0===o?void 0:o.__typename)?e.data.setReplTags.message:(null===(a=e.data)||void 0===a?void 0:a.setReplTags)&&"Repl"!==e.data.setReplTags.__typename?"Something went wrong posting your Repl":void 0}var ne=r(64438),le=r(94692),ie=r(56834);function oe(e,t,r,n,l,i,o){try{var a=e[i](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,l)}function ae(e){return function(){var t=this,r=arguments;return new Promise((function(n,l){var i=e.apply(t,r);function o(e){oe(i,n,l,o,a,"next",e)}function a(e){oe(i,n,l,o,a,"throw",e)}o(void 0)}))}}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function se(e,t,r){return(se=ce()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var l=new(Function.bind.apply(e,n));return r&&he(l,r.prototype),l}).apply(null,arguments)}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}function pe(e,t){return!t||"object"!==ve(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ve=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ge(e){var t="function"===typeof Map?new Map:void 0;return ge=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return se(e,arguments,de(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),he(n,e)},ge(e)}function me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=de(e);if(t){var l=de(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return pe(this,r)}}var be,ye=1e3;function we(e){return"repl_file"===e||"repl_image"===e}!function(e){e.ReplFile="repl_file",e.ReplImage="repl_image"}(be||(be={}));var Ze=function(e){fe(r,e);var t=me(r);function r(){return ue(this,r),t.apply(this,arguments)}return r}(ge(Error)),xe=function(e){fe(r,e);var t=me(r);function r(){return ue(this,r),t.apply(this,arguments)}return r}(ge(Error)),Se=function(e){fe(r,e);var t=me(r);function r(){return ue(this,r),t.apply(this,arguments)}return r}(ge(Error));function ke(e){return e?e.length>60?{message:"Title should not be more than ".concat(60," characters")}:void 0:{message:"Give your Repl a title"}}function Re(e){return e?e.length>ye?{message:"Description should not be more than ".concat(ye," characters")}:void 0:{message:"What does this Repl do?"}}function Oe(e){var t,r,n,i,a,u=(0,U.Y)(e.replId||null,(function(e){return e?null:{message:"Select a Repl to share"}})),c=(0,o.Mq0)({variables:{id:u.value||""},skip:!u.value}),d="Repl"===(null===(t=c.data)||void 0===t?void 0:t.repl.__typename)?c.data.repl:null,f=Boolean(null===d||void 0===d?void 0:d.publishedAs),p=(0,U.Y)("",ke),h=(0,U.Y)("",Re),v=(0,U.Y)(null,(function(){return null})),g=(0,U.Y)(be.ReplImage,(function(){return null})),m=(0,U.Y)(null,(function(){return null})),b=(0,U.Y)("",e.fileValidator),y=(0,U.Y)([],(function(){return null})),w=(0,W.Z)(d),Z=(0,U.Y)(!1,(function(e){var t=w.current;return e&&(null===t||void 0===t?void 0:t.lastPublishedAt)?{message:"This Repl has already been published. Please unpublish before publishing as a Template."}:e||(null===t||void 0===t?void 0:t.publishedAs)!==o.O2h.Template?void 0:{message:"This Repl has already been published as a Template. Please unpublish before publishing as a Repl."}})),x=[u,p,h,v,g,m,y,b,Z],S=function(){var e=Y((0,o.F1G)(),2),t=e[0],r=e[1];function n(){return(n=$(s().mark((function e(n){var l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.loading){e.next=2;break}return e.abrupt("return",{data:null,error:null});case 2:return e.prev=2,e.next=5,t({variables:{input:n}});case 5:return l=e.sent,e.abrupt("return",{data:l.data,error:q(l)});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{data:null,error:"Something went wrong saving your Cover page"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return{data:r.data,loading:r.loading,error:q(r),setReplViewSettings:function(e){return n.apply(this,arguments)}}}(),k=function(){var e=te((0,o.nYE)(),2),t=e[0],r=e[1];function n(){return(n=ee(s().mark((function e(n){var l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.loading){e.next=2;break}return e.abrupt("return",{data:null,error:null});case 2:return e.prev=2,e.next=5,t({variables:{input:n}});case 5:return l=e.sent,e.abrupt("return",{data:l.data,error:re(l)});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{data:null,error:"Something went wrong saving your Repl Tags"});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return{data:r.data,loading:r.loading,error:re(r),setReplTags:function(e){return n.apply(this,arguments)}}}(),R=function(){var e=L((0,o.NfL)(),2),t=e[0],r=e[1];function n(){return(n=H(s().mark((function e(n){var l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.loading){e.next=2;break}return e.abrupt("return",{data:null,error:null});case 2:return e.prev=2,e.next=5,t({variables:{input:n}});case 5:return l=e.sent,e.abrupt("return",{data:l.data,error:null});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{data:null,error:z(e.t0)});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return{data:r.data,loading:r.loading,error:r.error&&z(r.error),updateRepl:function(e){return n.apply(this,arguments)}}}(),O=(0,ne.O)(),I=(0,le.r)(),C=(null===d||void 0===d||null===(r=d.replViewSettings)||void 0===r?void 0:r.defaultView)&&we(d.replViewSettings.defaultView)?d.replViewSettings.defaultView:be.ReplImage,P=(0,W.Z)(p.setValue),B=(0,W.Z)(h.setValue),T=(0,W.Z)(y.setValue),j=(0,W.Z)(v.setValue),A=(0,W.Z)(m.setValue),V=(0,W.Z)(g.setValue),E=(0,W.Z)(b.setValue),G=(0,W.Z)(Z.setValue);(0,l.useEffect)((function(){var e,t,r,n;d&&(G.current("Template"===d.publishedAs),V.current(C),E.current(null!==(t=null===(e=d.replViewSettings)||void 0===e?void 0:e.replFile)&&void 0!==t?t:""),P.current(d.isRenamed?d.title:"",{preventTouch:!0}),B.current(null!==(r=d.description)&&void 0!==r?r:"",{preventTouch:!0}),T.current(d.tags),j.current(d.iconUrl.endsWith(".svg")?null:d.iconUrl),A.current(null!==(n=d.imageUrl)&&void 0!==n?n:null))}),[d,A,j,T,P,B,C,V,E,G]);var F,_=(0,X.W)(v.setValue),M=_.previewUrl||v.value||(null===d||void 0===d?void 0:d.iconUrl)||(null===d||void 0===d?void 0:d.templateInfo.iconUrl),N=null!==(F=null===(n=x.filter((function(e){return(e!==b||g.value===be.ReplFile)&&e.error})))||void 0===n||null===(i=n[0])||void 0===i||null===(a=i.error)||void 0===a?void 0:a.message)&&void 0!==F?F:null;function K(){return(K=ae(s().mark((function e(){var t,r,n,l,i,a,u,c,f,w,Z;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=3;break}throw new Ze("Missing repl");case 3:if(r=d.title!==p.value,n=d.description!==h.value,l=d.iconUrl!==v.value,i="repl_image"===g.value&&d.imageUrl!==m.value,a=b.value&&"repl_file"===g.value&&(null===(t=d.replViewSettings)||void 0===t?void 0:t.replFile)!==b.value,u=g.value&&C!==g.value,c=!D()(d.tags,y.value),!(r||n||l)){e.next=18;break}if(!(p.error||h.error||v.error)){e.next=13;break}throw new Ze;case 13:return e.next=15,R.updateRepl({id:d.id,title:r?p.value:void 0,description:n?h.value:void 0,iconUrl:l?v.value:void 0});case 15:if(!(f=e.sent).error){e.next=18;break}throw new xe(f.error);case 18:if(!(u||i||a)){e.next=26;break}if(!(g.value===be.ReplImage&&m.error||g.value===be.ReplFile&&b.error)){e.next=21;break}throw new Ze;case 21:return e.next=23,S.setReplViewSettings({replId:d.id,defaultView:"repl_image"===g.value?o.bVG.ReplImage:o.bVG.ReplFile,replImage:i?m.value:void 0,replFile:a?b.value:void 0});case 23:if(!(w=e.sent).error){e.next=26;break}throw new xe(w.error);case 26:if(!c){e.next=34;break}if(!y.error){e.next=29;break}throw new Ze;case 29:return e.next=31,k.setReplTags({replId:d.id,tags:y.value.map((function(e){return e.id}))});case 31:if(!(Z=e.sent).error){e.next=34;break}throw new xe(Z.error);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=ae(s().mark((function t(){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d){t.next=2;break}throw new Ze("Missing repl");case 2:if(!N){t.next=4;break}throw new Ze(null!==N&&void 0!==N?N:"Something went wrong");case 4:if(!Z.value){t.next=12;break}return t.next=7,I.createDeployment({input:{replId:d.id,description:h.value,iconUrl:M||d.iconUrl}});case 7:if(!(r=t.sent).error){t.next=10;break}throw new Se(r.error);case 10:return(0,ie.j)(ie.U3.POST_MADE,{source:e.source,replType:"template_repl",title:p.value,description:h.value,tags:y.value.map((function(e){return e.id})),defaultView:g.value}),t.abrupt("return");case 12:return t.next=14,O.publish({input:{replId:d.id}});case 14:if(!(n=t.sent).error){t.next=17;break}throw new Se(n.error);case 17:(0,ie.j)(ie.U3.POST_MADE,{source:e.source,replType:"regular_repl",title:p.value,description:h.value,tags:y.value.map((function(e){return e.id})),defaultView:g.value});case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var J=R.loading||S.loading||k.loading,oe=R.error||S.error||k.error,ue=O.loading||I.loading,ce=O.error||I.error;return{selectedRepl:d,isReplLoading:c.loading,replLoadingError:c.error,replIdField:u,replTitleField:p,replDescriptionField:h,iconUrlField:v,coverDefaultViewField:g,coverUrlField:m,coverFileField:b,tagsField:y,isTemplateField:Z,replIconInput:_,replIconUrl:M,inputError:N,save:function(){return K.apply(this,arguments)},isSaving:J,savingError:oe,publish:function(){return Q.apply(this,arguments)},isPublishing:ue,publishingError:ce,isPublished:f}}var Ie=l.createContext(null),Ce=function(e){var t=l.useContext(Ie);if(!t)throw new Error("usePublishField must be used within a PublishInputContext");return t["".concat(e,"Field")]},Pe=function(){var e=l.useContext(Ie);if(!e)throw new Error("usePublishForm must be used within a PublishInputContext");return e},Be=r(27802),Te=r(94590),je=r(96594),Ae=r(85060),Ve=r(90652),Ee=r(40746);function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fe(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ge(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var De=/^[0-9a-zA-Z]+$/,Ue=function(e){return e.id};function Xe(e){var t=e.onSelect,r=e.filter,n=void 0===r?function(){return!0}:r,i=(0,l.useState)(""),a=i[0],u=i[1],c=(0,Ve.Z)(a,100),s=(0,W.Z)(t),d=function(e){var t=e.search,r=e.filter,n=(0,o.zdu)({variables:{limit:t?10:3,search:t}}).data,i=(0,l.useState)({official:[],community:[]}),a=i[0],u=i[1],c=(0,l.useMemo)((function(){if(n){var e=[],l=[],i=new Set,o=!0,a=!1,u=void 0;try{for(var c,s=n.tagGroups.official[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var d=c.value;i.add(d.id.toLowerCase()),r(d)&&e.push(d)}}catch(y){a=!0,u=y}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}var f=!0,p=!1,h=void 0;try{for(var v,g=n.tagGroups.community[Symbol.iterator]();!(f=(v=g.next()).done);f=!0){var m=v.value;i.add(m.id.toLowerCase()),r(m)&&l.push(m)}}catch(y){p=!0,h=y}finally{try{f||null==g.return||g.return()}finally{if(p)throw h}}var b=t&&0===l.length&&!i.has(t.toLowerCase())?{id:t,isOfficial:!1}:void 0;return{official:e,community:l,newTag:b&&r(b)?b:void 0}}}),[n,r,t]);return(0,l.useEffect)((function(){if(c){var e=c.official,t=c.community,r=c.newTag;u((function(n){return{official:(0,Ee.Z)(e,{existing:n.official,getKey:Ue}),community:(0,Ee.Z)(t,{existing:n.community,getKey:Ue}),newTag:r}}))}}),[c]),{tagGroups:a,reset:function(){u({official:[],community:[]})}}}({search:c,filter:n}),f=d.tagGroups,p=d.reset,h=(0,je.Kb)({inputValue:a,items:f.newTag?[f.newTag]:Fe(f.official).concat(Fe(f.community)),defaultHighlightedIndex:0,itemToString:function(e){return e?e.id:""},onSelectedItemChange:function(e){e.selectedItem&&(p(),u(""),h.reset(),h.openMenu())}});return(0,Ae.Z)((function(){h.selectedItem&&s.current(h.selectedItem)}),[h.selectedItem]),{tagGroups:f,combobox:h,onChange:function(e){var t=e.currentTarget.value;t&&!De.test(t)||t.length>30||u(t)}}}var We=r(24506),_e=r(79162),Me=r(37466);function He(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){He(e,t,r[t])}))}return e}var ze=(0,i.K)("ul"),Ne=(0,i.K)("li");function Ke(e){var t=e.children;return(0,n.tZ)(i.Z,{css:[Z.l0.px(8),Z.l0.pt(8)],children:(0,n.tZ)(y.x,{css:[{textTransform:"uppercase"}],variant:"small",color:"dimmer",children:t})})}function $e(e){var t=e.highlighted,r=e.tag;return(0,n.tZ)(i.Z,{css:[Z.l0.rowWithGap(8),Z.l0.p(8),t&&{backgroundColor:We.gU.listItem[":not([disabled])"][":active"].backgroundColor},{cursor:"pointer"}],children:(0,n.BX)(i.Z,{css:[Z.l0.flex.growAndShrink(1),Z.l0.rowWithGap(4)],children:[(0,n.tZ)(y.x,{children:r.id}),r.isOfficial?(0,n.tZ)(Me.Z,{}):null]})})}var Ye=l.memo((function(e){var t=e.getItemProps,r=e.highlightedIndex,l=e.data;return"newTag"===l.type?(0,n.tZ)(_e.Z,{css:[Z.l0.minWidth(200)],children:(0,n.BX)(Ne,{children:[(0,n.tZ)(Ke,{children:"Community Tags"}),(0,n.tZ)(y.x,{css:[Z.l0.p(8),Z.l0.pt(16)],color:"dimmest",children:"No tags found"}),(0,n.tZ)(ze,{children:(0,n.tZ)(Ne,Le({},t({item:l.newTag,index:0}),{css:[Z.l0.p(8)],children:(0,n.BX)(w.Z,{elevated:!0,css:[Z.l0.borderRadius(8),Z.l0.p(8),{cursor:"pointer"}],children:['Create "',l.newTag.id,'" tag']})}))})]})}):(0,n.tZ)(_e.Z,{css:[Z.l0.minWidth(200)],children:l.sections.reduce((function(e,l){return e.sections.push((0,n.BX)(Ne,{children:[(0,n.tZ)(Ke,{children:l.title}),(0,n.tZ)(ze,{css:[Z.l0.pt(4),Z.l0.pb(8)],children:l.tags.map((function(l){var i=e.itemIndex++;return(0,n.tZ)(Ne,Le({},t({item:l,index:i}),{children:(0,n.tZ)($e,{tag:l,highlighted:r===i})}),l.id)}))})]},l.title)),e}),{sections:[],itemIndex:0}).sections})}));function qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){qe(e,t,r[t])}))}return e}var Je=(0,i.K)("div"),et=(0,i.K)("input"),tt=(0,b.iv)([Z.l0.fontSize(12),Z.l0.pl(24),Z.l0.pr(8),Z.l0.py(4)]);function rt(){return(0,n.tZ)(y.x,{css:[Z.l0.px(4),Z.l0.flex.row,Z.l0.align.center,Z.l0.position.absolute,Z.l0.height("100%"),Z.l0.color.foregroundDefault,{top:0,left:4,pointerEvents:"none"}],children:(0,n.tZ)(Te.Z,{size:12})})}function nt(e){var t=e.text,r=e.children;return(0,n.BX)(w.Z,{elevated:!0,css:[Z.l0.position.relative,Z.l0.minWidth(30),Z.l0.borderRadius(16),{border:"1px solid transparent","&:focus-within":{borderColor:Z.TV.outlineDimmer,backgroundColor:"transparent"}}],children:[(0,n.tZ)(rt,{}),(0,n.tZ)(y.x,{css:[{visibility:"hidden"},tt],children:t}),r]})}function lt(e){var t=e.onSelect,r=Xe({filter:e.filter,onSelect:t}),o=r.combobox,a=r.tagGroups,u=r.onChange,c=(0,l.useMemo)((function(){return function(e){if(e.newTag)return{type:"newTag",newTag:e.newTag};var t=[];return e.official.length&&t.push({title:"Official Tags",tags:e.official}),e.community.length&&t.push({title:"Community Tags",tags:e.community}),0===t.length?null:{type:"sections",sections:t}}(a)}),[a]),s="Add tag";return(0,n.BX)(i.Z,{children:[(0,n.tZ)(Je,Qe({},o.getComboboxProps(),{css:[Z.l0.flex.row],children:(0,n.tZ)(nt,{text:o.inputValue||s,children:(0,n.tZ)(et,Qe({css:[Z.l0.coverContainer,tt,Z.l0.color.foregroundDefault,{backgroundColor:"transparent","&::placeholder":Z.l0.color.foregroundDefault,"&:focus::placeholder":Z.l0.color.foregroundDimmest}]},o.getInputProps({placeholder:s,onChange:u,onFocus:function(){o.openMenu()}})))})})),(0,n.tZ)(Je,Qe({},o.getMenuProps(),{css:[Z.l0.position.relative],children:c&&o.isOpen?(0,n.tZ)(Ye,{getItemProps:o.getItemProps,highlightedIndex:o.highlightedIndex,data:c}):null}))]})}function it(e){var t=e.tags,r=e.max,l=void 0===r?5:r,o=e.onAdd,a=e.onRemove,u=t.map((function(e){return e.id}));return(0,n.BX)(i.Z,{css:[Z.l0.flex.row,Z.l0.flex.wrap,{margin:"calc(-1 * ".concat(Z.TV.space4,")")}],children:[t.map((function(e,t){return(0,n.tZ)(i.Z,{css:[Z.l0.m(4)],children:(0,n.tZ)(Be.g,{small:!0,tag:e,onClick:function(){return a(t)}})},e.id)})),t.length<l?(0,n.tZ)(i.Z,{css:[Z.l0.m(4)],children:(0,n.tZ)(lt,{onSelect:o,filter:function(e){return!u.includes(e.id.toLowerCase())}})}):null]})}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function at(e){return function(e){if(Array.isArray(e))return ot(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ot(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ot(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ut=function(){var e=Ce("tags");return(0,n.BX)(a.G7,{css:[a.l0.colWithGap(8)],children:[(0,n.tZ)(a.G7,{css:[a.l0.colWithGap(4)],children:(0,n.tZ)(it,{max:5,tags:e.value,onAdd:function(t){return e.setValue(at(e.value).concat([t]))},onRemove:function(t){return e.setValue(at(e.value.slice(0,t)).concat(at(e.value.slice(t+1))))}})}),(0,n.BX)(a.G7,{css:a.l0.rowWithGap(4),children:[(0,n.tZ)(a.xv,{color:"dimmer",variant:"small",children:"Adding tags helps others find your Repl."}),(0,n.BX)(a.xv,{color:"dimmest",variant:"small",children:[e.value.length,"/",5]})]})]})},ct=r(89957),st=r(9917),dt=r(88503),ft=r(45718),pt=r(19815);function ht(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ht(e,t,r[t])}))}return e}var gt=(0,i.K)("div"),mt=(0,i.K)("li"),bt={searchValue:"",loading:!1,repls:[]};function yt(e,t){switch(t.type){case"data":var r,n=(null===(r=t.data.currentUser)||void 0===r?void 0:r.publishableReplSearch)||[];return vt({},e,{loading:!1,repls:(0,Ee.Z)(n,{existing:e.repls,getKey:function(e){return e.id}})});case"loading":return vt({},e,{loading:!0});case"searchValue":return vt({},e,{searchValue:t.searchValue})}}function wt(e){var t;return e?"".concat(null===(t=e.owner)||void 0===t?void 0:t.username,"/").concat(e.title):""}function Zt(e){var t,r=l.useRef(null);(0,pt.rf)((function(){var t;e.selectedRepl&&(null===(t=r.current)||void 0===t||t.blur())}),[e.selectedRepl]);var o=(null===(t=e.selectedRepl)||void 0===t?void 0:t.iconUrl)&&e.inputValue&&wt(e.selectedRepl)===e.inputValue?(0,n.tZ)(i.Z,{css:[Z.l0.px(8),Z.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:(0,n.tZ)(k.ZP,{alt:e.selectedRepl.title,iconUrl:e.selectedRepl.iconUrl,size:16})}):null;return(0,n.BX)(i.Z,{css:[{position:"relative"}],children:[(0,n.BX)(gt,vt({},e.getComboboxProps(),{css:{position:"relative"},children:[o,(0,n.tZ)(ct.ZP,vt({css:[Z.l0.pr(32),o&&Z.l0.pl(32)]},e.getInputProps({placeholder:"Search for a Repl",onFocus:e.onFocus,ref:r}))),(0,n.tZ)(i.Z,{css:[Z.l0.center,Z.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:e.loading&&e.isOpen?(0,n.tZ)(u.Z,{}):(0,n.tZ)(dt.Z,{})})]})),(0,n.tZ)(gt,vt({},e.getMenuProps(),{css:{position:"relative"},children:e.isOpen?(0,n.BX)(_e.Z,{children:[e.loading&&0===e.repls.length?(0,n.tZ)(mt,{css:[Z.l0.center,Z.l0.py(32)],children:(0,n.tZ)(u.Z,{})}):null,e.loading||0!==e.repls.length?null:(0,n.tZ)(mt,{css:[Z.l0.center,Z.l0.py(32)],children:(0,n.tZ)(y.x,{color:"dimmer",variant:"small",children:"No repls found"})}),e.repls.map((function(t,r){return(0,n.tZ)(mt,vt({},e.getItemProps({item:t,index:r}),{children:(0,n.tZ)(ft.Z,{filter:"",title:wt(t),subtitle:(0,st.F)(t.timeUpdated),selected:e.selectedRepl===t,highlighted:e.highlightedIndex===r,icon:t.iconUrl?(0,n.tZ)(k.ZP,{iconUrl:t.iconUrl,alt:t.title,size:16}):void 0})}),t.id)}))]}):null}))]})}var xt=r(37424);function St(e){var t=e.error,r=e.cypressHandle;return t?(0,n.BX)(a.G7,{css:[a.l0.rowWithGap(4),a.l0.align.center],children:[(0,n.tZ)(d.Z,{css:[a.l0.color.accentNegativeDefault]}),(0,n.tZ)(a.xv,{multiline:!0,css:[a.l0.flex.growAndShrink(1)],"data-cy":r,children:t.message})]}):null}function kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){kt(e,t,r[t])}))}return e}var Ot=(0,a.KD)("label"),It=l.forwardRef((function(e,t){return(0,n.tZ)(Ot,Rt({},e,{ref:t,css:a.l0.color.foregroundDimmer}))})),Ct=function(){var e=(0,xt.H)()("repl"),t=Ce("replId"),r=Ce("iconUrl"),i=function(){var e=(0,l.useReducer)(yt,bt),t=e[0],r=e[1],n=(0,Ve.Z)(t.searchValue,200),i=(0,o.b1W)({variables:{search:n},notifyOnNetworkStatusChange:!0,onCompleted:function(e){r({type:"data",data:e})}}).loading;(0,l.useEffect)((function(){i&&r({type:"loading"})}),[i]);var a=(0,l.useCallback)((function(e){return r({type:"searchValue",searchValue:e})}),[]);return{repls:t.repls,loading:t.loading,searchValue:t.searchValue,setSearchValue:a}}(),u=(0,je.Kb)({id:e,items:i.repls,initialHighlightedIndex:-1,onInputValueChange:function(e){var t=e.inputValue;i.setSearchValue(t)},onSelectedItemChange:function(e){(null===e||void 0===e?void 0:e.selectedItem)&&(t.setValue(e.selectedItem.id),u.closeMenu())},itemToString:wt});return(0,n.BX)(a.G7,{css:[a.l0.colWithGap(4)],children:[(0,n.tZ)(It,{css:a.l0.color.foregroundDimmer,htmlFor:e,children:"Repl"}),(0,n.tZ)(Zt,{getComboboxProps:u.getComboboxProps,getInputProps:u.getInputProps,getItemProps:u.getItemProps,getMenuProps:u.getMenuProps,isOpen:u.isOpen,highlightedIndex:u.highlightedIndex,inputValue:u.inputValue,selectedRepl:u.selectedItem?Rt({},u.selectedItem,{iconUrl:r.value||u.selectedItem.iconUrl}):void 0,repls:i.repls,loading:i.loading,onFocus:function(e){u.selectedItem&&(e.preventDefault(),e.currentTarget.select(),i.setSearchValue("")),u.openMenu()}})]})},Pt=function(){var e=(0,xt.H)(),t=e("replName"),r=e("replDescription"),l=Pe(),i=l.replIdField,o=l.replTitleField,u=l.replDescriptionField,c=l.isSaving,s=l.selectedRepl,d=s&&!s.isRenamed?"Default name: ".concat(s.title):"Enter a name for your Repl";return(0,n.BX)(a.G7,{css:[a.l0.colWithGap(16),a.l0.flex.growAndShrink(1)],children:[(!i.value||i.touched)&&(0,n.tZ)(Ct,{}),(0,n.BX)(a.G7,{css:[a.l0.colWithGap(4)],children:[(0,n.BX)(a.G7,{css:[a.l0.flex.row,a.l0.align.baseline,a.l0.justify.spaceBetween],children:[(0,n.tZ)(It,{css:[a.l0.color.foregroundDimmer,{lineHeight:a.TV.lineHeightSmall}],htmlFor:t,children:"Repl name"}),(0,n.BX)(a.xv,{css:{color:o.value.length>60?a.TV.accentNegativeStronger:a.TV.foregroundDimmest},children:[o.value.length,"/",60]})]}),(0,n.tZ)(a.II,{id:t,disabled:!i.value||c,value:o.value,onChange:function(e){o.setValue(e.currentTarget.value)},placeholder:d,"data-cy":"publish-form-repl-title-input"}),o.touched&&(0,n.tZ)(St,{error:o.error,cypressHandle:"publish-form-repl-title-error"})]}),(0,n.BX)(a.G7,{css:[a.l0.colWithGap(4)],children:[(0,n.BX)(a.G7,{css:[a.l0.flex.row,a.l0.align.baseline,a.l0.justify.spaceBetween],children:[(0,n.tZ)(It,{css:[a.l0.color.foregroundDimmer,{lineHeight:a.TV.lineHeightSmall}],htmlFor:r,children:"Repl description"}),(0,n.BX)(a.xv,{css:{color:u.value.length>ye?a.TV.accentNegativeStronger:a.TV.foregroundDimmest},children:[u.value.length,"/",ye]})]}),(0,n.tZ)(a.B,{id:r,value:u.value,disabled:!i.value||c,onChange:function(e){u.setValue(e.currentTarget.value)},placeholder:"What does this Repl do?",css:[a.l0.minHeight(128),a.l0.maxHeight(256),{resize:"vertical"}],"data-cy":"publish-form-repl-description-input"}),u.touched&&(0,n.tZ)(St,{error:u.error,cypressHandle:"publish-form-repl-description-error"})]})]})},Bt=function(e){var t=e.showPlayButton,r=e.children;return(0,n.BX)("div",{css:{position:"relative",aspectRatio:"".concat(268,"/").concat(164),overflow:"hidden"},children:[(0,n.tZ)("div",{css:{position:"absolute",top:"calc(".concat(18," / ").concat(164," * 100%)"),bottom:"calc(".concat(1," / ").concat(164," * 100%)"),left:"calc(".concat(1," / ").concat(268," * 100%)"),right:"calc(".concat(1," / ").concat(268," * 100%)"),borderBottomLeftRadius:4,borderBottomRightRadius:4,overflow:"hidden"},children:r}),(0,n.BX)("svg",{viewBox:"0 0 268 164",fill:"none",xmlns:"http://www.w3.org/2000/svg",css:{position:"relative"},children:[(0,n.tZ)("rect",{width:"268",height:"17",fill:a.TV.backgroundDefault}),(0,n.tZ)("rect",{x:"241.5",y:"4.5",width:"22",height:"10",rx:"2",fill:a.TV.accentPositiveDimmer}),(0,n.tZ)("rect",{x:"228.5",y:"4.5",width:"10",height:"10",rx:"2",fill:a.TV.backgroundHighest}),(0,n.tZ)("rect",{x:"4.5",y:"4.5",width:"32",height:"10",rx:"2",fill:a.TV.backgroundHighest}),(0,n.tZ)("rect",{x:"1",y:"18",width:"266",height:"1",fill:a.TV.outlineDimmer}),t&&(0,n.tZ)("path",{d:"M142.225 90.5642C142.565 90.7554 142.565 91.2446 142.225 91.4358L127.745 99.5809C127.412 99.7683 127 99.5275 127 99.1451L127 82.8549C127 82.4725 127.412 82.2317 127.745 82.4191L142.225 90.5642Z",fill:a.TV.white}),(0,n.tZ)("rect",{x:"1",y:"1",width:"266",height:"162",rx:"4",stroke:a.TV.outlineDimmer,strokeWidth:"1"})]})]})},Tt=r(72829);function jt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function At(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){jt(e,t,r[t])}))}return e}var Vt=function(e){var t=function(e){var t=l.useRef(null),r={onClick:function(e){var r;return e.preventDefault(),e.stopPropagation(),null===(r=t.current)||void 0===r?void 0:r.click()}};return{inputProps:{onChange:function(t){var r=t.target,n=r.validity,l=r.files;if(n.valid){var i=l?l[0]:null;i&&e(i)}},"aria-hidden":"true",ref:t,accept:Tt.W9.join(","),type:"file"},buttonProps:r,inputRef:t}}(e.onFile),r=t.inputProps,i=t.buttonProps;return(0,n.BX)(n.HY,{children:[(0,n.tZ)("input",At({},r,{css:{display:"none"}})),l.cloneElement(e.children,i)]})},Et=r(20255),Gt=r(67289);function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dt(e,t,r,n,l,i,o){try{var a=e[i](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,l)}function Ut(e){return function(){var t=this,r=arguments;return new Promise((function(n,l){var i=e.apply(t,r);function o(e){Dt(i,n,l,o,a,"next",e)}function a(e){Dt(i,n,l,o,a,"throw",e)}o(void 0)}))}}function Xt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,i=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(u){a=!0,l=u}finally{try{o||null==r.return||r.return()}finally{if(a)throw l}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ft(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e){return e.slice().sort((function(e,t){return e.localeCompare(t)})).map((function(e){return{file:e,pathDepth:(0,Gt.U$)(e)}})).sort((function(e,t){return e.pathDepth-t.pathDepth})).map((function(e){return e.file}))}function Mt(e){var t=e.fs,r=Wt(l.useState({isLoading:!0,error:null,files:[]}),2),n=r[0],i=r[1];return l.useEffect((function(){function e(){return(e=Ut(s().mark((function e(){var r,n,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.listFiles();case 3:if(!(r=e.sent).error){e.next=6;break}throw new Error(r.error);case 6:l=_t(null!==(n=r.files)&&void 0!==n?n:[]),i({isLoading:!1,error:null,files:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),i({isLoading:!1,error:"Could not load files",files:[]});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Xt(e,t,r[t])}))}return e}({},n)}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Lt(e,t,r[t])}))}return e}function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,i=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(u){a=!0,l=u}finally{try{o||null==r.return||r.return()}finally{if(a)throw l}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ht(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Kt=(0,a.KD)("ol"),$t=(0,a.KD)("li"),Yt=(0,b.iv)([Z.l0.py(4),Z.l0.borderRadius(8),{border:"1px solid ".concat(a.TV.outlineDimmest),borderRadius:a.TV.borderRadius8,backgroundColor:a.vb.interactiveBackground,zIndex:a.n0,maxHeight:300,position:"absolute",overflowY:"auto",width:"100%",left:0,top:a.TV.space8,listStyle:"none"}]),qt={backgroundColor:a.vb.interactiveBackgroundActive},Qt={backgroundColor:a.TV.accentPrimaryDefault},Jt=(0,b.iv)([Z.l0.p(8),{":not([disabled])":{cursor:"pointer",":hover":zt({},qt),":active":zt({},Qt)}}]);function er(e){var t=e.fs,r=e.initiallySelectedFile,i=e.onFileSelect,o=e.onClear,u=l.useRef(null),c=Mt({fs:t}),s=c.isLoading,d=c.files,f=c.error,p=function(e){var t=e.files,r=e.inputRef,n=e.initiallySelectedFile,i=Nt(l.useState(!1),2),o=i[0],a=i[1],u=Nt(l.useState(t),2),c=u[0],s=u[1],d=l.useCallback((function(e){return t.filter((function(t){return t.toLowerCase().includes(e.toLowerCase())}))}),[t]),f=(0,je.Kb)({items:c,isOpen:o,initialInputValue:n,initialSelectedItem:c.find((function(e){return e===n})),onIsOpenChange:function(e){a(Boolean(e.isOpen))},onInputValueChange:function(e){var t;s(d(null!==(t=e.inputValue)&&void 0!==t?t:""))}}),p=l.useCallback((function(){var e;a(!1),null===(e=r.current)||void 0===e||e.blur()}),[r]);return l.useEffect((function(){var e;s(d(null!==(e=f.inputValue)&&void 0!==e?e:""))}),[t,d,f.inputValue]),l.useEffect((function(){f.selectedItem&&p()}),[f.selectedItem,p]),zt({},f,{closeMenu:p,items:c})}({files:d,inputRef:u,initiallySelectedFile:r}),h=(0,W.Z)(i);return l.useEffect((function(){p.selectedItem&&h.current(p.selectedItem)}),[p.selectedItem,h]),(0,n.BX)(a.G7,{children:[(0,n.tZ)(a.G7,zt({},p.getComboboxProps({refKey:"innerRef"}),{css:[Z.l0.position.relative],children:(0,n.tZ)(a.E1,zt({},p.getInputProps({onFocus:p.openMenu,ref:u,refKey:"inputRef",disabled:s,placeholder:"Search your files"}),{onClear:function(){var e;p.reset(),null===(e=u.current)||void 0===e||e.focus(),o()},loading:s}))})),(0,n.BX)(a.G7,zt({},p.getMenuProps({refKey:"innerRef"}),{css:[Z.l0.position.relative],children:[f&&(0,n.tZ)(a.G7,{css:[Z.l0.p(8)],children:(0,n.tZ)(a.xv,{children:"Something went wrong loading your files. Please try again."})}),!f&&p.isOpen&&(0,n.tZ)(Kt,{css:[Yt],children:p.items.length>0?p.items.map((function(e,t){return(0,n.tZ)($t,zt({css:[Jt,p.highlightedIndex===t&&qt,e===p.selectedItem&&Qt]},p.getItemProps({item:e,index:t,onClick:function(){p.closeMenu()}}),{children:(0,n.tZ)(a.xv,{children:e})}),e)})):(0,n.tZ)($t,{css:[Z.l0.p(8)],children:(0,n.BX)(a.xv,{children:['No files found for "',p.inputValue,'"']})})})]}))]})}var tr=r(45309),rr=[{value:be.ReplImage,text:"Photo"},{value:be.ReplFile,text:"File"}],nr=function(e){var t=e.fs,r=(0,xt.H)(),l=r("coverPage"),i=Pe(),o=i.selectedRepl,u=i.coverFileField,c=i.coverUrlField,s=i.coverDefaultViewField,d=(0,X.W)(c.setValue);return(0,n.BX)(a.G7,{css:[a.l0.colWithGap(16)],children:[(0,n.BX)(a.G7,{css:a.l0.colWithGap(12),children:[(0,n.tZ)(a.G7,{css:[a.l0.rowWithGap(8)],children:(0,n.tZ)(a.Ee,{tag:"fieldset",css:[a.l0.rowWithGap(24)],name:l,value:s.value,onChange:function(e){we(e.target.value)&&s.setValue(e.target.value)},children:rr.map((function(e){return(0,n.BX)(a.G7,{css:[a.l0.rowWithGap(8)],children:[(0,n.tZ)(a.Y8,{id:r(e.value),value:e.value}),(0,n.tZ)("label",{htmlFor:r(e.value),children:e.text})]},e.value)}))})}),s.value===be.ReplImage&&(0,n.tZ)(n.HY,{children:(0,n.tZ)(Vt,{onFile:function(e){return d.uploadImage(e,tr.N.ReplCoverImage)},children:(0,n.tZ)(a.zx,{text:"Upload a cover photo",iconLeft:(0,n.tZ)(Et.Z,{})})})}),s.value===be.ReplFile&&(0,n.BX)(a.G7,{css:[a.l0.colWithGap(4)],children:[(0,n.tZ)(er,{fs:t,initiallySelectedFile:u.value,onFileSelect:u.setValue,onClear:function(){return u.setValue("")}},null===o||void 0===o?void 0:o.id),(0,n.tZ)(St,{error:u.error})]})]}),s.value===be.ReplImage&&(0,n.tZ)(Bt,{showPlayButton:s.value===be.ReplImage&&!!c.value,children:s.value===be.ReplImage&&!!c.value&&(0,n.tZ)("img",{src:c.value,alt:"cover",width:"100%"})})]})},lr=r(35060),ir=function(){var e=Ce("iconUrl"),t=Pe(),r=t.replIconInput,l=t.replIconUrl,i=Boolean(e.value&&!e.value.endsWith(".svg"));return(0,n.BX)(a.G7,{css:[a.l0.colWithGap(16),a.l0.align.center],children:[(0,n.BX)(a.G7,{css:[a.l0.colWithGap(8)],children:[(0,n.BX)(a.G7,{css:[a.l0.rowWithGap(8)],children:[(0,n.tZ)(Vt,{onFile:function(e){return r.uploadImage(e,tr.N.ReplIcon)},css:a.l0.backgroundColor.accentNegativeDefault,children:(0,n.tZ)(a.zx,{text:i?"Change image":"Upload image",iconLeft:(0,n.tZ)(Et.Z,{}),css:[a.l0.backgroundColor.backgroundHigher],type:"button",stretch:!0})}),i&&(0,n.tZ)(a.zx,{text:"Remove image",onClick:function(){return e.setValue(null)},css:[a.l0.color.accentNegativeStronger,a.l0.backgroundColor.backgroundHigher],iconLeft:(0,n.tZ)(lr.Z,{}),type:"button"})]}),r.error?(0,n.tZ)(a.G7,{children:(0,n.tZ)(a.E_,{icon:(0,n.tZ)(d.Z,{}),colorway:"negative",text:r.error,closable:!0,closeAction:r.clearError})}):null]}),(0,n.tZ)(k.LN,{alt:"icon",size:84,iconUrl:l,isLoading:Boolean(r.previewUrl),css:[a.l0.backgroundColor.backgroundHigher]})]})},or=r(92876),ar=r(56700),ur=r(81544),cr=r(48390),sr=r(27754),dr=r(35932),fr=r(11938);function pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,i=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(u){a=!0,l=u}finally{try{o||null==r.return||r.return()}finally{if(a)throw l}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vr(e){var t=e.repl,r=e.currentUser,n=hr(l.useState(""),2),i=n[0],o=n[1],a=hr(l.useState((function(){return function(e){var t=e.setBsodSentryEventId,r=(0,sr.Z)({onUnrecoverableError:function(e){or.Tb(e);var r=(0,dr.Z)(e,{tags:{publish2:"true"}});t(r)}}),n=(0,cr.Z)({container:r});return{container:r,fs:n,dotReplit:(0,fr.Z)({container:r,fs:n})}}({setBsodSentryEventId:o})})),1),u=a[0],c=u.container,s=u.fs,d=u.dotReplit,f=hr(l.useState((function(){return c.getConnectionState()===ar.e.CONNECTED})),2),p=f[0],h=f[1],v=(0,ur.b)(t?{repl:t,currentUser:r}:null);return l.useEffect((function(){if(t&&v&&c.getConnectionState()===ar.e.DISCONNECTED)return c.connect({context:v}),function(){return c.close()}}),[t,c,v]),l.useEffect((function(){return c.onConnectionStateChanged((function(e){h(e===ar.e.CONNECTED)}))}),[c]),{isConnected:p,container:c,fs:s,dotReplit:d,didBsod:Boolean(i),devClearBsod:function(){return o("")}}}var gr=r(17221),mr=r(46846);function br(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yr(e,t,r,n,l,i,o){try{var a=e[i](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,l)}function wr(e){return function(){var t=this,r=arguments;return new Promise((function(n,l){var i=e.apply(t,r);function o(e){yr(i,n,l,o,a,"next",e)}function a(e){yr(i,n,l,o,a,"throw",e)}o(void 0)}))}}function Zr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,i=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(u){a=!0,l=u}finally{try{o||null==r.return||r.return()}finally{if(a)throw l}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return br(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return br(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e){var t=e.dotReplit,r=xr(l.useState({isLoading:!0,error:null,entryPoint:null}),2),n=r[0],i=r[1];return l.useEffect((function(){function e(){return(e=wr(s().mark((function e(){var r,n,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,t.getConfig();case 4:if(!(n=e.sent).error){e.next=7;break}throw new Error(n.errorMessage);case 7:i({isLoading:!1,error:null,entryPoint:null!==(l=null===n||void 0===n||null===(r=n.config)||void 0===r?void 0:r.entrypoint)&&void 0!==l?l:null}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),i({isLoading:!1,error:"Could not load .replit config",entryPoint:null});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Zr(e,t,r[t])}))}return e}({},n)}var kr=r(8286),Rr=(0,a.KD)("button"),Or=function(){return(0,n.tZ)(i.Z,{css:[a.l0.flex.row,a.l0.flex.grow(1),{borderTop:"1px solid ".concat(a.TV.outlineDimmest)}]})},Ir=function(e){var t=e.isActive,r=e.isComplete,l=e.children,i=e.onClick,o=e.disabled;return(0,n.BX)(Rr,{type:"button",css:[a.d$,a.l0.position.relative,a.gU.nofill,t&&a.l0.backgroundColor.backgroundHigher,a.l0.p(4),a.l0.borderRadius(4)],onClick:i,disabled:o,children:[(0,n.tZ)(a.xv,{variant:"small",children:l}),r&&(0,n.tZ)(kr.Z,{size:6,strokeWidth:6,color:a.TV.foregroundDimmer,css:[a.l0.position.absolute,{top:2,right:-2}]})]})},Cr=function(){var e=Ce("isTemplate"),t=(0,xt.H)()("templateCheckbox");return(0,n.BX)(a.G7,{css:[a.l0.colWithGap(8)],children:[(0,n.BX)(a.G7,{css:[a.l0.colWithGap(8)],children:[(0,n.BX)(a.G7,{css:[a.l0.rowWithGap(8)],children:[(0,n.tZ)(a.XZ,{id:t,checked:e.value,onChange:function(t){return e.setValue(t.target.checked)}}),(0,n.tZ)("label",{htmlFor:t,children:"Publish Repl as a Template"})]}),(0,n.tZ)(St,{error:e.error})]}),(0,n.tZ)(a.xv,{variant:"small",color:"dimmer",multiline:!0,children:"This is a good option for Repls meant as starting points for future work."}),(0,n.tZ)(a.xv,{variant:"small",multiline:!0,css:a.l0.color.orangeStrongest,children:"Please include a README or other explanation of your template in order to be considered for a feature."})]})},Pr=r(79399),Br=r(65684);function Tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jr(e,t,r,n,l,i,o){try{var a=e[i](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,l)}function Ar(e){return function(){var t=this,r=arguments;return new Promise((function(n,l){var i=e.apply(t,r);function o(e){jr(i,n,l,o,a,"next",e)}function a(e){jr(i,n,l,o,a,"throw",e)}o(void 0)}))}}function Vr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Vr(e,t,r[t])}))}return e}function Gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,i=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(u){a=!0,l=u}finally{try{o||null==r.return||r.return()}finally{if(a)throw l}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Tr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Fr=(0,a.KD)("form"),Dr=function(e){var t=e.user,r=Pe(),l=r.selectedRepl,i=r.replTitleField,o=r.replDescriptionField,c=r.replIconUrl,s=r.tagsField,d=r.isTemplateField;return(0,n.BX)(a.Tg,{background:"root",css:[Vr({},(0,v.et)("tabletMin"),{display:"flex"}),a.l0.flex.growAndShrink(1),a.l0.p(16),a.l0.colWithGap(12),a.l0.align.center,a.l0.display.none],children:[(0,n.tZ)(a.xv,{variant:"small",color:"dimmer",css:[a.l0.width("100%"),{fontWeight:a.TV.fontWeightMedium}],children:"Preview"}),(0,n.BX)(a.G7,{css:[a.l0.width("100%"),a.l0.maxWidth(432),a.l0.position.relative],children:[(0,n.tZ)(a.G7,{css:{position:"absolute",zIndex:2,inset:0,boxShadow:"inset 0 48px 24px -24px "+a.TV.backgroundRoot+", inset 0 -48px 24px -24px "+a.TV.backgroundRoot}}),(0,n.BX)(a.G7,{css:[a.l0.height(416),a.l0.colWithGap(24),a.l0.justify.center,a.l0.overflow("hidden"),a.l0.backgroundColor.backgroundRoot],children:[(0,n.tZ)(G,{}),l&&c?(0,n.tZ)(V,{post:{user:t,repl:Er({},l,{title:i.value,iconUrl:c,tags:s.value,description:o.value,isTemplate:d.value})}}):(0,n.tZ)(a.G7,{css:[a.l0.flex.grow(1),a.l0.align.center,a.l0.justify.center],children:(0,n.tZ)(u.Z,{})}),(0,n.tZ)(G,{})]})]})]})},Ur=["Basics","Tags","Icon","Cover page","More"];function Xr(e){var t=e.replId,r=e.currentUser,i=e.source,o=function(){var e=Ar(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G){e.next=2;break}return e.abrupt("return",{message:"Could not get file"});case 2:if(t){e.next=4;break}return e.abrupt("return",{message:"File path cannot be blank"});case 4:return e.prev=4,e.next=7,G.stat(t);case 7:if((r=e.sent).exists&&r.type===mr.Tv.File){e.next=10;break}return e.abrupt("return",{message:"File does not exist"});case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",{message:"Could not get file"});case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),c=Oe({replId:t,fileValidator:o,source:i}),g=c.selectedRepl,m=c.isReplLoading,b=c.replLoadingError,y=c.replIdField,w=c.replTitleField,Z=c.replDescriptionField,x=c.iconUrlField,S=c.tagsField,k=c.coverDefaultViewField,R=c.coverUrlField,O=c.coverFileField,I=c.isTemplateField,C=c.save,P=c.isSaving,B=c.savingError,T=c.publish,j=c.isPublishing,A=c.publishingError,V=c.isPublished,E=vr({repl:g,currentUser:r}),G=E.fs,F=E.dotReplit,D=E.didBsod,U=E.devClearBsod,X=Gr(l.useState(0),2),_=X[0],M=X[1],H=Ur[_],L=_===Ur.length-1,z=Gr(l.useState({show:!1,isUpdate:!1}),2),N=z[0],K=z[1],$=Gr(l.useState((function(){return Array(Ur.length).fill(!1)})),2),Y=$[0],q=$[1],Q=l.useCallback((function(e,t){var r=Y;r[e]=t,q(r)}),[Y]);l.useEffect((function(){c.replTitleField.value&&c.replDescriptionField.value?Q(0,!0):Q(0,!1),c.tagsField.value.length>0?Q(1,!0):Q(1,!1),c.iconUrlField.value?Q(2,!0):Q(2,!1),c.coverDefaultViewField.value===be.ReplImage&&c.coverUrlField.value||c.coverDefaultViewField.value===be.ReplFile&&c.coverFileField.value?Q(3,!0):Q(3,!1)}),[Y,c,Q]);var J=Sr({dotReplit:F});l.useEffect((function(){J.isLoading||!J.entryPoint||O.value||O.setValue(J.entryPoint)}),[J.isLoading,J.entryPoint,O]);var ee=Gr(l.useState(!1),2),te=ee[0],re=ee[1];l.useEffect((function(){te||t&&(m||V)||(re(!0),(0,ie.j)(ie.U3.PUBLISH_SELECTED,{source:i}))}),[te,i,t,m,V]);var ne=(0,W.Z)(Boolean((null===g||void 0===g?void 0:g.publishedAs)||(null===g||void 0===g?void 0:g.lastPublishedAt))),le=(0,W.Z)(H);if(l.useEffect((function(){return function(){ne.current||(0,ie.j)(ie.U3.PUBLISH_FLOW_EXITED,{source:i,lastSectionVisited:le.current})}}),[i,ne,le]),D)return(0,n.tZ)(gr.Z,{devHide:U});if(N.show&&g)return(0,n.tZ)(Pr.q,{repl:g,isUpdate:N.isUpdate});var oe,ae={Basics:{hasError:Boolean(y.error||w.error||Z.error),isValid:Ar(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([y.validate(),w.validate(),Z.validate()]);case 2:return e.abrupt("return",e.sent.every((function(e){return!e})));case 3:case"end":return e.stop()}}),e)})))},Tags:{hasError:Boolean(S.error),isValid:Ar(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.validate();case 2:return e.abrupt("return",!e.sent);case 3:case"end":return e.stop()}}),e)})))},Icon:{hasError:Boolean(x.error),isValid:Ar(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.validate();case 2:return e.abrupt("return",!e.sent);case 3:case"end":return e.stop()}}),e)})))},"Cover page":{hasError:Boolean(k.value===be.ReplImage?R.error:O.error),isValid:Ar(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.value!==be.ReplImage){e.next=6;break}return e.next=3,R.validate();case 3:e.t0=!e.sent,e.next=9;break;case 6:return e.next=8,O.validate();case 8:e.t0=!e.sent;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})))},More:{hasError:Boolean(I.error),isValid:Ar(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.validate();case 2:return e.abrupt("return",!e.sent);case 3:case"end":return e.stop()}}),e)})))}},ue=ae[H].hasError,ce=ae[H].isValid,se=null!==(oe=Ur.find((function(e){return ae[e].hasError})))&&void 0!==oe?oe:null,de=null;g?b||B||A?de="Something went wrong - please try again":ue&&(de="Please fill out the the form"):de="Please select a Repl";var fe=Boolean(!g||ue||b||m||P||j),pe=function(){var e=Ar(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=fe,e.t0){e.next=5;break}return e.next=4,ce();case 4:e.t0=!e.sent;case 5:if(!e.t0){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,e.next=10,C();case 10:M(t),e.next=16;break;case 13:return e.prev=13,e.t1=e.catch(7),e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t){return e.apply(this,arguments)}}();return(0,n.tZ)(Ie.Provider,{value:c,children:(0,n.BX)(a.Tg,{css:[a.l0.borderRadius(8),a.l0.flex.row,a.l0.overflow("hidden"),Vr({},(0,v.et)("tabletMax"),{minWidth:850})],background:"default","data-cy":"publish-form-container",children:[(0,n.BX)(a.G7,{css:[a.l0.colWithGap(12),a.l0.p(16),a.l0.minWidth(320),a.l0.flex.growAndShrink(1),Vr({},(0,v.et)("tabletMin"),{maxWidth:320})],children:[(0,n.BX)(a.G7,{css:[a.l0.rowWithGap(4),a.l0.justify.spaceBetween],children:[(0,n.tZ)(a.xv,{variant:"subheadBig",children:V?"Edit Publish Settings":"Publish ".concat(t?"this":"a"," Repl")}),(0,n.tZ)(Br.Z,{feature:"Repl publish flow"})]}),(0,n.BX)(Fr,{onSubmit:function(){var e=Ar(s().mark((function e(t){var r,n,l,i,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!L){e.next=39;break}r=!0,n=!1,l=void 0,e.prev=3,i=Ur[Symbol.iterator]();case 5:if(r=(o=i.next()).done){e.next=14;break}return a=o.value,e.next=9,ae[a].isValid();case 9:if(e.sent){e.next=11;break}return e.abrupt("return");case 11:r=!0,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),n=!0,l=e.t0;case 20:e.prev=20,e.prev=21,r||null==i.return||i.return();case 23:if(e.prev=23,!n){e.next=26;break}throw l;case 26:return e.finish(23);case 27:return e.finish(20);case 28:if(V){e.next=34;break}return e.next=31,T();case 31:K({show:!0,isUpdate:!1}),e.next=37;break;case 34:return e.next=36,C();case 36:K({show:!0,isUpdate:!0});case 37:e.next=40;break;case 39:pe(_+1);case 40:case"end":return e.stop()}}),e,null,[[3,16,20,28],[21,,23,27]])})));return function(t){return e.apply(this,arguments)}}(),css:[a.l0.colWithGap(16),a.l0.flex.growAndShrink(1)],children:[(0,n.tZ)(a.G7,{css:[a.l0.rowWithGap(4),a.l0.align.center],children:Ur.map((function(e,t){return(0,n.BX)(l.Fragment,{children:[0!==t&&(0,n.tZ)(Or,{}),(0,n.tZ)(Ir,{isActive:_===t,isComplete:Y[t],onClick:function(){return pe(t)},disabled:fe,children:e})]},e)}))}),(0,n.BX)(a.G7,{css:a.l0.flex.growAndShrink(1),children:["Basics"===H&&(0,n.tZ)(Pt,{}),"Tags"===H&&(0,n.tZ)(ut,{}),"Icon"===H&&(0,n.tZ)(ir,{}),"Cover page"===H&&(0,n.tZ)(nr,{fs:G}),"More"===H&&(0,n.tZ)(Cr,{})]}),(0,n.BX)(a.G7,{children:[L&&se&&se!==H&&(0,n.tZ)(a.E_,{colorway:"negative",icon:(0,n.tZ)(d.Z,{}),text:"Please fix error in ".concat(se," section")}),B&&(0,n.tZ)(a.E_,{colorway:"negative",icon:(0,n.tZ)(d.Z,{}),text:B}),A&&(0,n.tZ)(a.E_,{colorway:"negative",icon:(0,n.tZ)(d.Z,{}),text:A})]}),(0,n.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.justify.spaceBetween,a.l0.align.center],children:[(0,n.tZ)(a.zx,{css:[0===_&&a.l0.visibility.hidden],type:"button",iconLeft:(0,n.tZ)(p.Z,{}),disabled:fe,onClick:function(){return pe(_-1)},text:"Back"}),P&&(0,n.tZ)(a.G7,{css:[a.l0.rowWithGap(4),a.l0.color.foregroundDimmer],children:(0,n.tZ)(u.Z,{})}),(0,n.BX)(a.u,{tooltip:de,placement:"bottom",isDisabled:!de,children:[!L&&(0,n.tZ)(a.zx,{type:"submit",colorway:"primary",iconLeft:(0,n.tZ)(h.Z,{}),disabled:fe,text:"Next","data-cy":"publish-form-next-button"}),L&&!V&&(0,n.tZ)(a.zx,{type:"submit",colorway:"primary",css:[{boxShadow:"0px 0px 16px 0px ".concat(a.TV.accentPrimaryDimmer," !important")}],iconLeft:(0,n.tZ)(f.Z,{}),disabled:Boolean(fe||se),text:j?"Publishing...":"Publish to Community","data-cy":"publish-form-publish-button"}),L&&V&&(0,n.tZ)(a.zx,{type:"submit",colorway:"primary",iconLeft:(0,n.tZ)(f.Z,{}),disabled:Boolean(fe||se),text:P?"Saving...":"Save"})]})]})]})]}),(0,n.tZ)(Dr,{user:r})]})})}var Wr=r(79523);function _r(e){var t,r,c=e.replId,s=e.source;l.useEffect(Wr.S,[]);var d=(0,o.NHW)(),f="CurrentUser"===(null===(t=d.data)||void 0===t||null===(r=t.currentUser)||void 0===r?void 0:r.__typename)?d.data.currentUser:null;return d.loading?(0,n.tZ)(i.Z,{css:[a.l0.center,a.l0.p(32)],children:(0,n.tZ)(u.Z,{})}):d.error||!f?(0,n.tZ)(i.Z,{css:[a.l0.center,a.l0.p(32)],children:(0,n.tZ)(a.xv,{children:"Something went wrong, please try again."})}):(0,n.tZ)(Xr,{source:s,replId:c,currentUser:f})}},79399:function(e,t,r){r.d(t,{q:function(){return Z}});var n=r(35944),l=r(67294),i=r(23139),o=r(88768),a=r(41664),u=r.n(a),c=r(74302),s=r(98647),d=r(71841),f=r(77982),p=r(92432),h=r(11163),v="https://twitter.com/intent/tweet";function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){m(e,t,r[t])}))}return e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,i=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(u){a=!0,l=u}finally{try{o||null==r.return||r.return()}finally{if(a)throw l}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=function(e){var t=e.url,r=e.successMessageDurationMs,o=void 0===r?1500:r,a=y(l.useState(!1),2),u=a[0],c=a[1],f=l.useRef(null);return l.useEffect((function(){return function(){f.current&&clearTimeout(f.current)}}),[]),(0,n.tZ)(i.u,{isOpen:u,placement:"bottom",tooltip:u?"Copied!":"Copy link",delay:0,children:(0,n.tZ)(i.hU,{alt:"Copy link",tooltipHidden:!1,onClick:function(){t&&((0,s.Z)(t),c(!0),f.current=setTimeout((function(){c(!1)}),o))},children:(0,n.tZ)(d.Z,{})})})},Z=function(e){var t=e.repl,r=e.isUpdate,l=(0,h.useRouter)(),a=(0,c.j3)(t),s=t.url?(0,c.QB)(t):"",d=t.publishedAs===o.O2h.Template,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text,r=e.url,n=e.hashtags,l=e.via,i=new URLSearchParams;t&&i.append("text",t),r&&i.append("url",r),n&&i.append("hashtags",n.join(",")),l&&i.append("via",l);var o=i.toString();return o.length>0?"".concat(v,"?").concat(o):v}({text:"Check out what I just published on Replit: ".concat(t.title),url:s});return(0,n.BX)(i.Tg,{background:"default",css:[i.l0.borderRadius(8),i.l0.p(16),i.l0.overflow("hidden"),i.l0.colWithGap(16)],"data-cy":"published-repl-share-info-container",children:[(0,n.BX)(i.G7,{css:[i.l0.colWithGap(16)],children:[(0,n.BX)(i.xv,{variant:"subheadBig",children:[d?"Template":"Repl"," ",r?"updated":"published","!"]})," ",(0,n.BX)(i.G7,{css:[i.l0.colWithGap(4)],children:[(0,n.tZ)(i.xv,{variant:"small",css:[i.l0.color.foregroundDimmer],children:"Cover page link"}),(0,n.BX)(i.G7,{css:[i.l0.rowWithGap(4),i.l0.align.center],children:[(0,n.tZ)(u(),b({},a,{css:[i.l0.flex.growAndShrink(1)],children:(0,n.tZ)("a",{css:[{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}],children:s})})),(0,n.tZ)(w,{url:s})]})]})]}),(0,n.BX)(i.G7,{css:[i.l0.rowWithGap(16),i.l0.justify.spaceBetween,{alignItems:"flex-end"}],children:[(0,n.BX)(i.G7,{css:[i.l0.colWithGap(8)],children:[(0,n.tZ)(i.xv,{variant:"small",css:[i.l0.color.foregroundDimmer],children:"Share to"}),(0,n.BX)("a",{href:g,target:"_blank",rel:"noopener noreferrer",css:[i.l0.display.flex,i.l0.colWithGap(2),i.l0.color.foregroundDefault,i.l0.align.center],children:[(0,n.tZ)(f.Z,{}),(0,n.tZ)(i.xv,{children:"Twitter"})]})]}),(0,n.tZ)(i.G7,{children:(0,n.tZ)(i.zx,{type:"button",iconRight:(0,n.tZ)(p.Z,{}),text:d?"Go to Templates":"Go to Community",onClick:function(){d?l.push("/templates"):l.push({pathname:"/postsFeed",query:{order:"new"}},{pathname:"/community/all",query:{order:"new"}})}})})]})]})}},94692:function(e,t,r){r.d(t,{r:function(){return f}});var n=r(34051),l=r.n(n),i=r(88768);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t,r,n,l,i,o){try{var a=e[i](o),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,l)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,l){var i=e.apply(t,r);function o(e){a(i,n,l,o,u,"next",e)}function u(e){a(i,n,l,o,u,"throw",e)}o(void 0)}))}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,i=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(u){a=!0,l=u}finally{try{o||null==r.return||r.return()}finally{if(a)throw l}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s="Something went wrong publishing your Template";function d(e){if(e.error)return e.error.message||s;if(e.data){if("createReplDeployment"in e.data){if("NotFoundError"===e.data.createReplDeployment.__typename||"UnauthorizedError"===e.data.createReplDeployment.__typename||"UserError"===e.data.createReplDeployment.__typename)return e.data.createReplDeployment.message;if("Repl"!==e.data.createReplDeployment.__typename)return s}if("createReplRelease"in e.data){if("NotFoundError"===e.data.createReplRelease.__typename||"UnauthorizedError"===e.data.createReplRelease.__typename||"UserError"===e.data.createReplRelease.__typename)return e.data.createReplRelease.message;if("Repl"!==e.data.createReplRelease.__typename)return s}}}function f(){var e=c((0,i.MM_)(),2),t=e[0],r=e[1],n=c((0,i.pec)(),2),o=n[0],a=n[1],f=function(){var e=u(l().mark((function e(t){var n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.input,!r.loading&&!a.loading){e.next=3;break}return e.abrupt("return",{data:null,error:null});case 3:return e.prev=3,e.next=6,o({refetchQueries:["ReplEnvironmentHeader"],variables:{input:n}});case 6:return i=e.sent,e.abrupt("return",{data:i.data,error:d(i)});case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{data:null,error:s});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=u(l().mark((function e(n){var i,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.input,!r.loading&&!a.loading){e.next=3;break}return e.abrupt("return",{data:null,error:null});case 3:return e.prev=3,e.next=6,t({variables:{input:i}});case 6:return o=e.sent,e.abrupt("return",{data:o.data,error:d(o)});case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{data:null,error:s});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return{createRelease:f,createDeployment:p,data:r.data||a.data,loading:r.loading||a.loading,error:d(r||a)}}}}]);
//# sourceMappingURL=876-da9e5ca66fd63a17.js.map