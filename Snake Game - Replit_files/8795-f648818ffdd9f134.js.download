"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8795],{69219:function(e,n,t){t.d(n,{$:function(){return x},u:function(){return S}});var r=t(35944),o=(t(67294),t(84270)),i=t(36360),a=t(42345),u=t(94157),c=t(9210),s=t(5008),l=t(62857),f=t(8317),d=t(13494),p=t(82298),m=t(39802),v=t(91674),h=t(23139),b=t(84827),y=t(30478);function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function E(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=function(e){var n=new Map,t=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=E(i.value,3),c=u[0],s=u[1],l=u[2];"string"===typeof s&&(s=b.s.get(s)),n.set(c,[s,null!==l&&void 0!==l?l:h.TV.foregroundDefault])}}catch(f){r=!0,o=f}finally{try{t||null==a.return||a.return()}finally{if(r)throw o}}return n}([[v.SymbolKind.Array,f.Z],[v.SymbolKind.Boolean,p.Z],[v.SymbolKind.Class,"class",h.TV.yellowDefault],[v.SymbolKind.Constant,"constant",h.TV.blueStronger],[v.SymbolKind.Constructor,"method",h.TV.blurpleDefault],[v.SymbolKind.Enum,a.Z,h.TV.orangeDefault],[v.SymbolKind.EnumMember,m.Z,h.TV.blueStronger],[v.SymbolKind.Event,o.Z],[v.SymbolKind.Field,d.Z],[v.SymbolKind.File,u.Z],[v.SymbolKind.Function,"function",h.TV.blurpleStronger],[v.SymbolKind.Interface,s.Z,h.TV.blueStronger],[v.SymbolKind.Key,l.Z],[v.SymbolKind.Method,"method",h.TV.blurpleDefault],[v.SymbolKind.Module,y.Package,h.TV.purpleDefault],[v.SymbolKind.Namespace,i.Z],[v.SymbolKind.Object,p.Z,h.TV.blueDimmer],[v.SymbolKind.Operator,p.Z],[v.SymbolKind.Package,y.Package,h.TV.purpleDefault],[v.SymbolKind.Property,d.Z],[v.SymbolKind.String,c.Z],[v.SymbolKind.Struct,i.Z],[v.SymbolKind.TypeParameter,m.Z],[v.SymbolKind.Variable,m.Z,h.TV.blueStronger]]),x=Array.from(w.keys());function S(e){var n,t=e.kind,o=E(null!==(n=w.get(t))&&void 0!==n?n:[p.Z,h.TV.foregroundDefault],2),i=o[0],a=o[1];return(0,r.tZ)(i,{color:a,size:16})}},11717:function(e,n,t){t.d(n,{Qm:function(){return d},VV:function(){return l},ZP:function(){return c}});var r=t(67294),o=t(91131),i=t(64824),a=t(88768),u=t(34503);function c(){var e=(0,a.JMo)().data,n=null===e||void 0===e?void 0:e.currentUser,t=(0,o.b9)(u.H);(0,r.useEffect)((function(){t({flagLayoutTabs:Boolean(null===n||void 0===n?void 0:n.flagLayoutTabs),flagVisualDotReplitEditor:Boolean(null===n||void 0===n?void 0:n.flagVisualDotReplitEditor),flagSaveLayoutState:Boolean(null===n||void 0===n?void 0:n.flagSaveLayoutState)})}),[t,n])}function s(e){return e.flagLayoutTabs}function l(){return(0,o.Dv)((0,i.kv)(u.H,s))}function f(e){return e.flagVisualDotReplitEditor}function d(){return(0,o.Dv)((0,i.kv)(u.H,f))}},62774:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(67294),o=t(57923);function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){var n=e.container,t=e.service,i=e.name,u=e.skip,c=void 0!==u&&u,s=(0,o.Z)(),l=a(r.useState({isConnecting:!0,channel:null,error:null,context:null}),2),f=l[0],d=l[1];return r.useEffect((function(){var e=n.openChannel({service:t,name:i,skip:function(){return c}},(function(e){if(!e.error)return d({context:e.context,channel:e.channel,error:null,isConnecting:!1}),function(e){s.current&&d({isConnecting:e.willReconnect,channel:null,error:null,context:null})};d({context:e.context,channel:null,error:e.error,isConnecting:!1})}));return function(){e()}}),[n,t,i,c,s]),f}},53818:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(34051),o=t.n(r),i=t(67294),a=t(62774),u=t(27291);function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function s(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){var n,t=(0,a.Z)({container:e,service:"exec"}).channel,r=(0,i.useRef)(!1),c=(0,i.useRef)([]),f=(0,u.Z)((n=o().mark((function e(){var n,i,a,u,s,d,p,m,v,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.current){e.next=2;break}return e.abrupt("return");case 2:if(c.current.length){e.next=4;break}return e.abrupt("return");case 4:if("open"===(null===t||void 0===t?void 0:t.status)){e.next=6;break}return e.abrupt("return");case 6:if(n=c.current.pop()){e.next=9;break}throw new Error("Expected request");case 9:return i=l(n,2),a=i[0],u=a.args,s=a.env,d=i[1],p="",m=t.onCommand((function(e){e.output&&(p+=e.output)})),r.current=!0,e.next=15,t.request({exec:{args:u,env:s}});case 15:v=e.sent,r.current=!1,m(),h=v.channelClosed?"Channel closed":v.error,d(h?{error:h,output:p||null}:{output:p,error:null}),f.current();case 21:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){s(i,r,o,a,u,"next",e)}function u(e){s(i,r,o,a,u,"throw",e)}a(void 0)}))})),d=null===t||void 0===t?void 0:t.status;return(0,i.useEffect)((function(){"open"===d&&f.current()}),[d,f]),(0,i.useCallback)((function(e){var n=e.args,t=e.env;return new Promise((function(e){c.current.push([{args:n,env:t},e]),f.current()}))}),[f])}},76890:function(e,n,t){t.d(n,{Z:function(){return Cn}});var r,o=t(34051),i=t.n(o),a=t(27754),u=t(39441);!function(e){e.USER_JOIN="USER_JOIN",e.USER_LEAVE="USER_LEAVE",e.USERS_UPDATE="USERS_UPDATE",e.USER_OPENED_FILE="USER_OPENED_FILE",e.FOLLOWED_USER_CHANGED="FOLLOWED_USER_CHANGED",e.FOLLOWING_USERS_CHANGED="FOLLOWING_USERS_CHANGED"}(r||(r={}));var c=t(50055),s=t(15602),l=Object.values(s.Z.multiplayer);function f(e){var n={};return l.forEach((function(e){n[e]=0})),e.forEach((function(e){n[e.color]++})),Object.keys(n).sort((function(e,t){return n[e]-n[t]}))[0]}function d(e){var n=e.sessions.sort((function(e,n){return e.timestamp-n.timestamp})),t=!0,r=!1,o=void 0;try{for(var i,a=n[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var u=i.value;if(u.activeFile)return u.activeFile}}catch(c){r=!0,o=c}finally{try{t||null==a.return||a.return()}finally{if(r)throw o}}return null}function p(e,n){var t=n.find((function(n){return n.sessions.some((function(n){return n.id===e}))}));if(!t)throw new Error("Expected user with session ID ".concat(e));return t}function m(e){var n=e.seconds,t=e.nanos;return Number(n||0)+(t||0)/1e9}var v=t(56834);function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function b(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y,g=t(75944),E=t(67289),w=t(62991),x=t.n(w);function S(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function I(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){S(i,r,o,a,u,"next",e)}function u(e){S(i,r,o,a,u,"throw",e)}a(void 0)}))}}function A(e){var n=e.container,t=function(e){x()(u,e)||(u=e,o.emit(r.FOLLOWED_USER_CHANGED,e))},o=(0,g.ZP)();o.setMaxListeners(1/0);var a=[],u=null,s=[],l={},h=null,y=window.performance.now();function w(){return S.apply(this,arguments)}function S(){return(S=I(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=2;break}return e.abrupt("return",h);case 2:return e.abrupt("return",new Promise((function(e){o.once(r.USERS_UPDATE,(function(){if(!h)throw new Error("Expected presenceChannel to be set");e(h)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=I(i().mark((function e(n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===u||void 0===u?void 0:u.username)!==n){e.next=2;break}throw new Error("Already following user with username ".concat(n));case 2:if(!u){e.next=5;break}return e.next=5,T();case 5:return e.next=7,w();case 7:if(r=e.sent,o=a.find((function(e){return e.username===n}))){e.next=11;break}return e.abrupt("return");case 11:t(o),o.sessions.forEach((function(e){r.send({followUser:{session:e.id}})})),y=window.performance.now(),(0,v.j)(v.U3.LOCAL_USER_CURSOR_FOLLOWED);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return k.apply(this,arguments)}function k(){return(k=I(i().mark((function e(){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}throw new Error("No user to unfollow");case 2:return n=u,t(null),e.next=6,w();case 6:r=e.sent,n.sessions.forEach((function(e){r.send({unfollowUser:{session:e.id}})})),o=window.performance.now()-y,(0,v.j)(v.U3.LOCAL_USER_CURSOR_UNFOLLOWED,{sessionLength:o});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.openChannel({service:"presence",name:"presencer"},(function(e){var n=e.channel;if(!e.error){if(!n)throw new Error("Expected channel");return n.onCommand((function(e){var n={cmd:e,emitter:o,activeUsers:a,userIdToFile:l,followedUser:u,setFollowedUser:t,followingUsers:s};switch(e.body){case"roster":!function(e){var n=e.cmd,t=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=e.followedUser,u=e.followingUsers,c=e.setFollowedUser,s=n.roster;if(s){var l=s.user,p=s.files;if(l&&p){var h=new Set;if(o.splice(0,o.length),l.forEach((function(e){if(e.id&&e.name&&e.roles&&!h.has(e.id)){var n=p.filter((function(n){return n.userId===e.id})).map((function(e){if(!e.session||!e.timestamp)throw new Error("Expected session and associated with user");return{id:e.session,activeFile:e.file||null,timestamp:m(e.timestamp)}}));o.push({id:e.id,username:e.name,roles:e.roles,color:f(o),sessions:n}),h.add(e.id)}})),o.forEach((function(e){i[e.id]=d(e)})),t.emit(r.USERS_UPDATE,b(o)),o.length>1&&(0,v.j)(v.U3.MP2_USER_JOINED,{count:o.length}),u.filter((function(e){return!o.some((function(n){return n.id===e.id}))})).forEach((function(e){var n=u.indexOf(e);-1!==n&&(u.splice(n,1),t.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:b(u),user:e,type:"unfollow"}))})),a)if(o.some((function(e){return e.id===a.id}))){var y=i[a.id];t.emit(r.USER_OPENED_FILE,{user:a,file:y})}else c(null)}}}(n);break;case"join":!function(e){var n=e.cmd,t=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=n.join;if(a.id&&a.name&&a.roles&&a.session){var u=o.find((function(e){return e.id===a.id})),s=Math.floor(Date.now()/1e3),l=m(c.google.protobuf.Timestamp.create({seconds:s}));if(u)u.sessions.push({id:a.session,activeFile:null,timestamp:l});else{var d={id:a.id,username:a.name,roles:a.roles,color:f(o),sessions:[{id:a.session,activeFile:null,timestamp:l}]};i[a.id]=null,o.push(d),t.emit(r.USER_JOIN,d),t.emit(r.USERS_UPDATE,b(o)),(0,v.j)(v.U3.MP2_USER_JOINED,{count:o.length})}}}(n);break;case"part":!function(e){var n=e.cmd,t=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=e.followedUser,u=e.followingUsers,c=e.setFollowedUser;if(n.part&&n.part.id&&n.part.session){var s=n.part,l=s.id,f=s.session,p=o.findIndex((function(e){return e.id===l})),m=o[p];if(1===m.sessions.length){o.splice(p,1),delete i[m.id],t.emit(r.USER_LEAVE,m),t.emit(r.USERS_UPDATE,b(o)),a&&c(null);var v=u.findIndex((function(e){return e.id===m.id}));-1!==v&&(u.splice(v,1),t.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:b(u),user:m,type:"unfollow"}))}else{m.sessions=m.sessions.filter((function(e){return e.id!==f}));var h=d(m);i[m.id]!==h&&(i[m.id]=h,t.emit(r.USER_OPENED_FILE,{user:m,file:h}))}}}(n);break;case"fileOpened":!function(e){var n=e.emitter,t=e.cmd,o=e.activeUsers,i=e.userIdToFile;if(t.fileOpened){var a=t.fileOpened,u=a.userId,c=a.file,s=a.timestamp,l=a.session,f=c||null;if(!u||!s)throw new Error("Expected userId and timestamp associated with file opened command");var d=o.find((function(e){return e.id===u}));if(!d)throw new Error("Expected user with ID ".concat(u));var p=d.sessions.find((function(e){return e.id===l}));if(!p)throw new Error("Expected session with ID ".concat(p));p.activeFile=f,p.timestamp=m(s),i[u]=f,n.emit(r.USER_OPENED_FILE,{user:d,file:f})}}(n);break;case"followUser":!function(e){var n=e.cmd,t=e.emitter,o=e.activeUsers,i=e.followingUsers,a=n.followUser;if(!a.session)throw new Error("Expected session associated with follow user");var u=p(a.session,o);i.some((function(e){return e.id===u.id}))||(i.push(u),t.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:b(i),user:u,type:"follow"}))}(n);break;case"unfollowUser":!function(e){var n=e.cmd,t=e.emitter,o=e.activeUsers,i=e.followingUsers,a=n.unfollowUser;if(!a.session)throw new Error("Expected session associated with follow user");var u=p(a.session,o),c=i.findIndex((function(e){return e.id===u.id}));-1!==c&&(i.splice(c,1),t.emit(r.FOLLOWING_USERS_CHANGED,{followingUsers:b(i),user:u,type:"unfollow"}))}(n);break;case"sessionTimestampUpdated":!function(e){var n=e.cmd,t=e.emitter,o=e.activeUsers,i=e.userIdToFile,a=n.sessionTimestampUpdated;if(!a.session||!a.timestamp)throw new Error("Expected session and tiemstamp associated with update");var u=a.session,c=p(u,o),s=i[c.id],l=c.sessions.find((function(e){return e.id===u}));if(!l)throw new Error("Expected user ".concat(c.id," to have a session with ID ").concat(u));l.timestamp=m(a.timestamp);var f=l.activeFile;f!==s&&(i[c.id]=f,t.emit(r.USER_OPENED_FILE,{user:c,file:f}))}(n)}})),h=n,function(){h=null}}})),{onUserLeave:function(e){return o.on(r.USER_LEAVE,e),function(){o.removeListener(r.USER_LEAVE,e)}},onUserJoin:function(e){return o.on(r.USER_JOIN,e),function(){o.removeListener(r.USER_LEAVE,e)}},onActiveUsersChange:function(e){return o.on(r.USERS_UPDATE,e),function(){o.removeListener(r.USERS_UPDATE,e)}},onUserOpenedFile:function(e){return o.on(r.USER_OPENED_FILE,e),function(){o.removeListener(r.USER_OPENED_FILE,e)}},onFollowedUserChanged:function(e){return o.on(r.FOLLOWED_USER_CHANGED,e),function(){o.removeListener(r.FOLLOWED_USER_CHANGED,e)}},onFollowingUsersChanged:function(e){return o.on(r.FOLLOWING_USERS_CHANGED,e),function(){o.removeListener(r.FOLLOWING_USERS_CHANGED,e)}},getActiveFileForUser:function(e){var n=l[e];if("undefined"===typeof n)throw new Error("Expected file for user with ID ".concat(e," to be defined"));return n},updateOpenFile:function(e){return I(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w();case 2:n.sent.send({openFile:{file:e}});case 4:case"end":return n.stop()}}),n)})))()},updateSessionTimestamp:function(){return I(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:e.sent.send({updateSessionTimestamp:{}});case 4:case"end":return e.stop()}}),e)})))()},followUser:function(e){return A.apply(this,arguments)},unfollowUser:T,getActiveUsers:function(){return a},getFollowedUser:function(){return u},getFollowingUsers:function(){return s},getUserIdToFile:function(){return l},getPathToUserIds:function(){var e=new Map;function n(t,r){var o;if(""!==t){e.has(t)||e.set(t,[]);var i=e.get(t);if(!i)throw new Error("Expected user Ids");i.some((function(e){return e===r}))||(null===(o=e.get(t))||void 0===o||o.push(r),n((0,E.Il)(t),r))}}return a.forEach((function(e){var t=e.id,r=l[t];r&&n(r,t)})),e}}}!function(e){e.COMMAND_BAR_TOGGLED="COMMAND_BAR_TOGGLED",e.DEEPLINK_CHANGED="DEEPLINK_CHANGED",e.EDITOR_FOCUSED="EDITOR_FOCUSED",e.SESSION_STATE_CHANGED="SESSION_STATE_CHANGED",e.PREVIEWED_FILE_CHANGED="PREVIEWED_FILE_CHANGED",e.INSTRUCTIONS_VIEWER_TOGGLED="INSTRUCTIONS_VIEWER_TOGGLED",e.FOLLOWING_USERS_CHANGED="FOLLOWING_USERS_CHANGED",e.CURSOR_POSITION_CHANGED="CURSOR_POSITION_CHANGED",e.CONFIG_FILE_VISIBILITY_TOGGLED="CONFIG_FILE_VISIBILITY_TOGGLED",e.RESOURCE_MONITORING_STATE_CHANGED="RESOURCE_MONITORING_STATE_CHANGED",e.TERMINAL_WRITE_CALLED="TERMINAL_WRITE_CALLED",e.TERMINAL_CLEAR_CALLED="TERMINAL_CLEAR_CALLED",e.WPX_TASK_COMPLETION_SURVEY_READY="WPX_TASK_COMPLETION_SURVEY_READY"}(y||(y={}));var T=3e5,k=t(7377);function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){O(e,n,t[n])}))}return e}var C,R=t(44160);function _(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function P(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){_(i,r,o,a,u,"next",e)}function u(e){_(i,r,o,a,u,"throw",e)}a(void 0)}))}}!function(e){e.MESSAGES_LOADED="MESSAGES_LOADED",e.MESSAGE_RECEIVED="MESSAGE_RECEIVED",e.MESSAGE_SENT="MESSAGE_SENT",e.USER_TYPING_UPDATED="USER_TYPING_UPDATED"}(C||(C={}));var N,L=t(48390),U=t(78842),F=t(96194);function j(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function Z(e){var n,t=e.container,r=(0,g.ZP)(),o=new Promise((function(e){return n=e})),a=null;return t.openChannel({service:"chat",name:"broadcaster"},(function(e){if(!e.error){var t=e.channel,i=e.context;if(!t)throw new Error("Expected channel");return i.currentUser&&(a=i.currentUser.username),t.onCommand((function(e){if("chatMessage"===e.body){var n=e.chatMessage;if(!n||!n.username||!n.text)throw new Error("unexpected broadcast without a message");r.emit(N.MESSAGE_RECEIVED,{text:n.text,username:n.username})}})),n(t),function(){o=new Promise((function(e){return n=e}))}}})),{broadcastMessage:function(e){var n,t=e.text;return(n=i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:if(n=e.sent,a){e.next=5;break}throw new Error("Cannot broadcast without as username. Is currentUser in context?");case 5:n.send({chatMessage:{text:t,username:a}});case 6:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){j(i,r,o,a,u,"next",e)}function u(e){j(i,r,o,a,u,"throw",e)}a(void 0)}))})()},onBroadcastReceived:function(e){return r.on(N.MESSAGE_RECEIVED,e),function(){r.removeListener(N.MESSAGE_RECEIVED,e)}}}}!function(e){e.MESSAGE_RECEIVED="MESSAGE_RECEIVED"}(N||(N={}));var G,M=t(69987),V=t(6763),B=t(92876),H="{".charCodeAt(0),W="}".charCodeAt(0),z="[".charCodeAt(0),J="]".charCodeAt(0),K='"'.charCodeAt(0),q="\\".charCodeAt(0);var X=new TextEncoder,Y=new TextDecoder,$="\r".charCodeAt(0),Q="\n".charCodeAt(0);var ee=function(){var e=/[a-z\d_-]+: [a-z\d_ :;.,/"'?!(){}[\]@<>=+*#$&`|~^%-]+/.source;return RegExp("(".concat(e,"\\r\\n)*(").concat(e,")$"),"i")}();function ne(e,n){var t,r,o=Y.decode(e.slice(0,n));try{return{json:JSON.parse(o),buffer:e.slice(n)}}catch(c){if(t=c,(null!=(r=SyntaxError)&&"undefined"!==typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](t):t instanceof r)&&"Unexpected end of JSON input"===c.message){var i=function(e,n){for(var t=0,r=0,o=!1,i=n;i<e.length+1;i++){if(i!==n&&!t&&!r&&!o)return i;var a=e[i];switch(a){case q:i++;continue;case K:o=!o;continue}if(!o)switch(a){case H:t++;break;case W:t--;break;case z:r++;break;case J:r--}}return-1}(e,0);if(-1!==i){var a=e.slice(0,i),u=Y.decode(a);try{return{json:JSON.parse(u),buffer:e.slice(i)}}catch(s){B.Tb(s)}}}return B.Tb(c),{json:void 0,buffer:e.slice(n)}}}var te=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.onMessage=n,this.buffer=new Uint8Array,this.read=this.read.bind(this)}var n=e.prototype;return n.consumeHeaders=function(){var e=function(e){var n=e.findIndex((function(n,t){return n===$&&e[t+1]===Q&&e[t+2]===$&&e[t+3]===Q}));if(-1!==n){var t=Y.decode(e.slice(0,n)),r=t.match(ee);if(!r)throw new Error("Unable to match header, text: ".concat(t));var o=Object.create(null),i=r[0].split("\r\n"),a=!0,u=!1,c=void 0;try{for(var s,l=i[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var f=s.value,d=f.indexOf(":");if(-1===d)throw new Error('Message header must separate key and value using ":"');var p=f.substr(0,d),m=f.substr(d+1).trim();if("Content-Length"===p){var v=parseInt(m,10);if(isNaN(v))throw new Error("Content-Length value must be a number.");o[p]=parseInt(m,10)}else o[p]=m}}catch(h){u=!0,c=h}finally{try{a||null==l.return||l.return()}finally{if(u)throw c}}if(null==o["Content-Length"])throw new Error("Header must provide a Content-Length property.");return{headerLength:n,value:o}}}(this.buffer);if(e)return this.buffer=this.buffer.slice(e.headerLength+4),e},n.read=function(e){var n;for(this.buffer=function(e,n){var t=new Uint8Array(e.length+n.length);return t.set(e),t.set(n,e.length),t}(this.buffer,X.encode(e));null!==(n=(G=this).headers)&&void 0!==n?n:G.headers=this.consumeHeaders();){var t=this.headers.value["Content-Length"];if(this.buffer.length<t)return;var r=ne(this.buffer,t),o=r.json,i=r.buffer;if(this.headers=void 0,this.buffer=i,void 0!==o)try{this.onMessage(o)}catch(a){B.Tb(a)}}},e}();function re(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function oe(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function ie(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){oe(i,r,o,a,u,"next",e)}function u(e){oe(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ae(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ue(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ae(e,n,t[n])}))}return e}function ce(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return re(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return re(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var se=i().mark(le);function le(e,n){var t;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.length===n.length){r.next=2;break}return r.abrupt("return");case 2:t=0;case 3:if(!(t<e.length)){r.next=9;break}return r.next=6,[e[t],n[t]];case 6:t++,r.next=3;break;case 9:case"end":return r.stop()}}),se)}var fe=t(48764).Buffer;function de(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function pe(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function me(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){pe(i,r,o,a,u,"next",e)}function u(e){pe(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ve(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function he(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ve(e,n,t[n])}))}return e}function be(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||ge(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,n){if(e){if("string"===typeof e)return de(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?de(e,n):void 0}}function Ee(e){var n,t=e.channel,r=e.beforeRun,o=function(){u.current="terminated",s.current=[],l.current=[],d.current=null,m.handleDebugSessionEnded(),v.current=!1},a=function(e){return p.on("started",e),function(){p.removeListener("started",e)}},u=(0,M.u)("terminated"),s=(0,M.u)([]),l=(0,M.u)([]),f=(0,M.u)(new Map),d=(0,M.u)(null),p=(0,g.ZP)(),m=function(e,n){var t=function(){var e=new Map,n=new Set,t=!0,i=!1,u=void 0;try{for(var c,s=r.entries()[Symbol.iterator]();!(t=(c=s.next()).done);t=!0){var l=ce(c.value,2),f=l[0],d=l[1];if(0!==d.length){var p=[],m=!0,v=!1,h=void 0;try{for(var b,y=d[Symbol.iterator]();!(m=(b=y.next()).done);m=!0){var g=b.value;if(g.breakpointId&&g.line){var E=a.get(g.breakpointId),w=void 0===E?void 0:o.get(E);w&&n.add(E),p.push({dapId:E,pid1Id:g.breakpointId,line:w&&w.line||g.line,verified:Boolean(null===w||void 0===w?void 0:w.verified),logMessage:g.logMessage||void 0})}}}catch(B){v=!0,h=B}finally{try{m||null==y.return||y.return()}finally{if(v)throw h}}e.set(f,p)}}}catch(B){i=!0,u=B}finally{try{t||null==s.return||s.return()}finally{if(i)throw u}}var x=!0,S=!1,I=void 0;try{for(var A,T=o.entries()[Symbol.iterator]();!(x=(A=T.next()).done);x=!0){var k,O,D=ce(A.value,2),C=D[0],R=D[1];if(!n.has(C)){var _=(0,V.IT)((null===(k=R.source)||void 0===k?void 0:k.path)||(null===(O=R.source)||void 0===O?void 0:O.name)||""),P=R.line;if(_&&P){var N=e.get(_);N||(N=[],e.set(_,N));var L=!1,U=!0,F=!1,j=void 0;try{for(var Z,G=N[Symbol.iterator]();!(U=(Z=G.next()).done);U=!0){var M=Z.value;if(M.line===R.line){M.dapId=C,M.verified=R.verified,L=!0;break}}}catch(B){F=!0,j=B}finally{try{U||null==G.return||G.return()}finally{if(F)throw j}}L||N.push({dapId:C,line:P,verified:R.verified})}}}}catch(B){S=!0,I=B}finally{try{x||null==T.return||T.return()}finally{if(S)throw I}}return e},r=new Map,o=new Map,a=new Map;function u(){return(u=ie(i().mark((function n(t){var u,c,s,l,f,d,p,m,v,h,b,y,g,E,w,x,S,I,A,T,k,O,D,C,R,_,P,N,L,U,F,j,Z,G,M,V,B,H,W,z;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u=!0,c=!1,s=void 0,n.prev=1,l=r.entries()[Symbol.iterator]();case 3:if(u=(f=l.next()).done){n.next=91;break}if(d=ce(f.value,2),p=d[0],m=d[1],void 0===t||t===p){n.next=7;break}return n.abrupt("continue",88);case 7:return n.next=9,e({command:"setBreakpoints",arguments:{source:{name:p,path:p},breakpoints:m.map((function(e){return{line:e.line,logMessage:e.logMessage||void 0}}))}});case 9:if((v=n.sent).success){n.next=12;break}return n.abrupt("continue",88);case 12:h=!0,b=!1,y=void 0,n.prev=13,g=o[Symbol.iterator]();case 15:if(h=(E=g.next()).done){n.next=39;break}for(w=ce(E.value,2),x=w[0],S=w[1],(null===(I=S.source)||void 0===I?void 0:I.name)===p&&o.delete(x),A=!0,T=!1,k=void 0,n.prev=20,O=a[Symbol.iterator]();!(A=(D=O.next()).done);A=!0)C=ce(D.value,2),R=C[0],C[1]===x&&a.delete(R);n.next=28;break;case 24:n.prev=24,n.t0=n.catch(20),T=!0,k=n.t0;case 28:n.prev=28,n.prev=29,A||null==O.return||O.return();case 31:if(n.prev=31,!T){n.next=34;break}throw k;case 34:return n.finish(31);case 35:return n.finish(28);case 36:h=!0,n.next=15;break;case 39:n.next=45;break;case 41:n.prev=41,n.t1=n.catch(13),b=!0,y=n.t1;case 45:n.prev=45,n.prev=46,h||null==g.return||g.return();case 48:if(n.prev=48,!b){n.next=51;break}throw y;case 51:return n.finish(48);case 52:return n.finish(45);case 53:for(_=v,P=!0,N=!1,L=void 0,n.prev=55,U=_.body.breakpoints[Symbol.iterator]();!(P=(F=U.next()).done);P=!0)null!=(j=F.value).id&&o.set(j.id,ue({source:{name:p,path:p}},j));n.next=63;break;case 59:n.prev=59,n.t2=n.catch(55),N=!0,L=n.t2;case 63:n.prev=63,n.prev=64,P||null==U.return||U.return();case 66:if(n.prev=66,!N){n.next=69;break}throw L;case 69:return n.finish(66);case 70:return n.finish(63);case 71:for(Z=!0,G=!1,M=void 0,n.prev=72,V=le(m,_.body.breakpoints)[Symbol.iterator]();!(Z=(B=V.next()).done);Z=!0)H=ce(B.value,2),W=H[0],z=H[1],W.breakpointId&&null!=z.id&&a.set(W.breakpointId,z.id);n.next=80;break;case 76:n.prev=76,n.t3=n.catch(72),G=!0,M=n.t3;case 80:n.prev=80,n.prev=81,Z||null==V.return||V.return();case 83:if(n.prev=83,!G){n.next=86;break}throw M;case 86:return n.finish(83);case 87:return n.finish(80);case 88:u=!0,n.next=3;break;case 91:n.next=97;break;case 93:n.prev=93,n.t4=n.catch(1),c=!0,s=n.t4;case 97:n.prev=97,n.prev=98,u||null==l.return||l.return();case 100:if(n.prev=100,!c){n.next=103;break}throw s;case 103:return n.finish(100);case 104:return n.finish(97);case 105:case"end":return n.stop()}}),n,null,[[1,93,97,105],[13,41,45,53],[20,24,28,36],[29,,31,35],[46,,48,52],[55,59,63,71],[64,,66,70],[72,76,80,88],[81,,83,87],[98,,100,104]])})))).apply(this,arguments)}return{findPathByBreakpointId:function(e){var n=!0,t=!1,o=void 0;try{for(var i,a=r.entries()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=ce(i.value,2),c=u[0];if(u[1].some((function(n){return n.breakpointId===e})))return c}}catch(s){t=!0,o=s}finally{try{n||null==a.return||a.return()}finally{if(t)throw o}}return null},getBreakpoints:t,flush:function(e){return u.apply(this,arguments)},handleDAPBreakpointEvent:function(e){var r=e.body,i=r.reason,a=r.breakpoint,u=a.id;if(null!==u&&void 0!==u){switch(i){case"changed":case"new":o.set(u,ue({},o.get(u),a));break;case"removed":o.delete(u);break;default:return}n(t())}},handlePID1BreakpointEvent:function(e){var o=e.absolutePath?(0,V.IT)(e.absolutePath):null;o&&(r.set(o,e.breakpoints||[]),n(t()))},handleDebugSessionEnded:function(){o.clear(),a.clear();var e=!0,i=!1,u=void 0;try{for(var c,s=r.entries()[Symbol.iterator]();!(e=(c=s.next()).done);e=!0){var l=ce(c.value,2),f=l[0];0===l[1].length&&r.delete(f)}}catch(d){i=!0,u=d}finally{try{e||null==s.return||s.return()}finally{if(i)throw u}}n(t())}}}(x,(function(e){f.current=e})),v=(0,M.u)(!1),h=[],b=new te((function(e){if(h.push({time:Date.now(),direction:"in",data:e}),"event"===e.type)switch(e.event){case"continued":u.current="running";break;case"stopped":var n;u.current="paused",d.current=null!==(n=e.body.threadId)&&void 0!==n?n:null,p.emit("paused",e.body.reason),function(){T.apply(this,arguments)}();break;case"breakpoint":m.handleDAPBreakpointEvent(e)}else if("response"===e.type){var t=e,r=y.get(t.request_seq);r&&(y.delete(t.request_seq),r(e))}})),y=new Map,E=100,w=!1;function x(e){return S.apply(this,arguments)}function S(){return(S=me(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=E++;y.set(r,e);var o=he({},n,{type:"request",seq:r});h.push({time:Date.now(),direction:"out",data:o});var i={debugInput:{session:"main",adapterInput:we(o)}};h.push({time:Date.now(),direction:"out",data:i}),t.send(i)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return A.apply(this,arguments)}function A(){return(A=me(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.push({time:Date.now(),direction:"out",data:n}),e.next=3,t.request(n);case 3:if(r=e.sent,h.push({time:Date.now(),direction:"in",data:r}),!r.error){e.next=7;break}throw r.error;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=me(i().mark((function e(){var n,t,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.current=[],l.current=[],e.next=4,x({command:"stackTrace",arguments:{threadId:d.current}});case 4:if((n=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:if(s.current=n.body.stackFrames,0!==s.current.length){e.next=10;break}return e.abrupt("return");case 10:return t=s.current[0],e.next=13,x({command:"scopes",arguments:{frameId:t.id}});case 13:if((r=e.sent).success){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,Promise.all(r.body.scopes.map((function(e){return x({command:"variables",arguments:{variablesReference:e.variablesReference}}).then((function(n){return{response:n,parentVariableReference:e.variablesReference}}))})));case 18:o=e.sent,l.current=o.filter((function(e){return e.response.success})).reduce((function(e,n){var t=n.response,r=n.parentVariableReference;return e.concat(t.body.variables.map((function(e){return he({},e,{parentVariableReference:r})})))}),[]);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return O.apply(this,arguments)}function O(){return(O=me(i().mark((function e(){var n,o,a,c,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("terminated"===u.current){e.next=3;break}throw new Error("Cant start while debugger is already running");case 3:return u.current="preinitializing",s.current=[],e.next=7,r();case 7:if("stopping"!==u.current){e.next=10;break}return u.current="terminated",e.abrupt("return");case 10:return w=!0,u.current="initializing",a={debugMain:{session:"main",readOnly:!1}},h.push({time:Date.now(),direction:"out",data:a}),e.next=16,t.request(a);case 16:if(c=e.sent,h.push({time:Date.now(),direction:"in",data:c}),!c.error){e.next=22;break}return p.emit("output",c.error),u.current="terminated",e.abrupt("return");case 22:return e.next=24,x({command:"initialize",arguments:{clientID:"replit",clientName:"replit.com",adapterID:"cppdbg",pathFormat:"path",linesStartAt1:!0,columnsStartAt1:!0,supportsEvaluateForHovers:!0,supportsVariableType:!0,supportsVariablePaging:!0,supportsRunInTerminalRequest:!1,locale:"en-us",supportsProgressReporting:!0,supportsInvalidatedEvent:!0}});case 24:if((l=e.sent).success){e.next=28;break}return u.current="terminated",e.abrupt("return");case 28:return v.current=Boolean(null===(n=l.body)||void 0===n?void 0:n.supportsStepBack),f=!(null===(o=l.body)||void 0===o?void 0:o.supportsConfigurationDoneRequest),e.next=32,m.flush();case 32:if(f){e.next=35;break}return e.next=35,x({command:"configurationDone"});case 35:"initializing"===u.current&&(u.current="running"),p.emit("started",f);case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,n){return C.apply(this,arguments)}function C(){return(C=me(i().mark((function e(n,t){var r,o,a,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.line,o=t.otIndex,a=t.otVersion,c=t.logMessage,s=(0,V.om)(n)||n,e.next=4,I({debugAddBreakpointRequest:{path:s,line:r,otIndex:o,otVersion:a,logMessage:c}});case 4:if("terminated"===u.current){e.next=7;break}return e.next=7,m.flush(n);case 7:p.emit("breakpoint","added");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return _.apply(this,arguments)}function _(){return(_=me(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.findPathByBreakpointId(n),e.next=3,I({debugRemoveBreakpointRequest:{breakpointId:n}});case 3:if("terminated"===u.current||!t){e.next=6;break}return e.next=6,m.flush(t);case 6:p.emit("breakpoint","removed");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=me(i().mark((function e(n,t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=m.findPathByBreakpointId(n)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,I({debugUpdateBreakpointRequest:{breakpointId:n,logMessage:t.logMessage}});case 5:if("terminated"===u.current){e.next=8;break}return e.next=8,m.flush(r);case 8:p.emit("breakpoint","updated");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=me(i().mark((function e(n,t){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=null===(o=null===(r=f.current.get(n))||void 0===r?void 0:r.find((function(e){return e.line===t.line&&void 0!==e.pid1Id})))||void 0===o?void 0:o.pid1Id)){e.next=7;break}return e.next=5,R(a);case 5:e.next=9;break;case 7:return e.next=9,D(n,t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t.onCommand((function(e){var n,t;h.push({time:Date.now(),direction:"in",data:e});var r=e.debugOutput,i=e.debugState,a=e.debugBreakpointEvent,s=e.debugSessions;if(r){if("main"!==r.session)return;r.adapterOutput&&b.read(r.adapterOutput),r.output&&p.emit("output",r.output)}if(a&&m.handlePID1BreakpointEvent(a),i&&i.state===c.api.State.Stopped&&o(),(null===s||void 0===s||null===(n=s.sessions)||void 0===n?void 0:n.main)!==c.api.State.Running&&(null===i||void 0===i?void 0:i.state)!==c.api.State.Running||"terminated"===u.current&&k(),(null===s||void 0===s||null===(t=s.sessions)||void 0===t?void 0:t.main)===c.api.State.Stopped||(null===i||void 0===i?void 0:i.state)===c.api.State.Stopped){if(w)return void(w=!1);o()}})),{state:u,stackFrames:s,variables:l,breakpoints:f,supportsStepBack:v,onOutput:function(e){return p.on("output",e),function(){p.removeListener("output",e)}},onStarted:a,onPaused:function(e){return p.on("paused",e),function(){p.removeListener("paused",e)}},onBreakpoint:function(e){return p.on("breakpoint",e),function(){p.removeListener("breakpoint",e)}},sendInput:function(e){return me(i().mark((function n(){var r,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={debugInput:{session:"main",input:e}},h.push({time:Date.now(),direction:"out",data:r}),n.next=4,t.request(r);case 4:if(o=n.sent,h.push({time:Date.now(),direction:"in",data:o}),!o.error){n.next=8;break}throw o.error;case 8:case"end":return n.stop()}}),n)})))()},fetchVariables:function(e){return me(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x({command:"variables",arguments:{variablesReference:e}});case 2:if(!(t=n.sent).success){n.next=5;break}return n.abrupt("return",t.body.variables.map((function(n){return he({},n,{parentVariableReference:e})})));case 5:throw new Error(t.message);case 6:case"end":return n.stop()}}),n)})))()},evaluate:function(e){var t=e.frameId,r=void 0===t?null===(n=s.current[0])||void 0===n?void 0:n.id:t,o=e.expression,a=e.context;return me(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x({command:"evaluate",arguments:{frameId:r,expression:o,context:a}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))()},addBreakpoint:D,removeBreakpoint:R,updateBreakpoint:function(e,n){return P.apply(this,arguments)},toggleBreakpoint:function(e,n){return N.apply(this,arguments)},start:k,continue:function(){return me(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.current=[],u.current="running",e.next=4,x({command:"continue",arguments:{threadId:d.current}});case 4:case"end":return e.stop()}}),e)})))()},reverseContinue:function(){return me(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.current=[],u.current="running",e.next=4,x({command:"reverseContinue",arguments:{threadId:d.current}});case 4:case"end":return e.stop()}}),e)})))()},back:function(){return me(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.current="running",e.next=3,x({command:"stepBack",arguments:{threadId:d.current}});case 3:case"end":return e.stop()}}),e)})))()},next:function(){return me(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.current="running",e.next=3,x({command:"stepIn",arguments:{threadId:d.current}});case 3:case"end":return e.stop()}}),e)})))()},skip:function(){return me(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.current="running",e.next=3,x({command:"next",arguments:{threadId:d.current,granularity:"line"}});case 3:case"end":return e.stop()}}),e)})))()},stepOut:function(){return me(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.current="running",e.next=3,x({command:"stepOut",arguments:{threadId:d.current}});case 3:case"end":return e.stop()}}),e)})))()},stop:function(){return me(i().mark((function e(){var n,r,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("terminated"!==u.current){e.next=2;break}throw new Error("Debugger already terminated");case 2:if(n=u.current,u.current="stopping","preinitializing"!==n){e.next=6;break}return e.abrupt("return");case 6:if("initializing"!==n){e.next=13;break}return r=[],e.next=10,Promise.race([new Promise((function(e){r.push(u.subscribe((function(){return e()})))})),new Promise((function(e){r.push(a((function(){return e()})))}))]);case 10:if(r.forEach((function(e){return e()})),"terminated"!==u.current){e.next=13;break}return e.abrupt("return");case 13:return o={debugStop:{session:"main"}},h.push({time:Date.now(),direction:"out",data:o}),e.next=17,t.request(o);case 17:if(c=e.sent,h.push({time:Date.now(),direction:"in",data:c}),!c.error){e.next=21;break}throw new Error("Failed to stop debugger "+c.error);case 21:case"end":return e.stop()}}),e)})))()},getSource:function(e){return me(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x({command:"source",arguments:{source:{path:e}}});case 2:if((t=n.sent).success){n.next=5;break}throw new Error(t.message);case 5:return n.abrupt("return",t.body.content);case 6:case"end":return n.stop()}}),n)})))()},getDebugLogs:function(){return Object.entries({state:u,stackFrames:s,variables:l,breakpoints:f,threadId:d}).map((function(e){var n,t,r=be(e,2),o=r[0],i=r[1];return"".concat(o," = ").concat(JSON.stringify((n=i.current,(null!=(t=Map)&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](n):n instanceof t)?ye(i.current):i.current),void 0,2))})).join("\n")+"\n\n"+h.map((function(e){return[new Date(e.time).toLocaleString(),"in"===e.direction?"->":"<-",JSON.stringify(e.data)].join(" ")})).join("\n")}}}function we(e){var n=JSON.stringify(e);return"Content-Length: ".concat(fe.byteLength(n),"\r\n\r\n").concat(n)}var xe,Se=t(11938),Ie=t(56603),Ae=t(24865),Te=t(27740),ke=t.n(Te),Oe=t(28468),De=t(69219),Ce=function(e){var n=e.configurationSupport;return{textDocument:{synchronization:{dynamicRegistration:!0,didSave:!0},signatureHelp:{dynamicRegistration:!0,signatureInformation:{documentationFormat:["plaintext","markdown"]}},publishDiagnostics:{relatedInformation:!0},formatting:{dynamicRegistration:!0},documentSymbol:{dynamicRegistration:!0,hierarchicalDocumentSymbolSupport:!0,symbolKind:{valueSet:De.$}},definition:{dynamicRegistration:!0},typeDefinition:{dynamicRegistration:!0},implementation:{dynamicRegistration:!0},references:{dynamicRegistration:!0},rename:{dynamicRegistration:!0,prepareSupport:!0},completion:{dynamicRegistration:!0,completionItem:{documentationFormat:["plaintext","markdown"],snippetSupport:!0}},codeAction:{dynamicRegistration:!0,codeActionLiteralSupport:{codeActionKind:{valueSet:Object.values(Oe.CodeActionKind)}}},hover:{dynamicRegistration:!0,contentFormat:["plaintext"]}},workspace:{applyEdit:!0,didChangeConfiguration:n.clientToServer?{dynamicRegistration:!0}:void 0,configuration:n.serverToClient,executeCommand:{dynamicRegistration:!0},workspaceEdit:{documentChanges:!0,resourceOperations:[Oe.ResourceOperationKind.Create,Oe.ResourceOperationKind.Delete,Oe.ResourceOperationKind.Rename]}}}},Re=t(51717),_e=t(15111),Pe=t(48764).Buffer;function Ne(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function Le(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){Ne(i,r,o,a,u,"next",e)}function u(e){Ne(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ue(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Fe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Ue(e,n,t[n])}))}return e}function je(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function Ze(e,n){return(0,_e.D)(e)||n}function Ge(e,n){return e.line<n.line||e.line===n.line&&e.character<=n.character}function Me(){return Math.floor(Math.random()*(Math.pow(2,31)-1))}function Ve(e){var n=JSON.stringify(Fe({},e,{jsonrpc:"2.0"})),t=Pe.byteLength(n,"utf8");return"Content-Length: ".concat(t,"\r\n\r\n").concat(n)}function Be(e){var n=e.connection,t=e.isSupportedFile,r=e.clientId,o=e.getWorkspaceConfiguration,a=e.onWorkspaceConfigurationChange,u=function(e){if(!h)throw new Error("Expected rootUri");return e.slice(h.length+1)},c=function(e){if(!h)throw new Error("Expected rootUri");if(e.startsWith("/"))throw new Error("Path must be relative. Got: ".concat(e));return h+"/"+e},s=function(e){b!==e&&(b=e,v.emit(xe.SERVER_STATE_CHANGE,b))},l=function(e){v.emit(xe.SEND_NOTIFICATION,e),n.write(Ve(e))},f=function(e){var t=e.options,r=void 0===t?{}:t,o=r.id,i=void 0===o?Me():o,a=r.signal,u=r.tap,c=je(e,["options"]);if(!Number.isInteger(i))throw new Error("Request ID must be an integer");if(n.didClose())return Promise.resolve({result:null,cancelled:!0});v.emit(xe.REQUEST,{id:i,data:c}),null===a||void 0===a||a.addEventListener("abort",(function(){p(i)}),{once:!0}),n.write(Ve(Fe({},c,{id:i})));var s=new Promise((function(e){w.set(i,e)}));return u&&u(s),s},d=function(e,t){n.write(Ve(Fe({},t,{id:e})))},p=function(e){var n=w.get(e);n&&(v.emit(xe.CANCEL_REQUEST,e),n({result:null,cancelled:!0}),w.delete(e),l({method:"$/cancelRequest",params:{id:e}}))},m=function(e){if(!y)throw new Error("Expected client to be initialized");if(!y[e])throw new Error("LSP Server does not support ".concat(e.replace(/Provider$/,"")));return y[e]},v=(0,g.ZP)(),h=null,b=Ae.a.OFFLINE,y=null,E=new Map,w=new Map,x=new te((function(e){if(e.id&&w.has(e.id)){var n=w.get(e.id);w.delete(e.id);var t=e.result,i=e.error;if((void 0!==t||i)&&v.emit(xe.RESPONSE,e),"undefined"!==typeof t)return void n({result:t,cancelled:!1});if(i){var a=i.code,c=i.message,s=i.data;return Ie.kg.error("LSP request failed",{code:a,lspId:r,errorMessage:c,data:JSON.stringify(s)}),void n({error:i})}throw Ie.kg.error("LSP response message contained neither error nor result"),new Error("Expected either message or error in LSP response")}var l=e.method;if("client/registerCapability"!==l)if("workspace/applyEdit"!==l){if("textDocument/publishDiagnostics"===l){var f=u(e.params.uri),p=E.get(f);if(!p)return;var m=e.params.diagnostics;return p.diagnostics=m,E.set(f,p),void v.emit(xe.DIAGNOSTICS,{path:f,diagnostics:m})}if("workspace/configuration"===l){var h,b=e.params,g=Array(b.items.length).fill(null),x=null!==(h=null===o||void 0===o?void 0:o())&&void 0!==h?h:null;x&&(g=b.items.map((function(e){return e.section?(0,Re.Z)(x,e.section):x}))),d(e.id,{result:g,cancelled:!1})}}else v.emit(xe.WORKSPACE_EDIT,Fe({id:e.id},e.params));else{var S=e.params.registrations;if(!S||!Array.isArray(S))throw new Error("Expected registrations array");S.forEach((function(e){var n=e.method;if(!n)throw new Error("Expected registration method");if(!y)throw new Error("Expected server capabilities");var t=e.registerOptions||!0;switch(n){case"textDocument/definition":y.definitionProvider=!0;break;case"textDocument/typeDefinition":y.typeDefinitionProvider=!0;break;case"textDocument/implementation":y.implementationProvider=!0;break;case"textDocument/references":y.referencesProvider=!0;break;case"textDocument/hover":y.hoverProvider=!0;break;case"textDocument/completion":y.completionProvider=t;break;case"textDocument/formatting":y.documentFormattingProvider=t;break;case"textDocument/rename":y.renameProvider=t;break;case"textDocument/codeAction":y.codeActionProvider=t;break;case"textDocument/signatureHelp":y.signatureHelpProvider=t;break;case"textDocument/didSave":if("number"===typeof y.textDocumentSync)break;y.textDocumentSync=Fe({},y.textDocumentSync||{},{save:t});break;case"textDocument/willSaveWaitUntil":if("number"===typeof y.textDocumentSync)break;y.textDocumentSync=Fe({},y.textDocumentSync||{},{willSave:!0});break;case"textDocument/didChange":if("number"===typeof y.textDocumentSync)break;y.textDocumentSync=Fe({},y.textDocumentSync||{},{change:t});break;case"textDocument/didOpen":case"textDocument/didClose":if("number"===typeof y.textDocumentSync)break;y.textDocumentSync=Fe({},y.textDocumentSync||{},{openClose:!0});break;case"workspace/executeCommand":y.executeCommandProvider=t;break;default:Ie.kg.info("Unexpected dynamically registered capability in LSP client",{method:n})}v.emit(xe.SERVER_CAPABILITIES_CHANGE,y)}))}}));n.read(x.read);var S=function(){};return{initialize:function(e){var n=e.pwd,t=e.initializationOptions;return Le(i().mark((function e(){var r,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(Ae.a.INITIALIZING),h="file://".concat(n),e.next=4,f({method:"initialize",params:{initializationOptions:t,capabilities:Ce({configurationSupport:{serverToClient:Boolean(o),clientToServer:Boolean(a)}}),processId:null,rootUri:h,workspaceFolders:[{name:h,uri:h}]}});case 4:if(!("error"in(r=e.sent))){e.next=7;break}throw new Error("Something went wrong initializing the LSP client: ".concat(r.error.message));case 7:if(!r.cancelled){e.next=9;break}throw new Error("Initialize request cancelled");case 9:if(r.result){e.next=11;break}throw new Error("Expected result in initialize request");case 11:l({method:"initialized",params:{}}),y=r.result.capabilities,v.emit(xe.SERVER_CAPABILITIES_CHANGE,y),s(Ae.a.INITIALIZED),a&&(S=a((function(e){l({method:"workspace/didChangeConfiguration",params:{settings:e}})})),o&&(u=o(),l({method:"workspace/didChangeConfiguration",params:{settings:u}})));case 16:case"end":return e.stop()}}),e)})))()},generateId:Me,notify:{didOpen:function(e,n){if(!t(e))throw new Error("Path not supported");var o,i=E.get(e);if(i&&0!==i.buffers)return i.buffers++,void E.set(e,i);var a=null!==(o=null===i||void 0===i?void 0:i.version)&&void 0!==o?o:0;E.set(e,{version:a,buffers:1,diagnostics:[]}),l({method:"textDocument/didOpen",params:{textDocument:{uri:c(e),languageId:Ze(e,r),text:n,version:a}}})},didChange:function(e,n){var t=E.get(e);if(!t)throw new Error('Document for "'.concat(e,'" is not open'));t.version++,l({method:"textDocument/didChange",params:{textDocument:{uri:c(e),version:t.version},contentChanges:n}})},didSave:function(e){if(!E.get(e))throw new Error('Document for "'.concat(e,'" is not open'));m("textDocumentSync"),l({method:"textDocument/didSave",params:{textDocument:{uri:c(e)}}})},didClose:function(e){var n=E.get(e);if(!n)throw new Error('Document for "'.concat(e,'" is not open'));n.buffers--,n.buffers>0||(l({method:"textDocument/didClose",params:{textDocument:{uri:c(e)}}}),E.delete(e))},cancelRequest:function(e){p(e)}},request:{completion:function(e,n,t){return m("completionProvider"),f({method:"textDocument/completion",params:{textDocument:{uri:c(e)},position:n,context:t}})},resolveCompletionItem:function(e){if(!m("completionProvider").resolveProvider)throw new Error("LSP Server does not support resolving completion items");return f({method:"completionItem/resolve",params:e})},signatureHelp:function(e,n){return f({method:"textDocument/signatureHelp",params:{textDocument:{uri:c(e)},position:n}})},hover:function(e,n){return f({method:"textDocument/hover",params:{textDocument:{uri:c(e)},position:n}})},codeActions:function(e,n){var t=E.get(e);if(!t)throw new Error("Document for path ".concat(e," is not open."));var r=t.diagnostics.filter((function(e){return t=e.range,r=n,Ge(t.start,r.end)&&Ge(r.start,t.end);var t,r}));return f({method:"textDocument/codeAction",params:{textDocument:{uri:c(e)},range:n,context:{diagnostics:r}}})},executeCommand:function(e,n){return f({method:"workspace/executeCommand",params:{command:e,arguments:n}})},format:function(e,n){return m("documentFormattingProvider"),f({method:"textDocument/formatting",params:{textDocument:{uri:c(e)},options:n}})},findDefinitions:function(e,n,t){return Le(i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return m("definitionProvider"),r.next=3,f({options:t,method:"textDocument/definition",params:{textDocument:{uri:c(e)},position:n}});case 3:if("result"in(o=r.sent)){r.next=6;break}return r.abrupt("return",o);case 6:if(!o.result||Array.isArray(o.result)){r.next=8;break}return r.abrupt("return",{result:[o.result],cancelled:!1});case 8:return r.abrupt("return",o);case 9:case"end":return r.stop()}}),r)})))()},findTypeDefinitions:function(e,n,t){return Le(i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return m("typeDefinitionProvider"),r.next=3,f({options:t,method:"textDocument/typeDefinition",params:{textDocument:{uri:c(e)},position:n}});case 3:if("result"in(o=r.sent)){r.next=6;break}return r.abrupt("return",o);case 6:if(!o.result||Array.isArray(o.result)){r.next=8;break}return r.abrupt("return",{result:[o.result],cancelled:!1});case 8:return r.abrupt("return",o);case 9:case"end":return r.stop()}}),r)})))()},findImplementations:function(e,n,t){return Le(i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return m("implementationProvider"),r.next=3,f({options:t,method:"textDocument/implementation",params:{textDocument:{uri:c(e)},position:n}});case 3:if("result"in(o=r.sent)){r.next=6;break}return r.abrupt("return",o);case 6:if(!o.result||Array.isArray(o.result)){r.next=8;break}return r.abrupt("return",{result:[o.result],cancelled:!1});case 8:return r.abrupt("return",o);case 9:case"end":return r.stop()}}),r)})))()},findReferences:function(e,n,t){return m("referencesProvider"),f({method:"textDocument/references",params:{textDocument:{uri:c(e)},position:n,context:t}})},rename:function(e,n,t,r){return m("renameProvider"),f({options:r,method:"textDocument/rename",params:{textDocument:{uri:c(e)},position:n,newName:t}})},prepareRename:function(e,n){var t=m("renameProvider");if("boolean"===typeof t||!t.prepareProvider)throw new Error("LSP server does not support prepare rename");return f({method:"textDocument/prepareRename",params:{textDocument:{uri:c(e)},position:n}})},documentSymbol:function(e,n){return Le(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({options:n,method:"textDocument/documentSymbol",params:{textDocument:{uri:c(e)}}});case 2:if("result"in(r=t.sent)){t.next=5;break}return t.abrupt("return",r);case 5:if(!r.result){t.next=7;break}return t.abrupt("return",{result:r.result,cancelled:!1});case 7:case"end":return t.stop()}}),t)})))()}},onDiagnostics:(0,g.JV)(v,xe.DIAGNOSTICS),onWorkspaceEdit:function(e){return(0,g.NH)(v,xe.WORKSPACE_EDIT,(function(n){var t=e(n);d(n.id,{result:t,cancelled:!1})}))},onServerStateChange:(0,g.JV)(v,xe.SERVER_STATE_CHANGE),onServerCapabilitiesChange:(0,g.JV)(v,xe.SERVER_CAPABILITIES_CHANGE),onRequest:(0,g.JV)(v,xe.REQUEST),onResponse:(0,g.JV)(v,xe.RESPONSE),onCancelRequest:(0,g.JV)(v,xe.CANCEL_REQUEST),onSendNotification:(0,g.JV)(v,xe.SEND_NOTIFICATION),shutdown:function(){for(var e in s(Ae.a.EXITING),E.clear(),w)p(Number(e));S(),f({method:"shutdown"}).then((function(){l({method:"exit"}),s(Ae.a.EXITED),v.removeAllListeners()}))},destroy:function(){for(var e in E.clear(),w)p(Number(e));S(),s(Ae.a.EXITED),v.removeAllListeners()},getServerState:function(){return b},getServerCapabilities:function(){return y},getDiagnostics:function(e){var n=E.get(e);if(!n)throw new Error("File with path ".concat(e," is not open."));return n.diagnostics},isOpen:function(e){return E.has(e)},documentUriToPath:u,pathToDocumentURI:c,isSupportedFile:t}}!function(e){e.INITIALIZED="INITIALIZED",e.DIAGNOSTICS="DIAGNOSTICS",e.WORKSPACE_EDIT="WORKSPACE_EDIT",e.SERVER_STATE_CHANGE="SERVER_STATE_CHANGE",e.SERVER_CAPABILITIES_CHANGE="SERVER_CAPABILITIES_CHANGE",e.REQUEST="REQUEST",e.RESPONSE="RESPONSE",e.CANCEL_REQUEST="CANCEL_REQUEST",e.SEND_NOTIFICATION="SEND_NOTIFICATION"}(xe||(xe={}));var He,We=["typescript","javascript","javascriptreact","typescriptreact"];!function(e){e.ON_CLIENT="ON_CLIENT"}(He||(He={}));var ze=t(93770),Je=t(58646);function Ke(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function qe(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function Xe(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){qe(i,r,o,a,u,"next",e)}function u(e){qe(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ye(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Ke(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ke(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Xe(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.t1=ze.Z,e.next=4,en(n);case 4:return e.t2=e.sent,e.t3=e.t1.from.call(e.t1,e.t2),e.abrupt("return",e.t0.writeFile.call(e.t0,"index.html",e.t3));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function en(e){return nn.apply(this,arguments)}function nn(){return(nn=Xe(i().mark((function e(n){var t,r,o,a,u,c,s,l,f,d,p,m,v,h,b,y,g,w,x,S,I,A,T,k,O,D,C,R,_,P,N,L,U,F,j,Z,G,M,V,B,H;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",r="",e.next=4,n.readFile("conf.json");case 4:if(!(o=e.sent).error){e.next=7;break}return e.abrupt("return","");case 7:return a=JSON.parse(o.content.toString()),(0,Je.h)(a.version,"0.1.0")?r+="kaboom.import();\n":(0,Je.h)(a.version,"0.4.0")&&(r+="kaboom.global();\n"),(0,Je.h)(a.version,"0.4.0")?r+="\ninit({\n  ...".concat(JSON.stringify(a),",\n  clearColor: ").concat(a.clearColor?function(){var e=a.clearColor;return JSON.stringify({r:e[0],g:e[1],b:e[2],a:e[3]})}():"undefined","\n});\n  "):r+="\nkaboom({\n  ...".concat(JSON.stringify(a),",\n  global: true,\n  plugins: [ peditPlugin, asepritePlugin, kbmspritePlugin ],\n});\n"),e.t0=Ye,e.next=13,Promise.all(["scenes","sprites","sounds"].map(n.readDir));case 13:if(e.t1=e.sent,u=(0,e.t0)(e.t1,3),c=u[0],s=u[1],l=u[2],s.error){e.next=36;break}for(f=!0,d=!1,p=void 0,e.prev=20,m=s.children[Symbol.iterator]();!(f=(v=m.next()).done);f=!0)h=v.value,b=JSON.stringify((0,E.eb)(h.filename)),y=JSON.stringify("sprites/".concat(h.filename)),(0,Je.H)(a.version,"0.4.0")?h.filename.endsWith(".pedit")?r+="loadPedit(".concat(b,", ").concat(y,");\n"):h.filename.endsWith(".kbmsprite")?r+="loadKbmsprite(".concat(b,", ").concat(y,");\n"):r+="loadSprite(".concat(b,", ").concat(y,");\n"):r+="loadSprite(".concat(b,", ").concat(y,");\n");e.next=28;break;case 24:e.prev=24,e.t2=e.catch(20),d=!0,p=e.t2;case 28:e.prev=28,e.prev=29,f||null==m.return||m.return();case 31:if(e.prev=31,!d){e.next=34;break}throw p;case 34:return e.finish(31);case 35:return e.finish(28);case 36:if(l.error){e.next=54;break}for(g=!0,w=!1,x=void 0,e.prev=38,S=l.children[Symbol.iterator]();!(g=(I=S.next()).done);g=!0)A=I.value,T=JSON.stringify((0,E.eb)(A.filename)),k=JSON.stringify("sounds/".concat(A.filename)),r+="loadSound(".concat(T,", ").concat(k,");\n");e.next=46;break;case 42:e.prev=42,e.t3=e.catch(38),w=!0,x=e.t3;case 46:e.prev=46,e.prev=47,g||null==S.return||S.return();case 49:if(e.prev=49,!w){e.next=52;break}throw x;case 52:return e.finish(49);case 53:return e.finish(46);case 54:if(c.error){e.next=84;break}return e.next=57,Promise.all(c.children.map((function(e){var t=e.filename;return Promise.all([(0,E.eb)(t),n.readFile("scenes/".concat(t))])})));case 57:O=e.sent,D=!0,C=!1,R=void 0,e.prev=59,_=O[Symbol.iterator]();case 61:if(D=(P=_.next()).done){e.next=70;break}if(N=P.value,L=Ye(N,2),U=L[0],!(F=L[1]).error){e.next=66;break}return e.abrupt("continue",67);case 66:r+="scene(".concat(JSON.stringify(U),", (args = {}) => {\n").concat(F.content.toString(),"\n});\n");case 67:D=!0,e.next=61;break;case 70:e.next=76;break;case 72:e.prev=72,e.t4=e.catch(59),C=!0,R=e.t4;case 76:e.prev=76,e.prev=77,D||null==_.return||_.return();case 79:if(e.prev=79,!C){e.next=82;break}throw R;case 82:return e.finish(79);case 83:return e.finish(76);case 84:for(r+="start(".concat(JSON.stringify(a.startScene),");\n"),j=["kaboom.js"],(0,Je.h)(a.version,"0.1.0")?(j.push("kit/physics.js"),j.push("kit/starter.js"),j.push("kit/level.js")):(0,Je.H)(a.version,"0.4.0")&&(j.push("plugins/aseprite.js"),j.push("plugins/pedit.js")),Z=!0,G=!1,M=void 0,e.prev=88,V=j[Symbol.iterator]();!(Z=(B=V.next()).done);Z=!0)H=B.value,t+='<script src="https://kaboomjs.com/lib/'.concat(encodeURIComponent(a.version),"/").concat(encodeURI(H),'"><\/script>\n');e.next=96;break;case 92:e.prev=92,e.t5=e.catch(88),G=!0,M=e.t5;case 96:e.prev=96,e.prev=97,Z||null==V.return||V.return();case 99:if(e.prev=99,!G){e.next=102;break}throw M;case 102:return e.finish(99);case 103:return e.finish(96);case 104:return(0,Je.H)(a.version,"0.4.0")&&(t+='<script src="https://kaboomjs.com/pub/legacy/kbmsprite.js"><\/script>\n'),e.abrupt("return",'\n<!DOCTYPE html>\n\n<html>\n\n<head>\n  <title>kaboom</title>\n  <meta charset="utf-8">\n  <style>\n    * {\n      margin: 0;\n    }\n    html,\n    body {\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n    }\n    canvas {\n      display: block;\n    }\n  </style>\n</head>\n\n<body>\n'.concat(t,"\n  <script>\n").concat(r,"\n  <\/script>\n</body>\n\n</html>\n"));case 106:case"end":return e.stop()}}),e,null,[[20,24,28,36],[29,,31,35],[38,42,46,54],[47,,49,53],[59,72,76,84],[77,,79,83],[88,92,96,104],[97,,99,103]])})))).apply(this,arguments)}var tn=t(9440),rn=t(41951),on=t(923),an=t(83633),un=t.n(an);function cn(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}var sn;function ln(e){var n=e.container,t=e.beforeRun,r=(0,g.ZP)(),o=on.Z.Idle,a=new Date(0),u=!1;r.on(on.z.TEST_RESULT,(function(e){u=u&&"passed"===e.body}));var s=function(e){r.emit(on.z.STATE_CHANGED,e),o=e},l=function(){var e,n=(e=i().mark((function e(n,t){var o,a,u,l,f,d,p,m,v,h,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=rn.api.Payload.fromObject(t),!(a=rn.api.Payload.verify(o))){e.next=4;break}throw a;case 4:return u=new(un())((function(e){var n=rn.api.Response.fromObject(e),t=rn.api.Response.verify(n);if(t)B.Tb(new TypeError("invalid payload received"),(function(r){return r.setExtras({validationError:t,payload:o,message:e,response:n})}));else switch(n.body){case"error":return r.emit(on.z.ERROR,n.error);case"instructionResult":return r.emit(on.z.INSTRUCTION_RESULT,n.instructionResult);case"testResult":return r.emit(on.z.TEST_RESULT,n.testResult);case"status":switch(n.status){case rn.api.Status.Ready:return s(on.Z.Ready);case rn.api.Status.Building:return s(on.Z.Building);case rn.api.Status.Running:return s(on.Z.Running)}}})),l=n.onCommand((function(e){if(e.output)try{u.submit(e.output)}catch(n){B.Tb(new SyntaxError("invalid response received from i/o testing binary"),(function(t){return t.setExtras({err:n,payload:o,cmd:e})}))}})),f=n.request({exec:{args:["io-tester"],splitStderr:!0,lifecycle:c.api.Exec.Lifecycle.STDIN,splitLogs:!0}}),e.next=9,new Promise((function(e,n){var t,o=function(){t(),e()};r.once(on.z.STATE_CHANGED,o);var i=setTimeout((function(){t(),n(new Error("timeout while waiting for iotester to start"))}),2e4);t=function(){clearTimeout(i),r.off(on.z.STATE_CHANGED,o)}}));case 9:return e.next=11,n.request({input:JSON.stringify(o)+"\n"});case 11:if((d=e.sent).ok){e.next=17;break}throw m=new Error(null!==(p=d.error)&&void 0!==p?p:"unexpected error occurred while sending input to i/o testing binary"),B.Tb(m,(function(e){return e.setExtra("status",d)})),m;case 17:return e.next=19,f;case 19:(v=e.sent).ok||(b=new Error(null!==(h=v.error)&&void 0!==h?h:"unexpected error occurred while executing i/o testing binary"),B.Tb(b,(function(e){return e.setExtra("result",v)}))),l();case 22:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){cn(i,r,o,a,u,"next",e)}function u(e){cn(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e,t){return n.apply(this,arguments)}}();return{run:function(e){if(o!==on.Z.Idle)throw new Error("iotester already running");return s(on.Z.Starting),a=new Date,u=!0,t().then((function(){return new Promise((function(t,r){var o=n.openChannel({service:"exec"},(function(n){if(n.error)return r(n.error),o;var i="",a="",u=n.channel.onCommand((function(e){e.log?i+=e.log:e.stderr&&(a+=e.stderr)}));return t(l(n.channel,e).finally((function(){u(),o(),(a||i)&&B.Tb(new Error("logs received from io tseter"),(function(n){return n.setExtras({logs:i,stderr:a,payload:e})}))}))),o}))}))})).catch((function(e){return u=!1,Promise.reject(e)})).finally((function(){return s(on.Z.Idle)}))},get lastRunAt(){return a},get state(){return o},get lastRunDidPass(){return u},onInstructionResult:function(e){return r.on(on.z.INSTRUCTION_RESULT,e),function(){r.off(on.z.INSTRUCTION_RESULT,e)}},onStateChanged:function(e){return r.on(on.z.STATE_CHANGED,e),function(){r.off(on.z.STATE_CHANGED,e)}},onTestResult:function(e){return r.on(on.z.TEST_RESULT,e),function(){r.off(on.z.TEST_RESULT,e)}},onError:function(e){return r.on(on.z.ERROR,e),function(){r.off(on.z.ERROR,e)}}}}function fn(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function dn(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){fn(i,r,o,a,u,"next",e)}function u(e){fn(i,r,o,a,u,"throw",e)}a(void 0)}))}}function pn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function mn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){pn(e,n,t[n])}))}return e}!function(e){e.ANCHORS_ADDED="ANCHORS_ADDED",e.ANCHORS_REMOVED="ANCHORS_REMOVED",e.PORTAL_UPDATED="PORTAL_UPDATED",e.THREAD_CREATED="THREADS_CREATED",e.CODE_EXPLAINED="CODE_EXPLAINED"}(sn||(sn={}));var vn=t(90361),hn=t(81700),bn=t.n(hn);function yn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function gn(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function En(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){gn(i,r,o,a,u,"next",e)}function u(e){gn(i,r,o,a,u,"throw",e)}a(void 0)}))}}function wn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function xn(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function Sn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return yn(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yn(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(e,n){return bn()(e,{extended:!0,globstar:!0}).test(n)}function An(e,n){return e&&n?e.globPattern===n.globPattern&&(JSON.stringify(e.startCommand)===JSON.stringify(n.startCommand)&&(JSON.stringify(e.startCommand)===JSON.stringify(n.startCommand)&&(e.initializationOptionsJson===n.initializationOptionsJson&&e.configurationJson===n.configurationJson))):Boolean(e)===Boolean(n)}function Tn(e){return kn.apply(this,arguments)}function kn(){return kn=En(i().mark((function e(n){var t,r,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:0,e.next=3,n.exec("pwd");case 3:if(null===(r=e.sent).error){e.next=8;break}if(!(t>5)){e.next=7;break}return e.abrupt("return",{error:new Error("Could not get cwd "+r.error),workingDirectory:null});case 7:return e.abrupt("return",Tn(n,t+1));case 8:return e.abrupt("return",{error:null,workingDirectory:r.output.replace("\n","")});case 9:case"end":return e.stop()}}),e)}))),kn.apply(this,arguments)}function On(e){var n=e.container,t=e.dotReplit,r=e.allowNonNix,o=void 0!==r&&r,i=function(e){var n=l[e];if(!n)throw new Error("configId was never configured");var t=n.client;if(t){n.client=null,t.destroy();var r=!0,o=!1,i=void 0;try{for(var a,c=u[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var f=Sn(a.value,2),d=f[0],p=f[1];if(s.get(d)===t){s.delete(d);var m=!0,v=!1,h=void 0;try{for(var b,y=p[Symbol.iterator]();!(m=(b=y.next()).done);m=!0){(0,b.value)(null)}}catch(g){v=!0,h=g}finally{try{m||null==y.return||y.return()}finally{if(v)throw h}}}}}catch(g){o=!0,i=g}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}}n.closeChannel(),delete l[e]},a=function(e,n){if(l[e])throw new Error("configId is already configured");l[e]=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){wn(e,n,t[n])}))}return e}({client:null,closeChannel:function(){}},n),f&&d(e)},u=new Map,s=new Map,l=Object.create(null),f=!0;function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!f)throw new Error("Called startClient while not enabled");if(!l[e])throw new Error("No config found for language");var r=l[e],i=r.client,a=(r.closeChannel,xn(r,["client","closeChannel"]));if(i)throw new Error("A client is already set for language");var p=new Date,m=[],v=n.openChannel({service:"lsp2",skip:function(e){if(o)return!1;var n=e.repl.language;return!n.startsWith("nix")&&!n.startsWith("html")}},(function(r){var o=r.channel;if(o){var i=null,h=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m.forEach((function(e){return e()})),null===i||void 0===i||i.destroy(),l[e].client===i&&(l[e].client=null),n&&f||v();var t=!0,r=!1,o=void 0;try{for(var a,c=u[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var d=Sn(a.value,2),p=d[0],h=d[1],b=s.get(p);if(b===i){s.delete(p);var y=!0,g=!1,E=void 0;try{for(var w,x=h[Symbol.iterator]();!(y=(w=x.next()).done);y=!0){var S=w.value;S(null)}}catch(I){g=!0,E=I}finally{try{y||null==x.return||x.return()}finally{if(g)throw E}}}}}catch(I){r=!0,o=I}finally{try{t||null==c.return||c.return()}finally{if(r)throw o}}};return o.request({startLSP:{language:e}}).then((function(r){r.ok&&f&&l[e]&&(m.push(o.onCommand((function(n){if(n.state===c.api.State.Stopped){if(Ie.kg.error("LSP server unexpectedly disconnected",{lspId:e,appService:"lspnix"}),h(),!f)return;if((new Date).getTime()-p.getTime()<5e3){if(t<3){var r=1e3*Math.pow(2,t);setTimeout((function(){return d(e,t+1)}),r)}}else d(e)}}))),Tn(n).then((function(n){if(An(l[e],a)&&"open"===o.status&&!n.error){var t;if(i=Be({connection:{read:function(e){o.onCommand((function(n){n.output&&e(n.output)}))},write:function(e){"open"===o.status&&o.send({input:e})},didClose:function(){return"open"!==o.status}},clientId:e,isSupportedFile:function(e){return In(a.globPattern,e)},getWorkspaceConfiguration:function(){if(!a.configurationJson)return null;var e=null;try{e=JSON.parse(a.configurationJson)}catch(n){Ie.kg.error("Failed to parse LSP workspace configuration",{configurationJson:a.configurationJson})}return e}}),a.initializationOptionsJson)try{t=JSON.parse(a.initializationOptionsJson)}catch(r){Ie.kg.error("Failed to parse LSP initializationOptions",{initializationOptionsJson:a.initializationOptionsJson})}i.initialize({pwd:n.workingDirectory,initializationOptions:t}).catch((function(e){if("Initialize request cancelled"!==e.message)throw e})),m.push(i.onServerStateChange((function(n){if("open"===o.status&&i&&An(l[e],a)&&n===Ae.a.INITIALIZED){l[e].client=i;var t=!0,r=!1,c=void 0;try{for(var f,d=u[Symbol.iterator]();!(t=(f=d.next()).done);t=!0){var p=Sn(f.value,2),m=p[0],v=p[1];if(In(a.globPattern,m)&&!s.has(m)){s.set(m,i);var h=!0,b=!1,y=void 0;try{for(var g,E=v[Symbol.iterator]();!(h=(g=E.next()).done);h=!0){(0,g.value)(i)}}catch(w){b=!0,y=w}finally{try{h||null==E.return||E.return()}finally{if(b)throw y}}}}}catch(w){r=!0,c=w}finally{try{t||null==d.return||d.return()}finally{if(r)throw c}}}})))}})))})),function(e){var n=e.willReconnect;h(n)}}}));l[e].closeChannel=v}return t.watch((function(e){if(e.error){if(e.error===vn.Yt.NotFound){var n=!0,t=!1,r=void 0;try{for(var o,u=Object.keys(l)[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var c=o.value;i(c)}}catch(M){t=!0,r=M}finally{try{n||null==u.return||u.return()}finally{if(t)throw r}}}}else if(e.config.languages){var s={},f=!0,d=!1,p=void 0;try{for(var m,v=Object.entries(e.config.languages)[Symbol.iterator]();!(f=(m=v.next()).done);f=!0){var h,b,y=Sn(m.value,2),g=y[0],E=y[1];if(E.pattern&&E.languageServer&&E.languageServer.startCommand)s[g]={globPattern:E.pattern,startCommand:E.languageServer.startCommand,initializationOptionsJson:null!==(h=E.languageServer.initializationOptionsJson)&&void 0!==h?h:void 0,configurationJson:null!==(b=E.languageServer.configurationJson)&&void 0!==b?b:void 0}}}catch(M){d=!0,p=M}finally{try{f||null==v.return||v.return()}finally{if(d)throw p}}var w=!0,x=!1,S=void 0;try{for(var I,A=Object.keys(l)[Symbol.iterator]();!(w=(I=A.next()).done);w=!0){var T=I.value;s[T]||i(T)}}catch(M){x=!0,S=M}finally{try{w||null==A.return||A.return()}finally{if(x)throw S}}var k=!0,O=!1,D=void 0;try{for(var C,R=Object.keys(s)[Symbol.iterator]();!(k=(C=R.next()).done);k=!0){var _=C.value,P=l[_],N=s[_];P?An(P,N)||(i(_),a(_,N)):a(_,N)}}catch(M){O=!0,D=M}finally{try{k||null==R.return||R.return()}finally{if(O)throw D}}}else{var L=!0,U=!1,F=void 0;try{for(var j,Z=Object.keys(l)[Symbol.iterator]();!(L=(j=Z.next()).done);L=!0){var G=j.value;i(G)}}catch(M){U=!0,F=M}finally{try{L||null==Z.return||Z.return()}finally{if(U)throw F}}}})),{disable:function(){if(f){f=!1;var e=!0,n=!1,t=void 0;try{for(var r,o=Object.values(l)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i,a=r.value;a.closeChannel(),null===(i=a.client)||void 0===i||i.destroy(),a.client=null;var c=!0,d=!1,p=void 0;try{for(var m,v=u[Symbol.iterator]();!(c=(m=v.next()).done);c=!0){var h=Sn(m.value,2),b=h[0],y=h[1];if(s.has(b)){s.delete(b);var g=!0,E=!1,w=void 0;try{for(var x,S=y[Symbol.iterator]();!(g=(x=S.next()).done);g=!0){(0,x.value)(null)}}catch(I){E=!0,w=I}finally{try{g||null==S.return||S.return()}finally{if(E)throw w}}}}}catch(I){d=!0,p=I}finally{try{c||null==v.return||v.return()}finally{if(d)throw p}}}}catch(I){n=!0,t=I}finally{try{e||null==o.return||o.return()}finally{if(n)throw t}}}},enable:function(){if(!f){f=!0;var e=!0,n=!1,t=void 0;try{for(var r,o=Object.keys(l)[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){d(r.value)}}catch(i){n=!0,t=i}finally{try{e||null==o.return||o.return()}finally{if(n)throw t}}}},onClient:function(e,n){var t;u.has(e)||u.set(e,[]),null===(t=u.get(e))||void 0===t||t.push(n);var r=s.get(e);if(r)n(r);else{var o=!0,i=!1,a=void 0;try{for(var c,f=Object.values(l)[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var d=c.value;if(In(d.globPattern,e)){d.client&&n(d.client);break}}}catch(p){i=!0,a=p}finally{try{o||null==f.return||f.return()}finally{if(i)throw a}}}return function(){u.set(e,(u.get(e)||[]).filter((function(e){return e!==n})))}}}}function Dn(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function Cn(e){var n=e.runnerMode,t=void 0===n?"shellrunner":n,r=e.onUnrecoverableError,o=e.openFile,s=(0,a.Z)({onUnrecoverableError:r}),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(e){x()(m,e)||(m=e,c.emit(y.INSTRUCTIONS_VIEWER_TOGGLED,e))},t=function(e){x()(h,e)||(h=e,c.emit(y.SESSION_STATE_CHANGED,h))},r=function(e){s!==e&&(s=e,c.emit(y.PREVIEWED_FILE_CHANGED,e))},o=function(e){x()(e,v)||(v=e,c.emit(y.CURSOR_POSITION_CHANGED,e))},i=function(e){d!==e&&(d=e,c.emit(y.COMMAND_BAR_TOGGLED,d))},a=function(e){p!==e&&(p=e,c.emit(y.CONFIG_FILE_VISIBILITY_TOGGLED,p))},u=function(e,n){var t=n||h.openFiles.length;if(e<0||e>=t||!Number.isInteger(e))throw new Error("Invalid index: ".concat(e,". Index must be an integer between 0 and ").concat(t))},c=(0,g.ZP)();c.setMaxListeners(1e3);var s=null,l=null,f=[],d=!1,p=!1,m=!1,v={column:1,lineNumber:1,offset:0},h={openFiles:[],activeTab:0},b=window.performance.now(),E=0;return{onSessionStateChanged:function(e){return c.on(y.SESSION_STATE_CHANGED,e),function(){c.removeListener(y.SESSION_STATE_CHANGED,e)}},onPreviewedFileChanged:function(e){return c.on(y.PREVIEWED_FILE_CHANGED,e),function(){c.removeListener(y.PREVIEWED_FILE_CHANGED,e)}},onCursorPositionChanged:function(e){return c.on(y.CURSOR_POSITION_CHANGED,e),function(){c.removeListener(y.CURSOR_POSITION_CHANGED,e)}},onCommandBarToggled:function(e){return c.on(y.COMMAND_BAR_TOGGLED,e),function(){c.removeListener(y.COMMAND_BAR_TOGGLED,e)}},onHiddenFileVisibilityToggled:function(e){return c.on(y.CONFIG_FILE_VISIBILITY_TOGGLED,e),function(){c.removeListener(y.CONFIG_FILE_VISIBILITY_TOGGLED,e)}},onDeeplinkUpdated:function(e){return c.on(y.DEEPLINK_CHANGED,e),l&&(e(l),l=null),function(){c.removeListener(y.DEEPLINK_CHANGED,e)}},onEditorFocused:function(e){return c.on(y.EDITOR_FOCUSED,e),function(){c.removeListener(y.EDITOR_FOCUSED,e)}},closeTab:function(e){u(e);var n=h.openFiles.slice(),r=h.activeTab;e<=h.activeTab&&0!==h.activeTab&&r--,n.splice(e,1),t({openFiles:n,activeTab:r})},closeFile:function(e){var n=h.openFiles.indexOf(e);n>-1&&this.closeTab(n)},openFile:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.openFile)e.openFile({path:n,newTab:r.newTab,col:r.col,line:r.line});else{var o=r.tabIndex,i=r.newTab,a=f.indexOf(n);if(-1!==a?(f.splice(a),f.unshift(n)):(f.unshift(n),f.length>5&&f.pop()),void 0===o)if(h.openFiles.includes(n))t(D({},h,{activeTab:h.openFiles.indexOf(n)}));else{var c=h.openFiles.slice();if(i){var s=0===c.length?0:h.activeTab+1;return c.splice(s,0,n),void t({openFiles:c,activeTab:s})}var l=h.activeTab;c.splice(l,1,n),t({openFiles:c,activeTab:l})}else{u(o,h.openFiles.length+1);var d=h.openFiles.slice(),p=h.openFiles.indexOf(n);if(-1===p)return d.splice(o,1,n),void t({openFiles:d,activeTab:d.indexOf(n)});if(p===o)return void t(D({},h,{activeTab:d.indexOf(n)}));d.splice(p,1),d.splice(o,0,n);var m=d.indexOf(n);t({openFiles:d,activeTab:m})}}},moveFile:function(e,n){var r=h.openFiles.map((function(t){return t===e?n:(0,k.yr)(e,t)?(0,k.hk)(e,n,t):t}));t(D({},h,{openFiles:r}))},deleteFile:function(e){var n=h.openFiles[h.activeTab],r=h.openFiles.filter((function(n){return n!==e&&!(0,k.yr)(e,n)})),o=r.includes(n)?r.indexOf(n):r.length-1,i=Math.max(0,o),a=f.findIndex((function(n){return n===e}));a&&f.splice(a,1),t({openFiles:r,activeTab:i})},updateDeeplink:function(e){c.emit(y.DEEPLINK_CHANGED,e),l=e},focusEditor:function(){c.emit(y.EDITOR_FOCUSED)},writeToTerminal:function(e){c.emit(y.TERMINAL_WRITE_CALLED,e)},clearTerminal:function(){c.emit(y.TERMINAL_CLEAR_CALLED)},onTerminalWrite:function(e){return c.on(y.TERMINAL_WRITE_CALLED,e),function(){c.off(y.TERMINAL_WRITE_CALLED,e)}},onTerminalClear:function(e){return c.on(y.TERMINAL_CLEAR_CALLED,e),function(){c.off(y.TERMINAL_CLEAR_CALLED,e)}},getActiveFile:function(){var e=h.openFiles,n=h.activeTab;if(0!==e.length)return e[n]},getCursorPosition:function(){return v},getRecentFiles:function(){return f},setPreviewedFile:r,setCursorPosition:o,setIsCommandBarOpen:i,setAreHiddenFilesVisible:a,getPreviewedFile:function(){return s},getIsCommandBarOpen:function(){return d},getAreHiddenFilesVisible:function(){return p},onWpxTaskCompletionSurveyReady:function(e){return c.on(y.WPX_TASK_COMPLETION_SURVEY_READY,e),function(){c.removeListener(y.WPX_TASK_COMPLETION_SURVEY_READY,e)}},incrementProjectRunCount:function(){if(++E>=5){var e=window.performance.now()-b;setTimeout((function(){c.emit(y.WPX_TASK_COMPLETION_SURVEY_READY)}),Math.max(T-e,0))}},getState:function(){return h},getInstructionsViewerVisible:function(){return m},setInstructionsViewerVisible:n,onInstructionsViewerToggled:function(e){return c.on(y.INSTRUCTIONS_VIEWER_TOGGLED,e),function(){c.off(y.INSTRUCTIONS_VIEWER_TOGGLED,e)}}}}({openFile:o}),f=(0,L.Z)({container:s}),d=A({container:s}),p=(0,Se.Z)({container:s,fs:f}),m=(0,u.Z)({container:s,dotReplit:p}),v=function(e){var n=e.container,t=(0,g.ZP)(),r=null,o=[],a=[];function u(){return c.apply(this,arguments)}function c(){return(c=P(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",r);case 2:return e.abrupt("return",new Promise((function(e){t.once(C.MESSAGES_LOADED,(function(){e(r)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.openChannel({service:"chat",name:"chatter"},(function(e){var n=e.channel;if(!e.error){if(!n)throw new Error("Expected channel");return n.onCommand((function(e){switch(e.body){case"chatMessage":var i=e.chatMessage;if(!i||!i.username||!i.text)throw new Error("expected a chat message in the response");o.push(i),t.emit(C.MESSAGE_RECEIVED,{text:i.text,username:i.username});break;case"chatTyping":var u=e.chatTyping;if(!u||!u.username)return;var c=u.username,s=u.typing;s&&!a.includes(c)&&a.push(c),!s&&a.includes(c)&&a.splice(a.indexOf(c),1),t.emit(C.USER_TYPING_UPDATED,{username:c,isTyping:Boolean(s)});break;case"chatScrollback":var l=e.chatScrollback;if(!(null===l||void 0===l?void 0:l.scrollback))return;l.scrollback.forEach((function(e){return o.push(e)})),r=n,t.emit(C.MESSAGES_LOADED,o)}})),function(){r=null}}})),{sendMessage:function(e){return P(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u();case 2:r=n.sent,o.push(e),r.send({chatMessage:e}),t.emit(C.MESSAGE_SENT,e);case 6:case"end":return n.stop()}}),n)})))()},onMessageReceived:function(e){return t.on(C.MESSAGE_RECEIVED,e),function(){t.removeListener(C.MESSAGE_RECEIVED,e)}},onMessageSent:function(e){return t.on(C.MESSAGE_SENT,e),function(){t.removeListener(C.MESSAGE_SENT,e)}},updateUserTyping:function(e){return P(i().mark((function n(){var t,r,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u();case 2:t=n.sent,r=e.username,o=e.isTyping,t.send({chatTyping:{username:r,typing:o}});case 5:case"end":return n.stop()}}),n)})))()},onUserTypingUpdated:function(e){return t.on(C.USER_TYPING_UPDATED,e),function(){t.removeListener(C.USER_TYPING_UPDATED,e)}},onMessagesLoaded:function(e){return t.on(C.MESSAGES_LOADED,e),function(){t.removeListener(C.MESSAGES_LOADED,e)}},getMessages:function(){return o},getUsersTyping:function(){return a}}}({container:s}),h=function(){var e,n=(e=i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("kaboom"!==(null===(n=s.getContext())||void 0===n?void 0:n.repl.language)){e.next=4;break}return e.next=4,$e(f);case 4:return e.next=6,f.flush();case 6:return e.next=8,(0,tn.Z)(s,p);case 8:if(!e.sent){e.next=11;break}return e.next=11,m.installPackages();case 11:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){Dn(i,r,o,a,u,"next",e)}function u(e){Dn(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}(),b=(0,R.Z)({mode:t,container:s,beforeRun:h}),E=function(e){var n=e.container,t=e.beforeRun,r=(0,M.u)(null);return{mainClient:r,connect:function(){return new Promise((function(e,o){r.current||n.openChannel({service:"debugger"},(function(n){if(!n.error)return r.current=Ee({channel:n.channel,beforeRun:t}),e(null),function(){r.current=null};o(n.error)}))}))}}}({container:s,beforeRun:h}),w=(0,F.Z)({beforeRun:h,getMainFileContents:function(e){return(0,U.Z)({language:e,fs:f})}}),S=Z({container:s}),I=function(e){var n=e.container,t=function(e){o!==e&&(o=e,r.emit(He.ON_CLIENT,o))},r=(0,g.ZP)(),o=null,i=!1,a=0,u=null,s=function(){t(null)},l=!1,f={start:function(){l||(l=!0,s=n.openChannel({service:"lsp",skip:function(e){if(e.repl.language.startsWith("nix")||e.repl.language.startsWith("html"))return!0;var n=ke().get(e.repl.language).entrypoint;return!(0,_e.D)(n)||!ke().supportsLSP(e.repl.language)}},(function(e){var r=e.error,o=e.channel,s=e.context;if(!r){var l=!1,d=function(){},p=ke().get(s.repl.language).entrypoint,m=(0,_e.D)(p);if(!m)throw new Error("Expected languageId");var v=Be({connection:{read:function(e){o.onCommand((function(n){n.output&&e(n.output)}))},write:function(e){"open"===o.status&&o.send({input:e})},didClose:function(){return"open"!==o.status}},clientId:"legacy-"+m,isSupportedFile:function(e){var n=(0,_e.D)(e);return n===m||!(!We.includes(m)||!We.includes(n||""))}});n.exec("pwd").then((function(e){if(!l){var n=e.output?e.output.replace(/\n/,""):null;if(!n)throw new Error("Expected pwd");if(!v)throw new Error("Expected client");v.initialize({pwd:n}),d=v.onServerStateChange((function(e){l||e===Ae.a.INITIALIZED&&t(v)}))}}));var h=o.onCommand((function(e){e.output||e.state===c.api.State.Stopped&&(Ie.kg.error("LSP server unexpectedly disconnected",{lspId:m,appService:"lsp"}),a++,f.stop(),u=setTimeout((function(){return f.start()}),1e3*Math.pow(2,a)))}));return function(){v&&(v.destroy(),t(null)),l=!0,d(),h(),i&&(i=!1)}}})))},getClient:function(){return o},onClient:function(e){return(0,g.NH)(r,He.ON_CLIENT,e)},stop:function(){if(i=!0,l=!1,null!==u&&clearTimeout(u),o){var e=o.onServerStateChange((function(n){n===Ae.a.EXITED&&(e(),s())}));return o.destroy(),void t(null)}s()}};return f}({container:s}),O=On({container:s,dotReplit:p}),_=ln({container:s,beforeRun:h}),N=function(e){var n=e.fs,t={},r={},o={},a=(0,g.ZP)();function u(e){return c.apply(this,arguments)}function c(){return c=dn(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=dn(i().mark((function e(t){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,new Promise((function(e){r=n.watchOtFile(t.path,{onReady:function(n){var o=n.transformSelection,i=n.version;if(r(),i===t.otVersion)return e({indexStart:t.indexStart,indexEnd:t.indexEnd,version:t.otVersion});e(o({indexStart:t.indexStart,indexEnd:t.indexEnd,versionFrom:t.otVersion,versionTo:i}))}})}));case 3:return o=e.sent,a=mn({},t,{indexStart:o.indexStart,indexEnd:o.indexEnd,otVersion:o.version}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}return{onAnchorPortalSet:function(e,n){var t=function(t){t.id===e&&n(t)};return a.on(sn.PORTAL_UPDATED,t),function(){a.removeListener(sn.PORTAL_UPDATED,t)}},addAnchors:function(e){return dn(i().mark((function n(){var o,c,s,l,f,d,p,m,v,h,b,y,g;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(o=!0,c=!1,s=void 0,n.prev=1,l=e[Symbol.iterator]();!(o=(f=l.next()).done);o=!0)d=f.value,t[d.id]=d;n.next=9;break;case 5:n.prev=5,n.t0=n.catch(1),c=!0,s=n.t0;case 9:n.prev=9,n.prev=10,o||null==l.return||l.return();case 12:if(n.prev=12,!c){n.next=15;break}throw s;case 15:return n.finish(12);case 16:return n.finish(9);case 17:return n.next=19,u(e);case 19:for(p=n.sent,m=!0,v=!1,h=void 0,n.prev=21,b=p[Symbol.iterator]();!(m=(y=b.next()).done);m=!0)g=y.value,r[g.id]=g;n.next=29;break;case 25:n.prev=25,n.t1=n.catch(21),v=!0,h=n.t1;case 29:n.prev=29,n.prev=30,m||null==b.return||b.return();case 32:if(n.prev=32,!v){n.next=35;break}throw h;case 35:return n.finish(32);case 36:return n.finish(29);case 37:a.emit(sn.ANCHORS_ADDED,p);case 38:case"end":return n.stop()}}),n,null,[[1,5,9,17],[10,,12,16],[21,25,29,37],[30,,32,36]])})))()},removeAnchors:function(e){return dn(i().mark((function n(){var u,c,s,l,f,d,p;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u=[],c=!0,s=!1,l=void 0,n.prev=2,f=e[Symbol.iterator]();case 4:if(c=(d=f.next()).done){n.next=15;break}if(p=d.value,t[p]){n.next=8;break}return n.abrupt("continue",12);case 8:u.push(t[p]),delete o[p],delete r[p],delete t[p];case 12:c=!0,n.next=4;break;case 15:n.next=21;break;case 17:n.prev=17,n.t0=n.catch(2),s=!0,l=n.t0;case 21:n.prev=21,n.prev=22,c||null==f.return||f.return();case 24:if(n.prev=24,!s){n.next=27;break}throw l;case 27:return n.finish(24);case 28:return n.finish(21);case 29:a.emit(sn.ANCHORS_REMOVED,u);case 30:case"end":return n.stop()}}),n,null,[[2,17,21,29],[22,,24,28]])})))()},getAnchors:function(e){return dn(i().mark((function n(){var o,a,c,s,l,f,d,p;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=Object.values(t).filter((function(n){return n.path===e})),n.next=3,u(o);case 3:for(a=n.sent,c=!0,s=!1,l=void 0,n.prev=5,f=a[Symbol.iterator]();!(c=(d=f.next()).done);c=!0)p=d.value,r[p.id]=p;n.next=13;break;case 9:n.prev=9,n.t0=n.catch(5),s=!0,l=n.t0;case 13:n.prev=13,n.prev=14,c||null==f.return||f.return();case 16:if(n.prev=16,!s){n.next=19;break}throw l;case 19:return n.finish(16);case 20:return n.finish(13);case 21:return n.abrupt("return",a);case 22:case"end":return n.stop()}}),n,null,[[5,9,13,21],[14,,16,20]])})))()},createThread:function(e){a.emit(sn.THREAD_CREATED,e)},explainCode:function(e){a.emit(sn.CODE_EXPLAINED,e)},onThreadCreated:function(e){return a.on(sn.THREAD_CREATED,e),function(){a.off(sn.THREAD_CREATED,e)}},onCodeExplained:function(e){return a.on(sn.CODE_EXPLAINED,e),function(){a.off(sn.CODE_EXPLAINED,e)}},onAnchorsAdded:function(e){return a.on(sn.ANCHORS_ADDED,e),function(){a.removeListener(sn.ANCHORS_ADDED,e)}},onAnchorsRemoved:function(e){return a.on(sn.ANCHORS_REMOVED,e),function(){a.removeListener(sn.ANCHORS_REMOVED,e)}},setAnchorPortal:function(e){t[e.id]&&r[e.id]&&(o[e.id]=e,a.emit(sn.PORTAL_UPDATED,e))}}}({fs:f});return{session:l,presence:d,packager:m,container:s,fs:f,chat:v,runner:b,debuggest:E,replbox:w,broadcast:S,dotReplit:p,lsp:I,lspnix:O,iotester:_,anchorer:N}}},923:function(e,n,t){var r,o;t.d(n,{Z:function(){return o},z:function(){return r}}),function(e){e.INSTRUCTION_RESULT="INSTRUCTION_RESULT",e.TEST_RESULT="TEST_RESULT",e.ERROR="ERROR",e.STATE_CHANGED="STATE_CHANGED"}(r||(r={})),function(e){e[e.Idle=0]="Idle",e[e.Starting=1]="Starting",e[e.Ready=2]="Ready",e[e.Building=3]="Building",e[e.Running=4]="Running"}(o||(o={}))},15111:function(e,n,t){t.d(n,{D:function(){return i}});var r=t(1864),o=[{id:"abap",extensions:[".abap"]},{id:"aes",extensions:[".aes"]},{id:"apex",extensions:[".cls"]},{id:"azcli",extensions:[".azcli"]},{id:"bat",extensions:[".bat",".cmd"]},{id:"bibtex",extensions:[".bib",".bbl"]},{id:"bicep",extensions:[".bicep"]},{id:"c",extensions:[".c",".h"]},{id:"cameligo",extensions:[".mligo"]},{id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"]},{id:"coffeescript",extensions:[".coffee"]},{id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"]},{id:"csharp",extensions:[".cs",".csx",".cake"]},{id:"css",extensions:[".css"]},{id:"d",extensions:[".d"]},{id:"dart",extensions:[".dart"]},{id:"diff",extensions:[".diff",".patch"]},{id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"]},{id:"ecl",extensions:[".ecl"]},{id:"ejs",extensions:[".ejs"]},{id:"elisp",extensions:[".el"]},{id:"elixir",extensions:[".ex",".exs"]},{id:"elm",extensions:[".elm"]},{id:"erlang",extensions:[".erl",".hrl"]},{id:"flow9",extensions:[".flow"]},{id:"forth",extensions:[".fth"]},{id:"fortran",extensions:[".f",".for",".f90"]},{id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"]},{id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"]},{id:"gitignore"},{id:"glsl",extensions:[".vert",".tesc",".tese",".geom",".frag",".comp",".glsl",".glslv",".glslf",".glslg"]},{id:"go",extensions:[".go"]},{id:"graphql",extensions:[".graphql",".gql"]},{id:"groovy",extensions:[".groovy",".gvy",".gy",".gsh"]},{id:"handlebars",extensions:[".handlebars",".hbs"]},{id:"haskell",extensions:[".hs",".lhs"]},{id:"hcl",extensions:[".tf",".tfvars",".hcl"]},{id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"]},{id:"erb",extensions:[".erb",".rhtml",".rhtm"]},{id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"]},{id:"jade",extensions:[".jade",".pug"]},{id:"java",extensions:[".java",".jav"]},{id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],filenames:["jakefile"]},{id:"javascriptreact",extensions:[".jsx"]},{id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"]},{id:"julia",extensions:[".jl"]},{id:"kotlin",extensions:[".kt",".kts"]},{id:"latext",extensions:[".tex"]},{id:"less",extensions:[".less"]},{id:"lexon",extensions:[".lex"]},{id:"liquid",extensions:[".liquid"]},{id:"lisp",extensions:[".lisp",".lsp",".l",".fasl"]},{id:"lua",extensions:[".lua"]},{id:"m3",extensions:[".m3",".i3",".mg",".ig"]},{id:"makefile",filenames:["Makefile","makefile","GNUmakefile"],extensions:[".mak",".MAKE"]},{id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"]},{id:"mips",extensions:[".s"]},{id:"msdax",extensions:[".dax",".msdax"]},{id:"nim",extensions:[".nim"]},{id:"objective-c",extensions:[".m"]},{id:"objective-cpp",extensions:[".mm"]},{id:"ocaml",extensions:[".ml",".mli"]},{id:"pascal",extensions:[".pas",".p",".pp"]},{id:"pascaligo",extensions:[".ligo"]},{id:"perl",extensions:[".pl"]},{id:"perl6",extensions:[".pl6",".p6",".pm6",".pod6",".t6",".raku",".rakumod",".rakutest"]},{id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"]},{id:"pla",extensions:[".pla"]},{id:"plaintext",extensions:[".txt"]},{id:"postiats",extensions:[".dats",".sats",".hats"]},{id:"powerquery",extensions:[".pq",".pqm"]},{id:"powershell",extensions:[".ps1",".psm1",".psd1"]},{id:"processing",extensions:[".pde"]},{id:"prolog",extensions:[".pro",".plg"]},{id:"proto",extensions:[".proto"]},{id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"]},{id:"qsharp",extensions:[".qs"]},{id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"]},{id:"razor",extensions:[".cshtml"]},{id:"reason",extensions:[".re",".rei"]},{id:"redis",extensions:[".redis"]},{id:"restructuredtext",extensions:[".rst"]},{id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"]},{id:"rust",extensions:[".rs",".rlib"]},{id:"sass",extensions:[".sass"]},{id:"sb",extensions:[".sb"]},{id:"scala",extensions:[".scala",".sc",".sbt"]},{id:"scheme",extensions:[".scm",".ss",".sch",".rkt"]},{id:"scss",extensions:[".scss"]},{id:"shellscript",extensions:[".sh",".bash"]},{id:"sol",extensions:[".sol"]},{id:"sparql",extensions:[".rq"]},{id:"sql",extensions:[".sql"]},{id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"]},{id:"svelte",extensions:[".svelte"]},{id:"swift",extensions:[".swift"]},{id:"systemverilog",extensions:[".sv",".svh"]},{id:"tcl",extensions:[".tcl"]},{id:"toml",extensions:[".toml"]},{id:"twig",extensions:[".twig"]},{id:"typescript",extensions:[".ts"]},{id:"typescriptreact",extensions:[".tsx"]},{id:"vb",extensions:[".vb"]},{id:"verilog",extensions:[".v",".vh"]},{id:"vue",extensions:[".vue"]},{id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"]},{id:"yaml",extensions:[".yaml",".yml"]}],i=function(e){var n=(0,r.extname)(e),t=(0,r.basename)(e),i=!0,a=!1,u=void 0;try{for(var c,s=o[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l,f,d=c.value;if((null===(l=d.extensions)||void 0===l?void 0:l.includes(n))||(null===(f=d.filenames)||void 0===f?void 0:f.includes(t)))return d.id}}catch(p){a=!0,u=p}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}return null}},24865:function(e,n,t){var r;t.d(n,{a:function(){return r}}),function(e){e.OFFLINE="OFFLINE",e.INITIALIZING="INITIALIZING",e.INITIALIZED="INITIALIZED",e.EXITING="EXITING",e.EXITED="EXITED"}(r||(r={}))},93577:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(91131),o=t(11717),i=t(29632),a=t(39809);function u(){var e=(0,a.Z)(),n=e.openFiles,t=e.activeTab,u=(0,o.VV)(),c=(0,r.Dv)(i.QP);return u?c:n[t]||null}},39809:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(67294),o=t(30617),i=t(57923);function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(){var e=(0,o.Z)().session,n=u(r.useState(e.getState()),2),t=n[0],a=n[1],c=(0,i.Z)();return r.useEffect((function(){return a(e.getState()),e.onSessionStateChanged((function(e){c.current&&a(e)}))}),[e,c]),t}},15602:function(e,n){n.Z={brand:{darkBlue:"#0D101E",lightBlue:"#68CDEE",gray:"#6D7D84"},main:{green:{dark:"#0A6640",default:"#0F9960",light:"#3DCC91",25:"rgba(15,153,96,0.25)",15:"rgba(15,153,96,0.15)"},red:{dark:"#A82A2A",default:"#DB3737",light:"#FF7373",25:"rgba(219, 55, 55, 0.25)",15:"rgba(219, 55, 55, 0.15)"},blue:{dark:"#0068AD",default:"#0097FB",light:"#73C4FA",25:"rgba(0, 151, 251, 0.25)",15:"rgba(0, 151, 251, 0.15)"},orange:{dark:"#A14809",default:"#E16D1A",light:"#FC9C58",25:"rgba(225, 109, 26, 0.25)",15:"rgba(225, 109, 26, 0.15)"},purple:{dark:"#6213B1",default:"#9D43F7",light:"#BF80FF",25:"rgba(98, 19, 177, 0.25)",15:"rgba(98, 19, 177, 0.15)"},gold:{dark:"#A67908",default:"#D99E0B",light:"#FFC940",25:"rgba(217, 158, 11, 0.25)",15:"rgba(217, 158, 11, 0.15)"}},neutrals:{black:"#21242C",white:"#FFFFFF",offWhite:"#F7F8FA",black64:"rgba(33, 36, 44, 0.64)",black50:"rgba(33, 36, 44, 0.50)",black16:"rgba(33, 36, 44, 0.16)",black8:"rgba(33, 36, 44, 0.08)",white64:"rgba(255, 255, 255, 0.64)",white50:"rgba(255, 255, 255, 0.50)",white16:"rgba(255, 255, 255, 0.16)",white8:"rgba(255, 255, 255, 0.08)"},multiplayer:{green:"#1BC47D",red:"#EF5533",blue:"#18A0FB",gold:"#FFC700",purple:"#907CFF",teal:"#00B5CE",pink:"#EE46D3"},languages:{java:"#b07219",scheme:"#1e4aec",clojure:"#db5855",haskell:"#5e5086",lua:"#000080",ruby:"#701516",python:"#3572A5",go:"#00ADD8",cpp:"#f34b7d",c:"#555555","c#":"#178600","f#":"#b845fc",rust:"#dea584",swift:"#ffac45",r:"#198CE7",bash:"#000000",crystal:"#000100",julia:"#a270ba",elixir:"#6e4a7e",nim:"#37775b",dart:"#00B4AB",erlang:"#B83998",typescript:"#2b7489",elisp:"#c065db",sql:"#e34c26",php:"#4F5D95",html:"#e34c26",css:"#563d7c",javascript:"#f1e05a"}}},96505:function(e,n,t){t.d(n,{M:function(){return p},Z:function(){return l}});var r=t(35944),o=(t(67294),t(23139)),i=t(66754),a=t(70917);function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){u(e,n,t[n])}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function l(e){var n,t=null===(n=e.highlightRanges)||void 0===n?void 0:n.filter((function(e){return e.to>0}));return(0,r.BX)(o.Tg,{elevated:!0,css:[o.l0.align.center,o.l0.p(4),o.l0.borderRadius(8),o.l0.rowWithGap(4),e.active?o.l0.color.foregroundDefault:o.l0.color.foregroundDimmer,e.active&&[{}],{fontSize:o.TV.fontSizeDefault,lineHeight:"normal"}],children:[e.icon,(0,r.tZ)(o.xv,{css:[{color:"inherit"}],children:(null===t||void 0===t?void 0:t.length)?(0,r.tZ)(i.xK,{style:{color:(e.active,o.TV.foregroundDimmest)},matchStyle:{fontWeight:o.TV.fontWeightBold,color:o.TV.foregroundDefault},source:e.label,matches:t.map((function(e){return{column:e.from,length:e.to-e.from}}))}):e.label})]})}var f=(0,o.KD)("button"),d=(0,a.iv)({border:"none",background:"transparent",color:"inherit",font:"inherit",cursor:"pointer"});function p(e){var n=e.onClick,t=s(e,["onClick"]);return(0,r.tZ)(f,{css:[d],onClick:n,children:(0,r.tZ)(l,c({},t))})}},15391:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(35944),o=(t(67294),t(23139)),i=t(96505),a=t(85567);function u(e){var n=e.content||(0,r.BX)(r.HY,{children:[(Array.isArray(e.item)?e.item:[e.item]).map((function(e,n){return(0,r.tZ)(i.Z,{icon:e.icon,label:e.label,active:e.active,highlightRanges:e.highlightRanges},e.label+n)})),e.description?(0,r.tZ)(o.xv,{variant:"small",color:e.active?"dimmer":"dimmest",css:[o.l0.flex.growAndShrink(1)],children:e.description}):null]});return(0,r.BX)(o.Tg,{elevated:e.active,css:[o.l0.p(8),o.l0.rowWithGap(4),o.l0.align.center,o.l0.justify.spaceBetween],children:[(0,r.tZ)(o.G7,{css:[o.l0.rowWithGap(4),o.l0.align.center,o.l0.flex.growAndShrink(1)],children:n}),e.keyboardShortcut?(0,r.tZ)(a.Z,{shortcut:e.keyboardShortcut}):null]})}},71054:function(e,n,t){t.d(n,{i:function(){return b},q:function(){return v}});var r=t(34051),o=t.n(r),i=t(35944),a=(t(67294),t(48015)),u=t(94157),c=t(28614),s=t(36107),l=t(55681),f=t(23139),d=t(93770);function p(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function m(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){p(i,r,o,a,u,"next",e)}function u(e){p(i,r,o,a,u,"throw",e)}a(void 0)}))}}var v={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"P"};function h(){return(0,i.BX)(f.G7,{css:[f.l0.rowWithGap(8)],children:[(0,i.tZ)(c.Z,{}),(0,i.tZ)(f.xv,{color:"dimmest",children:"Something went wrong searching your Repl's files. Please try again."})]})}function b(e){return(0,s.fA)({type:"context",label:"Files",description:"Find a file",icon:(0,i.tZ)(u.Z,{}),keyboardShortcut:v},{match:(0,s.zf)({defaultScore:3}),commands:function(){var n=m(o().mark((function n(t){var r,u,f,p,v,b,y,g;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.session,u=e.fs,(f=t.search?t.search.toLowerCase():void 0)||t.active){n.next=4;break}return n.abrupt("return",[]);case 4:return n.next=6,e.getRecentFiles();case 6:if(p=n.sent,v=new Set(p),!f&&!t.active){n.next=17;break}return n.next=11,u.listFiles();case 11:if(!(b=n.sent).error){n.next=14;break}return n.abrupt("return",[{data:{type:"error",label:b.error,icon:(0,i.tZ)(c.Z,{})},match:function(){return{score:1,render:{content:(0,i.tZ)(h,{})}}}}]);case 14:if(b.files){n.next=16;break}throw new Error("Expected files");case 16:b.files.forEach((function(e){v.has(e)||v.add(e)}));case 17:return y=[],v.forEach((function(e){var n=p.includes(e),t={type:"openFile",label:e,icon:(0,i.tZ)(l.Z,{path:e}),deeplink:{path:e}};if(f){var r=a.Z.match(f,e);r&&y.push((0,s.fA)(t,{match:function(){return{score:n?2*r.score:r.score,render:{ranges:r.ranges}}}}))}else y.push((0,s.fA)(t,{match:function(){return{score:1}}}))})),0===y.length&&t.active&&(g=t.search,y.push({data:{label:g,description:"Create a new file",icon:(0,i.tZ)(l.Z,{path:g}),type:"action",run:m(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.writeFile(g,d.Z.from(""));case 2:r.openFile(g);case 3:case"end":return e.stop()}}),e)})))},match:function(){return{score:1}}})),n.abrupt("return",y);case 21:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})}},36107:function(e,n,t){t.d(n,{fA:function(){return o},pl:function(){return a},zf:function(){return i}});var r=t(48015);function o(e,n){var t=n.commands;return{data:e,match:n.match,commands:t}}function i(e){var n=e.defaultScore,t=void 0===n?1:n;return function(e){var n=e.search,o=e.data,i=e.active;if(!n&&i)return{score:t};var a=r.Z.match(n,o.label);return a?{score:a.score,render:{ranges:a.ranges}}:null}}var a=i({defaultScore:1})},71688:function(e,n,t){t.d(n,{Z:function(){return b},k:function(){return m}});var r=t(67294),o=t(96594),i=t(90652),a=t(27291);function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||d(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){if(e){if("string"===typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function m(e){var n,t=e.path.map((function(e){return e.data.label}));return(null===(n=e.match)||void 0===n?void 0:n.key)&&t.push(e.match.key),t.join(":")}function v(e,n){return n.match.score-e.match.score}function h(e){var n,t=e.current,r=e.updates,o=e.insertSectionHeaders,i=r.items.sort(v),a=(null===(n=r.path[r.path.length-1])||void 0===n?void 0:n.data.description)||t.placeholder;if(o){var u=function(e){var n=new Map;e.forEach((function(e){var t=function(e){return e.path.slice(1,-1).map((function(e){return e.data.label})).join(" > ")}(e),r=n.get(t);r?r.items.push(e):n.set(t,{score:e.match.score,items:[e]})}));var t=f(n.entries()).sort((function(e,n){var t=l(e,2)[1];return l(n,2)[1].score-t.score})),r={items:[],itemsWithSections:[]},o=0;return t.forEach((function(e){var n=l(e,2),t=n[0],i=n[1];r.itemsWithSections.push({isSection:!0,name:t}),i.items.forEach((function(e){r.items.push(e),r.itemsWithSections.push({item:e,index:o++})}))})),r}(i);return{items:u.items,itemsWithSections:u.itemsWithSections,isLoading:Boolean(r.partial),path:r.path,placeholder:a}}return{items:i,isLoading:Boolean(r.partial),path:r.path,placeholder:a}}function b(e){var n,t=function(e){var n,t=e.index,r=e.focus;b.setPath(S.slice(0,t+1)),r&&(null===(n=s.current)||void 0===n||n.focus())},u=(0,a.Z)(e.onSelect),s=(0,r.useRef)(null),l=(0,r.useState)(""),f=l[0],d=l[1],m=(0,a.Z)(e.insertSectionHeaders),v=(0,r.useState)((function(){return function(e){var n=e.initialPath,t=e.partialUpdateTimeout,r=e.onUpdate,o=function(e){a&&clearTimeout(a);var n=++u,o=0,s=[],l=i[i.length-1];l.commands?(void 0!==t&&(a=setTimeout((function(){s.length&&r({items:s,partial:!0,path:i})}),t)),function t(l,f){if(o++,!l.commands)throw new Error("Expected commands");var d=c(f).concat([l]),p=d.length===i.length;Promise.resolve(l.commands({active:p,search:e,path:d})).then((function(l){n===u?(o--,l.forEach((function(n){var r=c(d).concat([n]),o=n.match?n.match({search:e,data:n.data,path:r,active:p}):null;o&&s.push({path:r,data:n.data,match:o}),n.commands&&t(n,d)})),o>0||(a&&clearTimeout(a),r({items:s,path:i}))):a&&clearTimeout(a)}))}(l,i.slice(0,i.length-1))):r({items:s,path:i})},i=n,a=null,u=0;return{search:o,setPath:function(e){i=e,o(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")},getPath:function(){return i}}}({initialPath:Array.isArray(e.initialCommand)?e.initialCommand:[e.initialCommand],partialUpdateTimeout:100,onUpdate:function(e){A((function(n){return h({current:n,updates:e,insertSectionHeaders:m.current})}))}})})),b=v[0];(0,r.useEffect)((function(){b.setPath(Array.isArray(e.initialCommand)?e.initialCommand:[e.initialCommand])}),[e.initialCommand,b]);var y=(0,r.useState)((function(){var e,n=b.getPath();return{path:n,items:[],itemsWithSections:[],isLoading:!1,placeholder:(null===(e=n[n.length-1])||void 0===e?void 0:e.data.description)||""}})),g=y[0],E=g.items,w=g.itemsWithSections,x=g.placeholder,S=g.path,I=g.isLoading,A=y[1],T=(0,i.Z)(f,100);(0,r.useEffect)((function(){A((function(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){p(e,n,t[n])}))}return e}({},e,{isLoading:!0})})),b.search(T)}),[b,T]);var k=Boolean(f||S.length>1),O=(0,o.Kb)({inputValue:f,items:E,itemToString:function(e){return e?e.data.label:""},initialHighlightedIndex:k?0:-1,defaultHighlightedIndex:k?0:-1}),D=O.selectedItem;return(0,r.useEffect)((function(){if(D)return"context"===D.data.type?(b.setPath(D.path),d(""),void(e.onShowInput&&e.onShowInput())):void u.current(D)}),[b,D,u]),{keyboardShortcut:null===(n=S[0])||void 0===n?void 0:n.data.keyboardShortcut,resetToIndex:t,handleBackspace:function(){f.length||1!==S.length&&t({index:S.length-2})},handleLeftRightArrow:function(e){if(O.highlightedIndex>-1){var n="previous"===("ArrowLeft"===e?"previous":"next")?E[O.highlightedIndex-1]?O.highlightedIndex-1:0===O.highlightedIndex&&E.length?E.length-1:null:E[O.highlightedIndex+1]?O.highlightedIndex+1:E[0]?0:null;null!==n&&O.setHighlightedIndex(n)}},combobox:O,inputValue:f,setInputValue:d,items:E,itemsWithSections:w,placeholder:x,path:S,isLoading:I,inputRef:s}}},83002:function(e,n,t){t.d(n,{P:function(){return f}});var r=t(67294),o=t(90361),i=t(81700),a=t.n(i),u=t(57923),c=t(30617);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(){var e=(0,c.Z)().dotReplit,n=(0,u.Z)(),t=l(r.useState(null),2),i=t[0],s=t[1];return r.useEffect((function(){return e.watch((function(e){n.current&&(e.error?e.error===o.Yt.NotFound&&s([]):e.config.hidden?s(e.config.hidden.map((function(e){return a()(e,{extended:!0,globstar:!0})}))):s([]))}))}),[e]),i}},76798:function(e,n,t){t.d(n,{Z:function(){return Xe}});var r,o=t(34051),i=t.n(o),a=t(35944),u=t(79547),c=t.n(u),s=t(67294),l=t(46846),f=t(41045),d=t(30617),p=t(40425),m=t(14214),v=t(37156),h=t(93770),b=t(69987),y=t(96076);function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function E(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function w(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){E(i,r,o,a,u,"next",e)}function u(e){E(i,r,o,a,u,"throw",e)}a(void 0)}))}}function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||I(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,n){if(e){if("string"===typeof e)return g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,n):void 0}}function A(){return A=w(i().mark((function e(n){var t,o,a,u,c,s,l,f,d,p,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.parentPath,o=n.overwrite,a=n.fs,u=n.files,c=n.shouldUseFileTransferAPI,s=n.onStart,l=n.onUpload,f=n.onError,d=n.onDone,p=function(){var e=w(i().mark((function e(n){var t,u,s,d,p,m,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.targetPath,u=n.file,s=n.progress,o){e.next=9;break}return e.next=4,a.stat(t);case 4:if(!e.sent.exists){e.next=9;break}return d={file:u,path:t,error:r.AlreadyExists},f(d),e.abrupt("return",d);case 9:return p=null,e.prev=10,e.next=13,(0,y.pV)(u);case 13:p=e.sent,e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(10),m={file:u,path:t,error:r.FileRead},f(m),e.abrupt("return",m);case 21:if(v=h.Z.from(p),!c){e.next=27;break}return e.next=25,a.transferFile(t,v,(function(e,n){s.current=n/e}));case 25:e.next=29;break;case 27:return e.next=29,a.writeFile(t,v);case 29:return l({file:u,path:t}),e.abrupt("return",{path:t,file:u});case 31:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(n){return e.apply(this,arguments)}}(),m=u.map((function(e){var n=e.path||e.webkitRelativePath||e.name;return{targetPath:t?t+"/"+n:n,progress:(0,b.u)(0),file:e}})),s(m),e.next=6,Promise.all(m.map(p));case 6:v=e.sent,d({parentPath:t,uploads:v.filter((function(e){return!("error"in e)})),errors:v.reduce((function(e,n){return"error"in n?S(e).concat([n]):e}),[])});case 8:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function T(e){var n=e.fs,t=e.onDone,r=x(s.useState([]),2),o=r[0],i=r[1],a=s.useRef(t);s.useEffect((function(){a.current=t}),[t]);var u=s.useCallback((function(e){var t=e.parentPath,r=e.files;!function(e){A.apply(this,arguments)}({overwrite:e.overwrite,parentPath:t,files:r.filter(Boolean),fs:n,shouldUseFileTransferAPI:!0,onStart:function(e){return i((function(n){return S(n).concat(S(e))}))},onUpload:function(e){i((function(n){return n.filter((function(n){return n.targetPath!==e.path}))}))},onError:function(e){i((function(n){return n.filter((function(n){return n.targetPath!==e.path}))}))},onDone:function(e){a.current&&a.current(e)}})}),[n,i]);return{uploadFiles:u,pendingUploads:o}}!function(e){e.AlreadyExists="ALREADY_EXIST",e.FileRead="FILE_READ",e.Network="NETWORK"}(r||(r={}));var k=t(91510),O=t(39511);function D(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function C(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return D(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(){var e=(0,d.Z)().session,n=C(s.useState(e.getAreHiddenFilesVisible()),2),t=n[0],r=n[1];return s.useEffect((function(){return r(e.getAreHiddenFilesVisible()),e.onHiddenFileVisibilityToggled(r)}),[e]),t}var _=t(5560),P=t(89796);function N(e){var n=e.onDownloadZip,t=e.readOnly,r=void 0!==t&&t,o=(0,P.y)().uploadFiles,i=s.useRef(null),u=s.useRef(null),f=R(),p=(0,_.Z)(),m=(0,d.Z)().session,v=s.useMemo((function(){if("undefined"===typeof document)return[];if(r)return[f?O.s.HideHiddenFiles:O.s.ShowHiddenFiles];var e=document.createElement("input"),n="webkitdirectory"in e||"mozdirectory"in e||"msdirectory"in e||"odirectory"in e||"directory"in e,t=[O.s.UploadFile];return n&&t.push(O.s.UploadFolder),t.push(O.s.DownloadZip),t.push(f?O.s.HideHiddenFiles:O.s.ShowHiddenFiles),t}),[f,r]);return(0,a.BX)(a.HY,{children:[(0,a.tZ)("input",{ref:i,type:"file",onChange:function(e){var n=e.target.files;n&&o({files:Array.from(n)})},onClick:function(e){e.currentTarget.value=""},multiple:!0,accept:"*",className:"jsx-2ff4f6cb1b2dc3a5"}),(0,a.tZ)("input",{ref:u,type:"file",onChange:function(e){var n=e.target.files;n&&o({files:Array.from(n)})},onClick:function(e){e.currentTarget.value=""},webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",accept:"*",className:"jsx-2ff4f6cb1b2dc3a5"}),(0,a.tZ)(O.Z,{actions:v,onAction:function(e){switch(e){case O.s.UploadFile:if(!i.current)return;return i.current.click(),void(0,k.Z)({replId:p,action:"uploaded",fileType:l.Tv.File});case O.s.UploadFolder:if(!u.current)return;return u.current.click(),void(0,k.Z)({replId:p,action:"uploaded",fileType:l.Tv.Directory});case O.s.DownloadZip:return n(),void(0,k.Z)({replId:p,action:"zipDownloaded"});case O.s.ShowHiddenFiles:return void m.setAreHiddenFilesVisible(!0);case O.s.HideHiddenFiles:m.setAreHiddenFilesVisible(!1)}}}),(0,a.tZ)(c(),{id:"2ff4f6cb1b2dc3a5",children:"input.jsx-2ff4f6cb1b2dc3a5{display:none}"})]})}var L=t(23139),U=t(88768),F=t(56603),j=t(39499),Z=t.n(j),G=t(53818);function M(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function V(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function B(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){V(i,r,o,a,u,"next",e)}function u(e){V(i,r,o,a,u,"throw",e)}a(void 0)}))}}function H(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function W(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return M(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z="date '+%s%N' && cat /sys/fs/cgroup/cpu/cpuacct.usage /sys/fs/cgroup/cpu/cpu.cfs_quota_us /sys/fs/cgroup/cpu/cpu.cfs_period_us /sys/fs/cgroup/memory/memory.usage_in_bytes /sys/fs/cgroup/memory/memory.limit_in_bytes ",J="cat /repl/stats/subvolume_usage_bytes /repl/stats/subvolume_total_bytes";function K(e,n){if(6!==e.length)throw new Error("Received unexpected output from resource tracking command: ".concat(e));var t={wallTimeNanos:Z().BigInt(0),cpuTimeNanos:Z().BigInt(0),cpuUtilPercent:0,memoryUsageBytes:0,memoryLimitBytes:0,storageUsedBytes:0,storageTotalBytes:1073741824},r=e.map((function(e){return parseInt(e,10)}));if(r.includes(NaN))throw new Error("Could not parse one or more values from resource monitoring command: ".concat(e));var o=Z().BigInt(e[0]),i=Z().BigInt(e[1]),a=r[2],u=r[3],c=r[4],s=r[5];if(!(c>=0&&s>0))throw new Error("Memory usage or limit reported negative: ".concat(e));if(t.memoryUsageBytes=c,t.memoryLimitBytes=s,Z().GT(n.wallTimeNanos,0)&&Z().GT(n.cpuTimeNanos,0)){var l=Z().toNumber(Z().subtract(o,n.wallTimeNanos)),f=Z().toNumber(Z().subtract(i,n.cpuTimeNanos));if(l>0&&f>=0&&a>0&&u>0){var d=a/u;t.cpuUtilPercent=100*f/l/d}else{t.cpuUtilPercent=0;var p=JSON.stringify(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){H(e,n,t[n])}))}return e}({},n,{wallTimeNanos:n.wallTimeNanos.toString(),cpuTimeNanos:n.cpuTimeNanos.toString()}));F.kg.error("CPU usage calculation returned negative value: ".concat(e,". Previous resources: ").concat(p))}}return t.wallTimeNanos=o,t.cpuTimeNanos=i,t}function q(e){if(2!==e.length)throw new Error("Received unexpected output from storage command: ".concat(e));var n=parseInt(e[0],10),t=parseInt(e[1],10);if(isNaN(n)||isNaN(t))throw new Error("Could not parse values from storage output command: ".concat(e));return{storageUsedBytes:n,storageTotalBytes:t}}function X(e){return e/1024/1024}function Y(e){var n=e.callToAction,t=function(){var e=(0,d.Z)().container,n=W(s.useState({wallTimeNanos:Z().BigInt(0),cpuTimeNanos:Z().BigInt(0),cpuUtilPercent:0,memoryUsageBytes:0,memoryLimitBytes:0,storageUsedBytes:0,storageTotalBytes:0}),2),t=n[0],r=n[1],o=(0,G.Z)(e);return s.useEffect((function(){var e=!1,n=null;function t(){return a.apply(this,arguments)}function a(){return(a=B(i().mark((function a(){var u,c,s;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,o({args:["bash","-c",z]});case 3:if(c=i.sent,!e){i.next=6;break}return i.abrupt("return");case 6:if(null===c.error){i.next=9;break}return F.kg.error("Error running resource tracking command",{errorMessage:c.error}),i.abrupt("return");case 9:return i.next=11,o({args:["bash","-c",J]});case 11:if(s=i.sent,!e){i.next=14;break}return i.abrupt("return");case 14:if(null===s.error||(null===(u=s.output)||void 0===u?void 0:u.includes("No such file or directory"))){i.next=17;break}return F.kg.error("Error running storage command",{errorMessage:s.error}),i.abrupt("return");case 17:r((function(e){var n,t;try{n=K(c.output.trim().split("\n"),e)}catch(r){return F.kg.error("Could not calculate resources",{errorMessage:r.message}),e}if(!n)throw new Error("Expected resources");try{t=q((s.output||"").trim().split("\n"))}catch(o){return F.kg.error("Could not calculate resources",{errorMessage:o.message}),e}return n.storageUsedBytes=t.storageUsedBytes,n.storageTotalBytes=t.storageTotalBytes,n})),n=setTimeout(t,2e3);case 19:case"end":return i.stop()}}),a)})))).apply(this,arguments)}return t(),function(){e=!0,n&&clearTimeout(n)}}),[o]),t}();return(0,a.tZ)(L.G7,{css:[L.l0.p(8),L.l0.backgroundColor.backgroundDefault,{borderTop:"1px solid ".concat(L.TV.backgroundHigher)}],children:(0,a.tZ)(L.w3,{callToAction:n,cpuTotal:100,cpuCurrent:t.cpuUtilPercent,ramTotal:X(t.memoryLimitBytes),ramCurrent:X(t.memoryUsageBytes),diskTotal:X(t.storageTotalBytes),diskCurrent:X(t.storageUsedBytes)})})}var $=t(8996),Q=t(7177),ee=t(60032),ne=t(38880),te=t(95883),re=t(27464),oe=t(7477),ie=t(74627),ae=t(93577),ue=t(44660),ce=t(84948),se=t(83002),le=t(67289);function fe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function de(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function pe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){de(e,n,t[n])}))}return e}function me(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return fe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fe(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ve=/\(copy\)( \d+)?$/,he=/\d+$/;function be(e,n){for(var t=(0,le.r6)(e),r=(0,le.eb)(e),o=ve.test(r)?e:"".concat(r," (copy)").concat(t.length>0?".".concat(t):""),i=1;i<=n.size;i++){if(!n.has(o))return o;var a=(0,le.eb)(o),u=a.split(" ");he.test(a)&&u.pop(),o="".concat(u.join(" ")," ").concat(i),t.length>0&&(o+=".".concat(t))}return o}var ye=t(73440),ge=t(90361),Ee=t(57923);function we(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function xe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return we(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return we(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Se=t(63292),Ie=t(44054),Ae=t(3204),Te=t(67938),ke=t(96505),Oe=t(54929),De=t(66552),Ce=t(27291),Re=t(85060),_e=t(88503),Pe=t(71688),Ne=t(71054),Le=t(29738),Ue=t(15391);function Fe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function je(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Fe(e,n,t[n])}))}return e}var Ze={backgroundColor:"transparent",borderColor:"transparent",color:Ae.TV.foregroundDefault,fontSize:Ae.TV.fontSizeDefault,paddingRight:Ae.TV.space4,paddingTop:Ae.TV.space4,paddingBottom:Ae.TV.space4,display:"block",width:"100%",lineHeight:1.4,"::placeholder":{color:Ae.TV.foregroundDimmest},":focus":{outline:"0 none"},":focus::placeholder":{color:Ae.TV.foregroundDimmer},":hover::placeholder":{color:Ae.TV.foregroundDimmer}},Ge=(0,Oe.K)("div"),Me=(0,Oe.K)("input");function Ve(e){var n=e.onIsOpenChange,t=(0,d.Z)(),r=t.fs,o=t.session,i=(0,Le.A)(),u=s.useMemo((function(){return(0,Ne.i)({session:o,fs:r,getRecentFiles:i})}),[r,i,o]),c=(0,Pe.Z)({insertSectionHeaders:!0,onSelect:function(e){if("openFile"===e.data.type)return o.openFile(e.data.deeplink.path),void c.setInputValue("")},initialCommand:u}),l=(0,Ce.Z)(n);(0,Re.Z)((function(){l.current(c.combobox.isOpen)}),[c.combobox.isOpen]);var f=(0,s.useRef)(null);return(0,a.tZ)(a.HY,{children:(0,a.tZ)(Oe.Z,{innerRef:f,css:[Fe({position:"relative",height:32,marginBottom:8},"@media (max-width: ".concat(Ie.j.mobileMax,"px)"),c.combobox.isOpen&&{position:"fixed",top:0,left:Ae.TV.space8,width:"calc(100% - ".concat(Ae.TV.space16,")")})],children:(0,a.BX)(De.Z,{background:"higher",css:[Ae.l0.borderRadius(8),{overflow:"hidden",border:"1px solid transparent",position:"absolute",top:0,left:8,width:"calc(100% - ".concat(Ae.TV.space16,")"),":focus-within":{boxShadow:Ae.TV.shadow2,borderColor:Ae.TV.outlineDimmest}}],children:[(0,a.tZ)(Ge,je({},c.combobox.getComboboxProps(),{children:(0,a.BX)(Oe.Z,{css:[Ae.l0.rowWithGap(4),Ae.l0.align.center,Ae.l0.p(4),Ae.l0.pl(8)],children:[c.path.map((function(e,n){var t=e.data;if(n<=0)return null;var r=t.label,o=t.icon,i=r+n;return(0,a.tZ)(ke.M,{label:r,icon:o,onClick:function(){c.resetToIndex({index:n,focus:!0})}},i)})),(0,a.BX)(Oe.Z,{css:[Ae.l0.rowWithGap(4),Ae.l0.align.center,Ae.l0.flex.growAndShrink(1)],children:[1===c.path.length?(0,a.tZ)(_e.Z,{fill:"var(--foreground-dimmest)"}):null,(0,a.tZ)(Me,je({css:[Ze]},c.combobox.getInputProps({value:c.inputValue,ref:c.inputRef,onChange:function(e){c.setInputValue(e.currentTarget.value)},onKeyDown:function(e){"ArrowLeft"!==e.key&&"ArrowRight"!==e.key?"Backspace"!==e.key||e.currentTarget.value?"Escape"===e.key&&e.currentTarget.blur():c.resetToIndex({index:0}):c.handleLeftRightArrow(e.key)},onFocus:function(){c.combobox.isOpen||c.combobox.openMenu()},placeholder:c.placeholder})))]})]})})),(0,a.tZ)(Ge,je({},c.combobox.getMenuProps(),{children:c.combobox.isOpen?(0,a.tZ)(Ge,{children:(0,a.tZ)(He,{items:c.itemsWithSections||[],getMenuProps:c.combobox.getMenuProps,getItemProps:c.combobox.getItemProps,highlightedIndex:c.combobox.highlightedIndex,isLoading:c.isLoading})}):null}))]})})})}function Be(e){return(0,a.tZ)(De.Z,{elevated:!0,children:(0,a.tZ)(Ge,je({},e.getMenuProps(),{css:[Ae.l0.flex.growAndShrink(1),Ae.l0.overflow("auto")],children:e.isLoading||e.items.length?e.items.map((function(n){if(n.isSection){var t=n.name;return t?(0,a.tZ)(Te.x,{variant:"small",color:"dimmest",css:[Ae.l0.px(8),Ae.l0.py(4),{marginTop:8}],children:t},t):null}var r=n.item,o=n.index,i=r.data,u=i.label,c=i.icon,s=r.match.render,l=o===e.highlightedIndex,f=s&&"content"in s?s.content:void 0,d=s&&"ranges"in s?s.ranges:void 0;return(0,a.tZ)(Ge,je({css:[{cursor:"pointer"}]},e.getItemProps({item:r,index:o}),{children:f?(0,a.tZ)(Ue.Z,{active:l,content:f}):(0,a.tZ)(Ue.Z,{active:l,item:{icon:c,label:u,active:l,highlightRanges:d}})}),(0,Pe.k)(r))})):null}))})}var He=(0,s.memo)(Be),We=t(58843);function ze(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Je(e,n,t,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void t(s)}u.done?n(c):Promise.resolve(c).then(r,o)}function Ke(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){Je(i,r,o,a,u,"next",e)}function u(e){Je(i,r,o,a,u,"throw",e)}a(void 0)}))}}function qe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return ze(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ze(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e){var n=e.onFileNodeClick,t=e.readOnly,o=void 0!==t&&t,u=e.showResources,h=void 0===u||u,b=(0,ne.Z)().showError,y=(0,_.Z)(),g=(0,We.c)("flag-filetree-search").enabled,E=qe(s.useState(!1),2),w=(E[0],E[1]),x=qe(s.useState(null),2),S=x[0],I=x[1],A=(0,d.Z)(),O=A.presence,D=A.fs,C=(0,se.P)(),F=function(){var e=(0,d.Z)().dotReplit,n=(0,Ee.Z)(),t=xe(s.useState(null),2),r=t[0],o=t[1];return s.useEffect((function(){return e.watch((function(e){var t;n.current&&(e.error?e.error===ge.Yt.NotFound&&o(null):o(null!==(t=e.config.entrypoint)&&void 0!==t?t:null))}))}),[e]),r}(),j=qe(s.useState(null),2),Z=j[0],G=j[1],M=(0,ae.Z)(),V=R(),B=function(e){var n=me(s.useState(null),2),t=n[0],r=n[1],o=me(s.useState(null),2),i=o[0],a=o[1];return s.useEffect((function(){if(i){var n=!1;return"rename"===i.type?(i.fileType===l.Tv.File?e.moveFile(i.path,i.to):e.moveDir(i.path,i.to)).then((function(e){n||(a(null),e.error&&r(e.error))})):(i.fileType===l.Tv.File?e.deleteFile(i.path):e.deleteDir(i.path)).then((function(e){n||(a(null),e.error&&r(e.error))})),function(){n=!0}}r(null)}),[i,e]),{renameNode:function(e){return a(pe({},e,{type:"rename"}))},deleteNode:function(e){return a(pe({},e,{type:"delete"}))},currentOp:i,error:t}}(D),H=B.renameNode,W=B.deleteNode,z=B.currentOp,J=B.error;s.useEffect((function(){J&&b("Something went wrong trying to move or remove a file.")}),[J,b]);var K=(0,U.aEG)({variables:{replId:y}}).data,q="Repl"===(null===K||void 0===K?void 0:K.repl.__typename)?K.repl:void 0,X=q?q.url:void 0,fe=function(e){var n;if(!e)return L.Jd.Nothing;var t,r="Repl"===(null===e||void 0===e?void 0:e.repl.__typename)?e.repl:void 0,o=(null===e||void 0===e?void 0:e.currentUser)?e.currentUser:void 0;if(void 0===r||void 0===o)return L.Jd.Nothing;if(o.hasFlagBuyCycles)return o.id!==(null===(t=r.owner)||void 0===t?void 0:t.id)||r.isBoosted||"PowerUpCostsType"!==r.powerUpCosts.__typename||r.powerUpCosts.boost.explanation!==U.ChQ.NeedsCycles?L.Jd.Nothing:L.Jd.Upgrade;if("User"===(null===(n=r.owner)||void 0===n?void 0:n.__typename)){var i,a;if(o.id!==(null===(i=r.owner)||void 0===i?void 0:i.id))return L.Jd.Nothing;if(!(null===(a=o.capabilities)||void 0===a?void 0:a.canBoost))return L.Jd.Upgrade;if(!r.isBoosted)return L.Jd.Boost}return L.Jd.Nothing}(K),de="Repl"===(null===K||void 0===K?void 0:K.repl.__typename)?K.repl.language:void 0,ve="Repl"===(null===K||void 0===K?void 0:K.repl.__typename)&&(K.repl.isProjectFork||K.repl.isModelSolution||K.repl.isModelSolutionFork),he=s.useCallback((function(){var e=(X||window.location.pathname)+".zip";window.open(e,"_blank")}),[X]),we=s.useCallback(function(){var e=Ke(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(n),!n||!Z){e.next=6;break}return e.next=4,D.stat(Z);case 4:e.sent.exists||G(M||null);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[M,Z,D]),Ie=qe(s.useState(null),2),Ae=Ie[0],Te=Ie[1];s.useEffect((function(){M!==Z&&G(M)}),[M]);var ke=T({onDone:function(e){var n=e.parentPath,t=e.errors;if(t.length){var o=t.filter((function(e){return e.error===r.AlreadyExists}));o.length&&Te({parentPath:n,errors:o});var i=t.filter((function(e){return e.error!==r.AlreadyExists}));i.length&&b("There was an error uploading: ".concat(i.map((function(e){return e.path})).join(", ")))}},fs:D}),Oe=ke.uploadFiles,De=ke.pendingUploads,Ce=qe(s.useState(null),2),Re=Ce[0],_e=Ce[1],Pe=qe(s.useState(null),2),Ne=Pe[0],Le=Pe[1],Ue=(0,ye.Z)({fs:D}),Fe=Ue.dirInfo,je=Ue.setExpandedState,Ze=Ue.watchDir,Ge=(0,ce.Z)(ue.H.Sidepane);return(0,a.tZ)(P.i.Provider,{value:{dirInfo:Fe,setExpandedState:je,watchDir:Ze,fs:D,activePath:Z,setActivePath:G,pendingFileType:S,setPendingFileType:we,pendingUploads:De,uploadFiles:Oe,getNodeType:function(){var e=Ke(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.readFile(n);case 2:return t=e.sent,e.abrupt("return",t.error===l.Df.IsDirectory?l.Tv.Directory:l.Tv.File);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),transformChildren:de?(0,te.Z)({language:de,entrypointFile:F,shouldHideHiddenFiles:!V,hiddenFiles:null!==C&&void 0!==C?C:[],isProjectFork:ve}):void 0,downloadFile:function(){var e=Ke(i().mark((function e(n,t){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.readFile(n);case 2:if(!(r=e.sent).error){e.next=6;break}return b(r.error),e.abrupt("return");case 6:o=(0,le.yC)(n),(a=document.createElement("a")).setAttribute("href","data:".concat(o,";base64,").concat(r.content.toString("base64"))),a.setAttribute("download",t),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a);case 14:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),currentRenamePath:Re,setCurrentRenamePath:_e,pendingDelete:Ne,setPendingDelete:Le,renameNode:H,deleteNode:W,currentOp:z,nodeOpError:J,overwriteNode:function(){var e=Ke(i().mark((function e(n,t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.type===l.Tv.Directory?D.deleteDir:D.deleteFile,e.next=3,r(t.path);case 3:if(!e.sent.error){e.next=7;break}return b("Something went wrong trying to move: ".concat(n)),e.abrupt("return");case 7:H({path:n,fileType:t.type,to:t.path});case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),duplicateFile:function(){var e=Ke(i().mark((function e(n,t){var r,o,a,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=be((0,le.UO)(n),new Set(t)),o=(0,le.Il)(n),a=o?"".concat(o,"/").concat(r):r,e.next=5,D.copyFile(n,a);case 5:if(!(u=e.sent).error){e.next=9;break}return b(u.error),e.abrupt("return");case 9:_e(a);case 10:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},children:(0,a.tZ)(v.Z,{children:(0,a.BX)("div",{ref:Ge,className:"jsx-585bfb9763393b08 filetree",children:[(0,a.BX)($.Ug,{align:"center",wrap:"nowrap",spacing:0,className:"filetree-header",children:[(0,a.tZ)("div",{className:"jsx-585bfb9763393b08 heading",children:(0,a.tZ)(p.Z,{level:4,css:[{userSelect:"none"}],children:"Files"})}),o?null:(0,a.BX)(a.HY,{children:[(0,a.tZ)(re.Z,{css:[L.l0.color.foregroundDimmer],tooltipDelay:100,onClick:function(){(0,k.Z)({replId:y,action:"added",source:"filetree",fileType:l.Tv.File}),we(l.Tv.File)},alt:"Add file",children:(0,a.tZ)(oe.Z,{})}),(0,a.tZ)("div",{className:"jsx-585bfb9763393b08 filetree-action-separator"}),(0,a.tZ)(re.Z,{css:[L.l0.color.foregroundDimmer],tooltipDelay:100,onClick:function(){(0,k.Z)({replId:y,action:"added",fileType:l.Tv.Directory,source:"filetree"}),we(l.Tv.Directory)},alt:"Add folder",children:(0,a.tZ)(ie.Z,{})})]}),(0,a.tZ)(N,{readOnly:o,onDownloadZip:he})]}),g&&(0,a.tZ)(Ve,{onIsOpenChange:w}),(0,a.tZ)(m.Z,{siblings:[],onClick:function(){return null},readOnly:o,onNodeClick:function(e){var t=e.path,r=e.type,o=e.newTab;(G(t),r!==l.Tv.Directory)&&((0,k.Z)(o?{replId:y,action:"newTab",source:"filetree"}:{replId:y,action:"select",source:"filetree"}),n(t,o),O.getFollowedUser()&&O.unfollowUser())},path:f.Ql}),h?(0,a.tZ)(Y,{callToAction:fe}):null,(0,a.tZ)(Q.Z,{isOpen:Boolean(Ae),onRequestClose:function(){return Te(null)},children:Ae?(0,a.tZ)(ee.Z,{paths:Ae.errors.map((function(e){return e.path})),onCancel:function(){return Te(null)},onConfirm:function(){Oe({overwrite:!0,parentPath:Ae.parentPath,files:Ae.errors.map((function(e){return e.file}))}),Te(null)}}):null}),(0,a.tZ)(Q.Z,{isOpen:Boolean(Ne),onRequestClose:function(){return Le(null)},children:Ne?(0,a.tZ)(Se.Z,{name:Ne.path,entityType:Ne.type===l.Tv.File?"file":"folder",hideModal:function(){return Le(null)},delete:function(){Le(null),W({fileType:Ne.type,path:Ne.path})}}):null}),(0,a.tZ)(c(),{id:"585bfb9763393b08",children:".filetree.jsx-585bfb9763393b08{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%;overflow:hidden;-webkit-border-top-right-radius:var(--border-radius-4);-moz-border-radius-topright:var(--border-radius-4);border-top-right-radius:var(--border-radius-4);-webkit-border-bottom-right-radius:var(--border-radius-4);-moz-border-radius-bottomright:var(--border-radius-4);border-bottom-right-radius:var(--border-radius-4);background-color:var(--background-default)}.filetree-header.jsx-585bfb9763393b08{margin-bottom:var(--space-8)}.filetree.jsx-585bfb9763393b08 .filetree-header{padding:var(--space-8);background-color:var(--background-default);position:-webkit-sticky;position:sticky;top:0;z-index:1}.filetree-action-separator.jsx-585bfb9763393b08{height:6px;width:0;margin-left:4px;margin-right:4px;border-right:1px solid var(--foreground-dimmest)}.add-button:hover{color:var(--foreground-default)!important}.heading.jsx-585bfb9763393b08{margin-right:auto}"})]})})})}},82221:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(35944),o=t(9008),i=t.n(o),a=t(5560),u=t(93577),c=t(88768);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){var n,t=e.prefix,o=void 0===t?"":t,s=e.suffix,f=void 0===s?"":s,d=(0,u.Z)(),p=(0,a.Z)(),m=(0,c.I1C)({variables:{replId:p}}),v=m.data||m.previousData,h="Repl"===(null===v||void 0===v||null===(n=v.repl)||void 0===n?void 0:n.__typename)?v.repl:null,b=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return l(n.filter(Boolean)).concat(["Replit"]).join(" - ")}(o,d,null===h||void 0===h?void 0:h.title,f);return(0,r.tZ)(i(),{children:(0,r.tZ)("title",{children:b},"title")})}},6763:function(e,n,t){function r(e){return e.startsWith("/")?e:null}function o(e){var n=r(e);if(null===n)throw new Error("Expected an absolute path but got ".concat(e));return n}function i(e){return e.startsWith("/home/runner/")?e.split("/").slice(4).join("/"):null}t.d(n,{IT:function(){return r},ZF:function(){return o},om:function(){return i}})},58646:function(e,n,t){function r(e,n){if("dev"===e)return!0;if("dev"===n)return!1;for(var t=function(e){var n=[0,0,0];return e.split(".").map(Number).forEach((function(t,r){if("number"!==typeof t||isNaN(t))throw new Error("invalid version: ".concat(e));n[r]=t})),n},r=t(e),o=t(n),i=0;i<3;i++){if(o[i]>r[i])return!1;if(r[i]>o[i])return!0}return!0}function o(e,n){return!r(e,n)}t.d(n,{H:function(){return r},h:function(){return o}})}}]);
//# sourceMappingURL=8795-f648818ffdd9f134.js.map