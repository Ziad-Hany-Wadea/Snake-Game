"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4989],{26400:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(35944),a=(n(67294),n(23139)),i=n(8286);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return(0,r.tZ)(a.u_,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},e,{children:(0,r.BX)(a.G7,{css:[a.l0.colWithGap(24)],children:[(0,r.tZ)(a.h4,{level:1,variant:"headerDefault",children:"Introducing Annotations"}),(0,r.tZ)(a.xv,{multiline:!0,children:"Annotations is a new feature that lets you leave detailed feedback on a student\u2019s code!"}),(0,r.tZ)(a.G7,{css:[a.l0.position.relative,a.l0.height(0),a.l0.borderRadius(8),{paddingBottom:"56.25%",border:"1px solid var(--background-highest)"}],children:(0,r.tZ)("iframe",{src:"https://www.loom.com/embed/955fb177889c4838b9332224067d4be0?autoplay=1",frameBorder:"0",allowFullScreen:!0,webkitallowfullscreen:!0,mozallowfullscreen:!0,className:"loom-video",css:[a.l0.borderRadius(8),a.l0.position.absolute,a.l0.top(0),a.l0.left(0),{width:"100%",height:"100%"}],title:"Demo of annotating code to provide feedback"})}),(0,r.BX)(a.xv,{multiline:!0,children:["To learn more, check out the"," ",(0,r.tZ)("a",{href:"https://docs.replit.com/teams-edu/reviewing-submissions#leaving-feedback-on-projects-using-annotations",target:"_blank",children:"docs"}),"."]}),(0,r.tZ)(a.G7,{css:[a.l0.flex.row,a.l0.justify.end],children:(0,r.tZ)(a.zx,{colorway:"primary",onClick:e.onRequestClose,iconLeft:(0,r.tZ)(i.Z,{}),text:"Sounds good!"})})]})}))}},93943:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(67294),a=n(88768),i=n(38880);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function f(e,t){var n=t.onReceiveAnnotationUpdate,o=void 0===n?function(){}:n,l=(0,i.Z)().showError,d=s(r.useState(null),2),f=d[0],p=d[1],m=(0,a.xTD)({variables:{replId:e}}),h=function(){var e,t=null===(e=m.data)||void 0===e?void 0:e.currentUser;return t?{user:{__typename:"User",id:t.id,username:t.username,image:t.image}}:{}},b=function(t,n){var r=t.readQuery({query:a.yiQ,variables:{replId:e}}),i=[],o=r.repl.annotationAnchors,l=o.findIndex((function(e){return e.id===n.id}));i=-1===l?u(o).concat([n]):u(o.slice(0,l)).concat([n],u(o.slice(l+1))),t.writeQuery({query:a.yiQ,variables:{replId:e},data:c({},r,{repl:c({},r.repl,{annotationAnchors:i})})})},v=s((0,a.ASh)({onError:function(e){return l(e.message)},update:function(e,t){var n;if(t.errors)t.errors.forEach((function(e){return l(e.message)}));else{var r=null===(n=t.data)||void 0===n?void 0:n.createAnnotationAnchor;r&&("UserError"===r.__typename?l(r.message):"AnnotationAnchor"===r.__typename&&b(e,r))}}}),1)[0],g=s((0,a.gEq)({onError:function(e){return l(e.message)},update:function(e,t){var n;if(t.errors)t.errors.forEach((function(e){return l(e.message)}));else{var r=null===(n=t.data)||void 0===n?void 0:n.createAnnotationMessage;r&&("UserError"===r.__typename?l(r.message):"AnnotationAnchor"===r.__typename&&b(e,r))}}}),1)[0],y=s((0,a.RpE)({onError:function(e){return l(e.message)},update:function(e,t){var n;if(t.errors)t.errors.forEach((function(e){return l(e.message)}));else{var r=null===(n=t.data)||void 0===n?void 0:n.updateAnnotationAnchor;r&&("UserError"===r.__typename?l(r.message):"AnnotationAnchor"===r.__typename&&b(e,r))}}}),1)[0],x=s((0,a.nAY)(),1)[0],w=s((0,a.HjV)(),1)[0];(0,a.Tt1)({variables:{replId:e},onSubscriptionData:function(e){var t=e.subscriptionData.data,n=e.client,r=null===t||void 0===t?void 0:t.updatedAnnotation;r&&(b(n,r),o(r))}});var k=s(r.useState([]),2),Z=k[0],j=k[1];r.useEffect((function(){var e,t,n=[];"Repl"===(null===(e=m.data)||void 0===e?void 0:e.repl.__typename)&&(t=n).push.apply(t,u(m.data.repl.annotationAnchors));f&&n.push(c({},f,{isGeneral:Boolean(f.isGeneral),messages:[],isResolved:!1,__typename:"AnnotationAnchor"})),j(n)}),[m,f]);var S=r.useMemo((function(){return Z.find((function(e){return e.isGeneral}))}),[Z]),C=r.useMemo((function(){return Z.reduce((function(e,t){return t.isResolved?e:t.messages.some((function(e){return!1===e.seen}))?e+1:e}),0)}),[Z]),T=function(e){var t=e.annotationAnchor,n=e.annotationMessage,r=e.highlight;v({variables:{annotationAnchor:t,annotationMessage:n,highlight:r},optimisticResponse:{createAnnotationAnchor:c({},h(),t,{isGeneral:Boolean(t.isGeneral),__typename:"AnnotationAnchor",messages:n?[c({},h(),n,{content:{text:n.text,__typename:"TextMessageContentType"},anchor:{id:t.id,__typename:"AnnotationAnchor"},__typename:"AnnotationMessage",timeCreated:Date.now(),currentUserIsAuthor:!0,seen:!0})]:[],isResolved:!1})}})};return{annotations:Z,generalThread:S,unreadThreadCount:C,placeholderAnchorId:null===f||void 0===f?void 0:f.id,createAnnotationAnchorPlaceholder:function(e){var t=e.annotationAnchor;p(t)},deleteAnnotationAnchorPlaceholder:function(){p(null)},createAnnotationAnchor:T,createAnnotationMessage:function(t){var n=t.anchor,r=t.annotationMessage,a=t.highlight;(null===f||void 0===f?void 0:f.id)===n.id?(p(null),T({annotationAnchor:c({},f),annotationMessage:r,highlight:a})):g({variables:{replId:e,anchorId:n.id,annotationMessage:r,highlight:a},optimisticResponse:{createAnnotationMessage:c({},n,{messages:u(n.messages.filter((function(e){return!e.id.startsWith("chat-")}))).concat([c({},h(),r,{content:{text:r.text,__typename:"TextMessageContentType"},anchor:{id:n.id,__typename:"AnnotationAnchor"},__typename:"AnnotationMessage",timeCreated:Date.now(),currentUserIsAuthor:!0,seen:!0})])})}})},updateAnnotationAnchor:function(e){var t=e.annotationAnchor,n=e.changes;y({variables:{id:t.id,changes:n},optimisticResponse:{updateAnnotationAnchor:c({},t,n,{isResolved:"boolean"===typeof n.isResolved?n.isResolved:t.isResolved})}})},updateThreadPreview:function(e){var t=e.threadId,n=e.messageId,r=e.message;w({variables:{threadId:t,messageId:n,message:r}})},markAllMessagesInReplAsSeenByUser:function(){x({variables:{replId:e}})}}}},67952:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(35944),a=n(23139);function i(e){var t=e.prompt,n=e.desc,i=e.confirmText,o=e.loading,l=void 0!==o&&o,c=e.onCancel,s=e.onConfirm,u=e.danger,d=e.icon;return(0,r.BX)(a.G7,{css:[a.l0.colWithGap(24)],children:[(0,r.tZ)(a.h4,{level:3,variant:"headerDefault",children:t}),(0,r.tZ)(a.xv,{multiline:!0,children:n}),(0,r.BX)(a.G7,{css:[a.l0.rowWithGap(12),a.l0.justify.end],children:[c&&(0,r.tZ)(a.zx,{disabled:l,onClick:c,text:"Cancel"}),(0,r.tZ)(a.zx,{colorway:u?"negative":"primary",disabled:l,onClick:s,text:i||"Ok",iconLeft:d})]})]})}},49638:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(67294);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){var t=o(r.useState(e),2),n=t[0],a=t[1];return[n,a,function(e){var t=null;switch(e.currentTarget.type){case"checkbox":t=e.currentTarget.checked;break;case"number":case"range":t=Number(e.currentTarget.value);break;default:t=e.currentTarget.value}a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},n,i({},e.currentTarget.name,t)))}]}},32646:function(e,t,n){var r=n(67294),a=n(85106);t.Z=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).allowNoWid,t=r.useContext(a.Z);if(!t){if(e)return null;throw new Error("Expected wid to be in wid context")}return t}},92594:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(67294),a=n(30617),i=n(91131),o=n(29632),l=n(11717);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(){var e=(0,a.Z)().session,t=(0,l.VV)(),n=(0,i.Dv)(o.Md),c=s(r.useState(e.getPreviewedFile()),2),u=c[0],d=c[1];return r.useEffect((function(){return d(e.getPreviewedFile()),e.onPreviewedFileChanged(d)}),[e]),t?n:u}},77847:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(35944),a=n(79547),i=n.n(a),o=(n(67294),n(58458));function l(e){var t=e.label;return(0,r.BX)(o.Z,{size:"xsmall",children:[(0,r.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":t,className:"jsx-b2b24242521d2288 help",children:"?"}),(0,r.tZ)(i(),{id:"b2b24242521d2288",children:".help.jsx-b2b24242521d2288{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;border:1px solid var(--background-higher);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;width:var(--space-16);height:var(--space-16);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}"})]})}},79806:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(35944),a=(n(67294),n(47240));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return(0,r.tZ)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},e,{children:(0,r.tZ)("path",{d:"M22.0005 12.4999V8.50012H20.001V6.49987H18V5.50012H20.001V2.50012H17.001V4.49962H15V6.49987H9V4.49962H7.0005V2.50012H4.0005V5.50012H6V6.49987H4.0005V8.50012H2.001V12.4999H0V19.4996H3V15.4999H4.0005V19.4996H6V21.4999H11.001V18.4999H7.0005V17.5001H17.001V18.4999H13.0005V21.4999H18V19.4996H20.001V15.4999H21V19.4996H24V12.4999H22.0005ZM9 11.5001H6V8.50012H9V11.5001ZM18 11.5001H15V8.50012H18V11.5001Z",fill:"currentColor",stroke:"none"})}))}},76531:function(e,t,n){n.d(t,{IH:function(){return h},ZP:function(){return m},x$:function(){return b}});var r=n(35944),a=n(79547),i=n.n(a),o=n(67294),l=n(23139),c=n(31705),s=n(91131),u=n(66306);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(){var e=p((0,c.Z)(!1),2),t=e[0],n=e[1],a=(0,o.useState)(null),i=a[0],d=a[1],m=(0,s.Dv)(u.Sj),v=p((0,s.KO)(u.a0),2),g=v[0],y=v[1],x=p((0,s.KO)(u.ot),2),w=x[0],k=x[1],Z=(0,s.b9)(u.UB);return g?(0,r.BX)(l.G7,{css:[l.l0.colWithGap(8),l.l0.height("100%")],children:[(0,r.BX)(l.G7,{css:[l.l0.rowWithGap(4),l.l0.justify.spaceBetween],children:[(0,r.tZ)(l.zx,{onClick:n,text:t?"Hide filters":"Show filters"}),i&&(0,r.tZ)(l.zx,{onClick:function(){return d(null)},text:"Reset Time Ref"}),(0,r.tZ)(l.zx,{colorway:"negative",onClick:function(){return Z()},text:"Clear logs"})]}),t?(0,r.tZ)(b,{filters:w,updateFilters:function(e){k(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},w,e))}}):null,(0,r.tZ)(l.G7,{css:[l.l0.flex.growAndShrink(1),l.l0.overflow("auto"),l.l0.height("100%")],children:(0,r.tZ)(h,{logs:m,timeRef:i,setTimeRef:d})})]}):(0,r.tZ)(l.zx,{colorway:"positive",onClick:function(){y(!0)},text:"Start logging goval"})}var h=function(e){var t=e.logs,n=e.timeRef,a=e.setTimeRef;return(0,r.BX)("div",{className:"jsx-20359c57abb6776a log-list",children:[t.map((function(e){var t=JSON.stringify(e.cmd,null,2),i=n?e.timestamp-n:e.timestamp;return(0,r.BX)("div",{className:"jsx-20359c57abb6776a "+("log "+(e.highlighted?"highlighted ":"")+("in"===e.dir?"in":"")||0),children:[(0,r.BX)("div",{className:"jsx-20359c57abb6776a direction",children:[(0,r.tZ)("div",{className:"jsx-20359c57abb6776a",children:e.dir}),(0,r.tZ)("div",{className:"jsx-20359c57abb6776a",children:"in"===e.dir?"\u25b6\ufe0f":"\u2b05\ufe0f"}),(0,r.tZ)("div",{className:"jsx-20359c57abb6776a",children:(0,r.tZ)(l.zx,{small:!0,colorway:"positive",onClick:function(){return a(e.timestamp)},text:i.toFixed(0)+"ms"})})]}),(0,r.tZ)("pre",{className:"jsx-20359c57abb6776a",children:t})]},e.index)})),(0,r.tZ)("div",{className:"jsx-20359c57abb6776a bottom-anchor"}),(0,r.tZ)(i(),{id:"20359c57abb6776a",children:".log-list.jsx-20359c57abb6776a{overflow:auto;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.log-list.jsx-20359c57abb6776a *.jsx-20359c57abb6776a{overflow-anchor:none}.bottom-anchor.jsx-20359c57abb6776a{overflow-anchor:auto!important;min-height:1px}.log.jsx-20359c57abb6776a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;color:deepskyblue;border:1px solid;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.in.jsx-20359c57abb6776a{color:red}.highlighted.jsx-20359c57abb6776a{background:yellow}.direction.jsx-20359c57abb6776a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:space-evenly;-webkit-justify-content:space-evenly;-moz-box-pack:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly;text-align:center;min-width:30px;border-right:1px solid}.direction.jsx-20359c57abb6776a>div.jsx-20359c57abb6776a:not(:last-child){border-bottom:1px solid;width:100%}"})]})};var b=function(e){var t=e.filters,n=e.updateFilters;return(0,r.BX)(l.G7,{css:l.l0.colWithGap(4),children:[(0,r.tZ)(l.xv,{variant:"subheadDefault",children:"Regex (regex,flags):"}),(0,r.tZ)(l.II,{id:"regex",onChange:function(e){var t=null;if(e.currentTarget.value){var r=p(e.currentTarget.value.split(","),2),a=r[0],i=r[1];try{t=new RegExp(a,i)}catch(o){}}n({regexp:t})},placeholder:"\\w+,gi"}),(0,r.tZ)(l.xv,{variant:"subheadDefault",children:"Directions:"}),(0,r.tZ)(l.Ee,{css:l.l0.rowWithGap(16),name:"direction",value:t.direction,onChange:function(e){var t,r=e.target.value;n({direction:(t=r,"in"===t||"out"===t||""===t?r:"")})},children:[{val:"",text:"Both"},{val:"in",text:"In"},{val:"out",text:"Out"}].map((function(e){return(0,r.BX)(l.G7,{css:[l.l0.rowWithGap(8)],children:[(0,r.tZ)(l.Y8,{id:e.val,value:e.val}),(0,r.tZ)("label",{htmlFor:e.val,children:e.text})]},e.val)}))}),(0,r.tZ)(l.xv,{variant:"subheadDefault",children:"Filter style:"}),(0,r.tZ)(l.Ee,{css:l.l0.rowWithGap(16),name:"filter-style",value:t.highlightOnly?"highlight":"filter",onChange:function(e){return n({highlightOnly:"highlight"===e.target.value})},children:[{val:"highlight",text:"Highlight"},{val:"filter",text:"Filter"}].map((function(e){return(0,r.BX)(l.G7,{css:[l.l0.rowWithGap(8)],children:[(0,r.tZ)(l.Y8,{id:e.val,value:e.val}),(0,r.tZ)("label",{htmlFor:e.val,children:e.text})]},e.val)}))})]})}},66306:function(e,t,n){n.d(t,{Sj:function(){return s},Th:function(){return l},UB:function(){return u},a0:function(){return d},f9:function(){return o},ot:function(){return c}});var r=n(91131);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function o(e,t){if(!t.regexp&&!t.direction)return e.map((function(e){return i({},e,{highlighted:!1})}));var n=function(e){var n=e.dir,r=e.cmd;return(!t.direction||n===t.direction)&&!(t.regexp&&t.regexp.test&&!t.regexp.test(JSON.stringify(r)))};return t.highlightOnly?e.map((function(e){return n(e)?i({},e,{highlighted:!0}):e})):e.filter(n)}var l=(0,r.cn)([]),c=(0,r.cn)({regexp:null,direction:"",highlightOnly:!0}),s=(0,r.cn)((function(e){return o(e(l),e(c))})),u=(0,r.cn)(null,(function(e,t){t(l,[])})),d=(0,r.cn)(!1)},52855:function(e,t,n){n.d(t,{S:function(){return b}});var r=n(35944),a=n(79547),i=n.n(a),o=(n(67294),n(98647)),l=n(3204),c=n(54929),s=n(67938),u=n(27464),d=n(77287),f=n(428),p=n(67003),m=n(30617),h=n(50348),b=function(){var e=(0,m.Z)().container;(0,h.Z)();var t=e.getConnectionMetadata();if(!t)return(0,r.tZ)("div",{children:"no token yet, wait for connection"});var n=t.token,a=new URL(t.conmanURL).host,b='./conman-repl -t "'.concat(n,'" -u ').concat(a);return(0,r.BX)("div",{className:"jsx-2e9ac5ab034fc317 token-viewer",children:[(0,r.BX)(c.Z,{css:l.l0.rowWithGap(2),children:[(0,r.BX)(s.x,{css:l.l0.flex.shrink(1),children:["conman Repl command: ",(0,r.tZ)(d.Z,{children:b})]}),(0,r.tZ)(u.Z,{alt:"Copy to clipboard",onClick:function(){return(0,o.Z)(b)},children:(0,r.tZ)(f.Z,{})})]}),(0,r.BX)("div",{className:"jsx-2e9ac5ab034fc317",children:["metadata:",(0,r.tZ)("pre",{className:"jsx-2e9ac5ab034fc317",children:JSON.stringify(t,null,2)})]}),(0,r.tZ)("br",{className:"jsx-2e9ac5ab034fc317"}),(0,r.tZ)("br",{className:"jsx-2e9ac5ab034fc317"}),(0,r.BX)("div",{className:"jsx-2e9ac5ab034fc317",children:["parsed token:",(0,r.tZ)("pre",{className:"jsx-2e9ac5ab034fc317",children:JSON.stringify((0,p.h)(t.token),null,2)})]}),(0,r.tZ)("br",{className:"jsx-2e9ac5ab034fc317"}),(0,r.tZ)("br",{className:"jsx-2e9ac5ab034fc317"}),(0,r.tZ)(i(),{id:"2e9ac5ab034fc317",children:".token-viewer.jsx-2e9ac5ab034fc317{height:100%;overflow:auto;padding:10px}pre.jsx-2e9ac5ab034fc317{white-space:pre-wrap;word-wrap:break-word}"})]})}},54683:function(e,t,n){n.d(t,{V:function(){return d}});var r=n(35944),a=n(44894),i=n(67294),o=n(57541),l=n(51281),c=n(87449);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function(){var e=u(i.useState(a.Z.get("gurl","string")||""),2),t=e[0],n=e[1];return(0,r.BX)("div",{style:{height:"100%",overflow:"auto"},children:[(0,r.tZ)(o.ZP,{label:"Custom gurl",placeholder:"ws://localhost:8080",value:t,onChange:function(e){return n(e.currentTarget.value)}}),(0,r.BX)("pre",{children:["metadata override preview:",JSON.stringify((0,c.t)(t),null,2)]}),(0,r.tZ)("br",{}),(0,r.BX)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,r.tZ)(l.Z,{color:"positive",onClick:function(){a.Z.set("gurl",t),window.location.reload()},children:"Set gurl and reload"}),(0,r.tZ)(l.Z,{color:"orange",onClick:function(){a.Z.remove("gurl"),window.location.reload()},children:"Unset gurl and reload"})]}),(0,r.tZ)("br",{}),(0,r.tZ)("br",{}),(0,r.tZ)("div",{children:a.Z.get("gurl","string")?"currently in localStorage: ".concat(a.Z.get("gurl","string")):'No gurl set in local storage, using default gurl for this user, check "Token" tab for details'}),(0,r.tZ)("br",{}),(0,r.tZ)("br",{}),"Gurl order of precedence:",(0,r.BX)("ol",{style:{margin:20},children:[(0,r.tZ)("li",{children:"\u2018gurl\u2019 in localStorage (set above)"}),(0,r.BX)("li",{children:["If in development webapp and a there\u2019s a response from",(0,r.tZ)("code",{children:"https://currenthost:4563"})," or",(0,r.tZ)("code",{children:"http://currenthost:4560"}),", then it will use that."]}),(0,r.BX)("li",{children:["default is ",(0,r.tZ)("code",{children:"wss://eval.<usercluster>.replit.com"})]})]})]})}},67936:function(e,t,n){n.d(t,{_:function(){return y}});var r=n(35944),a=n(79547),i=n.n(a),o=n(5560),l=n(98647),c=n(88768),s=n(5152),u=n.n(s),d=n(3204),f=n(54929),p=n(67938),m=n(77287),h=n(27464),b=n(428),v=n(69271),g=u()((function(){return n.e(367).then(n.t.bind(n,55171,23))}),{loadableGenerated:{webpack:function(){return[55171]}}}),y=function(){var e,t,n=(0,o.Z)(),a=(0,c.bPN)({variables:{replId:n}}).data,s=(0,v.Z)(),u="Repl"===(null===a||void 0===a?void 0:a.repl.__typename)?JSON.parse(JSON.stringify(a.repl)):void 0;u&&(delete u.__typename,null===(e=u.user)||void 0===e||delete e.__typename,null===(t=u.origin)||void 0===t||delete t.__typename,delete u.config.__typename);return(0,r.BX)(f.Z,{css:[d.l0.colWithGap(16),d.l0.p(4)],children:[(0,r.BX)(f.Z,{css:d.l0.rowWithGap(2),children:[(0,r.BX)(p.x,{children:["Repl ID: ",(0,r.tZ)(m.Z,{children:n})]}),(0,r.tZ)(h.Z,{alt:"Copy to clipboard",onClick:function(){return(0,l.Z)(n)},children:(0,r.tZ)(b.Z,{})})]}),(0,r.tZ)("div",{className:"jsx-3187c500f6b377b0",children:u&&(0,r.tZ)(g,{iconStyle:"circle",style:{backgroundColor:"transparent"},displayDataTypes:!1,theme:s,src:u,collapseStringsAfterLength:40})}),(0,r.tZ)(i(),{id:"3187c500f6b377b0",children:"pre.jsx-3187c500f6b377b0{white-space:pre-wrap;word-wrap:break-word}"})]})}},96641:function(e,t,n){n.d(t,{Z:function(){return Te}});var r=n(35944),a=n(79547),i=n.n(a),o=n(67294),l=n(94184),c=n.n(l),s=n(88768),u=n(5560),d=n(40425),f=n(58458),p=n(8996),m=n(28593),h=n(57885),b=n(51281),v=n(38880),g=n(1517),y=n(16108),x=n(94590),w=n(98620),k=n(57541),Z=n(50553),j=n(86923),S=n(45193),C=n(34051),T=n.n(C),N=n(92876);function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){I(i,r,a,o,l,"next",e)}function l(e){I(i,r,a,o,l,"throw",e)}o(void 0)}))}}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function B(e,t,n){return(B=E()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&P(a,n.prototype),a}).apply(null,arguments)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return!t||"object"!==X(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function U(e){var t="function"===typeof Map?new Map:void 0;return U=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return B(e,arguments,_(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),P(r,e)},U(e)}function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var a=_(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return R(this,n)}}function L(e){switch(e){case s.Flv.Match:return"The test passes if the expected output is in the actual output.";case s.Flv.Exact:return"The test passes if the expected output is equal to the actual output.";case s.Flv.Regex:return"The test passes if the actual output matches the regex expression for the expected output.";case s.Flv.Compatibility:return"The test passes if the expected output is in the actual output; some characters are removed for backwards compatibility."}}var F=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(n,e);var t=D(n);function n(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];var i;return z(this,n),(i=t.call.apply(t,[this].concat(G(r)))).name=i.constructor.name,i}return n}(U(Error));function M(e){var t={id:e.id},n={id:-e.id,input:{input:e.input?e.input+"\n":""}};switch(e.type){case"compatibility":t.output={compatibility:{expected:e.output}};break;case"match":t.output={match:{expected:e.output,ignoreTrailingWhitespace:!0}};break;case"exact":t.output={exact:{expected:e.output,allowTrailingNewline:!0}};break;case"regex":t.output={regex:{expression:e.output}}}return{id:e.id,instructions:[n,t]}}function W(e){var t=e.args,n=e.env,r=t.indexOf("--ps1"),a=t.indexOf("--ps2"),i=t.indexOf("-i");return-1!==r&&null!=t[r+1]&&(t[r+1]=""),-1!==a&&null!=t[a+1]&&(t[a+1]=""),-1!==i&&t.splice(i,1),t.includes("-q")||t.unshift(t.shift(),"-q"),n.PS1="",n.PS2="",{args:t,env:n}}function H(e){return V.apply(this,arguments)}function V(){return(V=O(T().mark((function e(t){var n,r,a,i,o,l,c,s,u,d;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t.getRunConfig();case 3:if(r=e.sent){e.next=6;break}throw new F("unable to fetch dotreplit run config");case 6:if(!r.interp){e.next=17;break}if("stderred"===(null===(i=null===(a=r.interp)||void 0===a?void 0:a.command)||void 0===i?void 0:i.args[0])&&("--"===i.args[1]?i.args.splice(0,2):i.args.shift()),i&&!(i.args.length<1)){e.next=14;break}throw o=new F("received interp without command"),N.Tb(o,(function(e){return e.setExtra("runInfo",d)})),o;case 14:if(!i.args[0].match(/(^|\/)prybar/i)){e.next=16;break}return e.abrupt("return",{execCommand:W(i)});case 16:return e.abrupt("return",{execCommand:{args:i.args,env:i.env}});case 17:if(null===(n=r.run)||void 0===n?void 0:n.run){e.next=21;break}throw l=new F("Bad repl run config received"),N.Tb(l,(function(e){return e.setExtra("runConfig",r)})),l;case 21:return c=r.run,s=c.run,u=c.compile,s.env.PS1="",s.env.PS2="",d={execCommand:{args:s.args,env:s.env}},u&&(u.env.PS1="",u.env.PS2="",d.buildCommand={args:u.args,env:u.env}),e.abrupt("return",d);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){q(e,t,n[t])}))}return e}function J(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Q=function(e){var t=e.test,n=e.onSubmit,a=e.onCancel,l=e.isOpen,c=e.onRequestClose,u=K(o.useState({}),2),p=u[0],m=u[1],h=function(e){return{name:(null===e||void 0===e?void 0:e.name)||"",type:(null===e||void 0===e?void 0:e.type)||s.Flv.Match,input:(null===e||void 0===e?void 0:e.input)||"",output:(null===e||void 0===e?void 0:e.output)||""}},g=(0,v.Z)().showError,y=K(o.useState(h(t)),2),x=y[0],C=y[1];o.useEffect((function(){C(h(t)),m({})}),[t,C]);var T=function(e,t){m((function(n){return Y({},n,q({},e,t?void 0:[{message:e+" expected but not provided.",state:"error"}]))}))};return(0,r.tZ)(S.Z,{isOpen:l,onRequestClose:c,children:(0,r.BX)("div",{className:i().dynamic([["d333e3fa403aca0c",[""===x.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-tests-view",children:[(0,r.tZ)("div",{className:i().dynamic([["d333e3fa403aca0c",[""===x.type?"--foreground-dimmer":"--foreground-default"]]])+" header-row",children:(0,r.tZ)(d.Z,{level:4,align:"center",children:t?"Edit test: ":"Create test"})}),(0,r.tZ)("div",{className:i().dynamic([["d333e3fa403aca0c",[""===x.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,r.tZ)(k.ZP,{label:"Test name",placeholder:"The name of the test",value:(null===x||void 0===x?void 0:x.name)||"",validationResults:p.name,onChange:function(e){var t;e.persist(),C((function(t){var n;return Y({},t,{name:(null===(n=e.target)||void 0===n?void 0:n.value)||""})})),T("name",null===(t=e.target)||void 0===t?void 0:t.value)},maxLength:20})}),(0,r.tZ)("div",{className:i().dynamic([["d333e3fa403aca0c",[""===x.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,r.tZ)(j.Z,{style:{height:"150px"},label:"Input (standard in)",placeholder:"The input for the test",value:x.input,fontFamily:"monospace",translate:"no",onChange:function(e){e.persist(),C((function(t){return Y({},t,{input:e.target.value})}))}})}),(0,r.tZ)("div",{className:i().dynamic([["d333e3fa403aca0c",[""===x.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,r.tZ)(j.Z,{style:{height:"150px"},label:"Expected output",validationResults:p.output,placeholder:"The expected output for the test",value:x.output,fontFamily:"monospace",translate:"no",onChange:function(e){var t;e.persist(),C((function(t){return Y({},t,{output:e.target.value})})),T("output",null===(t=e.target)||void 0===t?void 0:t.value)}})}),(0,r.tZ)("div",{className:i().dynamic([["d333e3fa403aca0c",[""===x.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row",children:(0,r.tZ)("div",{className:i().dynamic([["d333e3fa403aca0c",[""===x.type?"--foreground-dimmer":"--foreground-default"]]])+" dropdown-container",children:(0,r.tZ)(w.Z,{items:[s.Flv.Match,s.Flv.Exact,s.Flv.Regex,s.Flv.Compatibility],renderItemChildComponent:function(e){return(0,r.BX)("a",{className:i().dynamic([["d333e3fa403aca0c",[""===x.type?"--foreground-dimmer":"--foreground-default"]]]),children:[e,(0,r.tZ)("br",{className:i().dynamic([["d333e3fa403aca0c",[""===x.type?"--foreground-dimmer":"--foreground-default"]]])}),(0,r.tZ)(f.Z,{size:"xsmall",children:L(e)})]})},renderAnchorComponent:function(e){var t=e.innerRef,n=J(e,["innerRef"]);return(0,r.BX)("a",Y({ref:t},n,{className:i().dynamic([["d333e3fa403aca0c",[""===x.type?"--foreground-dimmer":"--foreground-default"]]])+" dropdown-view dropdown-anchor",children:[(0,r.tZ)(f.Z,{children:x.type}),(0,r.tZ)(f.Z,{children:(0,r.tZ)(Z.Z,{})})]}))},onClick:function(e){C((function(t){return Y({},t,{type:e})}))}})})}),(0,r.BX)("div",{className:i().dynamic([["d333e3fa403aca0c",[""===x.type?"--foreground-dimmer":"--foreground-default"]]])+" manage-test-row align-end",children:[(0,r.tZ)(b.Z,{onClick:a,children:"Cancel"}),(0,r.tZ)(b.Z,{color:"primary",filled:!0,onClick:function(){if(!x.name||!x.output)return g("Test name and expected output must be provided."),x.name||T("name"),void(x.output||T("output"));x.type?(n({testId:null===t||void 0===t?void 0:t.id,name:x.name,input:x.input||"",type:x.type,output:x.output}),C(h(void 0))):g("A test type must be provided")},children:"Save"})]}),(0,r.tZ)(i(),{id:"d333e3fa403aca0c",dynamic:[""===x.type?"--foreground-dimmer":"--foreground-default"],children:".dropdown-container.__jsx-style-dynamic-selector{border:1px solid var(--outline-dimmest);width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}.dropdown-anchor.__jsx-style-dynamic-selector{padding:var(--space-8)}.dropdown-container.__jsx-style-dynamic-selector .anchor{z-index:1}.dropdown-container.__jsx-style-dynamic-selector .dropdown-view{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;text-align:right}.dropdown-container.__jsx-style-dynamic-selector .dropdown-view .text{color:var(".concat(""===x.type?"--foreground-dimmer":"--foreground-default",")}.manage-tests-view.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:var(--space-16)}.manage-test-row.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding-top:var(--space-16)}.align-end.__jsx-style-dynamic-selector{-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.manage-test-row.__jsx-style-dynamic-selector>button{margin-left:var(--space-8)}.manage-test-row-section.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin:0 var(--space-16);width:100%}")})]})})},ee=n(11542),te=n(29698),ne=n(58375),re=function(e){var t=e.test,n=e.onEdit,a=e.onDelete,o=e.onView,l=e.isTeacherView,s=e.status,u=e.isRunning,d=e.onShowFailed,p=e.disableButtons,m="";return s?m=s:u&&(m="Running"),(0,r.BX)("div",{onClick:function(){return o()},className:"jsx-d0055d2df6a917c5 test",children:[(0,r.BX)("div",{className:"jsx-d0055d2df6a917c5 test-row",children:[(0,r.tZ)("div",{className:"jsx-d0055d2df6a917c5 test-text",children:(0,r.tZ)(f.Z,{size:"large",children:t.name})}),l&&(0,r.tZ)("div",{onClick:function(e){return e.stopPropagation()},className:"jsx-d0055d2df6a917c5 test-row",children:(0,r.BX)(r.HY,{children:[(0,r.tZ)(b.Z,{color:"primary",onClick:n,Icon:te.Z,disabled:p}),(0,r.tZ)(ee.Z,{width:"var(--space-4)"}),(0,r.tZ)(b.Z,{onClick:a,color:"negative",Icon:ne.Z,disabled:p})]})})]}),(s||u)&&(0,r.BX)(r.HY,{children:[(0,r.tZ)(ee.Z,{height:2}),(0,r.BX)("div",{className:"jsx-d0055d2df6a917c5 test-row",children:[(0,r.tZ)("div",{className:"jsx-d0055d2df6a917c5 test-text",children:(0,r.tZ)(f.Z,{className:c()([{"status-passed":"Passed"===s},{"status-failed":"Failed"===s}]),children:m})}),(0,r.tZ)(b.Z,{onClick:function(e){return e.stopPropagation(),d(e)},disabled:u,children:"Results"})]})]}),(0,r.tZ)(i(),{id:"d0055d2df6a917c5",children:".test.jsx-d0055d2df6a917c5{background-color:var(--background-higher);margin-top:var(--space-8);padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);cursor:pointer}.test-row.jsx-d0055d2df6a917c5 .status-passed{color:var(--accent-positive-default)}.test-row.jsx-d0055d2df6a917c5 .status-failed{color:var(--accent-negative-default)}.test-text.jsx-d0055d2df6a917c5{width:100%;padding:var(--space-4)0;padding-right:var(--space-8);word-break:break-all}.test.jsx-d0055d2df6a917c5:hover{background-color:var(--background-higher)}.test-row.jsx-d0055d2df6a917c5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start}"})]})};function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var oe=function(e){var t=e.text;if(!t)return null;var n=t.split("\n").map((function(e,t){return[e,"".concat(t+1)]}));return""===n[n.length-1][0]&&n.pop(),(0,r.BX)(p.Ug,{children:[(0,r.tZ)("code",{className:"jsx-6ac664c130469a42 gutter",children:(0,r.tZ)("pre",{className:"jsx-6ac664c130469a42",children:n.map((function(e){var t=ie(e,2);t[0];return t[1]})).join("\n")})}),(0,r.tZ)("code",{className:"jsx-6ac664c130469a42 text",children:(0,r.tZ)("pre",{className:"jsx-6ac664c130469a42",children:t})}),(0,r.tZ)(i(),{id:"6ac664c130469a42",children:".gutter.jsx-6ac664c130469a42,.text.jsx-6ac664c130469a42{color:var(--foreground-default)}.gutter.jsx-6ac664c130469a42{min-width:1.5em}.text.jsx-6ac664c130469a42{max-width:80%}"})]})},le=n(37529),ce=n.n(le);function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var de=function(e){var t=e.expected,n=e.actual;if(!t||!n)return null;var a=n.split("\n"),o=t.split("\n"),l=o.length>a.length?o:a,c=l.map((function(e,t){return[e,"".concat(t+1)]})),s=l.map((function(e,t){var n=t<a.length?a[t]:"",i=t<o.length?o[t]:"";return(0,r.BX)(r.HY,{children:[ce()(n,i).map((function(e,t){var n;return-1===e[0]&&(n={backgroundColor:"var(--accent-negative-dimmer)",textDecoration:"line-through"}),1===e[0]&&(n={backgroundColor:"var(--accent-positive-dimmer)",textDecoration:"underline"}),(0,r.tZ)("span",{style:n,children:e[1]},t)})),(0,r.tZ)("br",{})]})}));return(0,r.BX)(p.Ug,{children:[(0,r.tZ)("code",{className:"jsx-6ac664c130469a42 gutter",children:(0,r.tZ)("pre",{className:"jsx-6ac664c130469a42",children:c.map((function(e){var t=ue(e,2);t[0];return t[1]})).join("\n")})}),(0,r.tZ)("code",{className:"jsx-6ac664c130469a42 text",children:(0,r.tZ)("pre",{className:"jsx-6ac664c130469a42",children:s})}),(0,r.tZ)(i(),{id:"6ac664c130469a42",children:".gutter.jsx-6ac664c130469a42,.text.jsx-6ac664c130469a42{color:var(--foreground-default)}.gutter.jsx-6ac664c130469a42{min-width:1.5em}.text.jsx-6ac664c130469a42{max-width:80%}"})]})},fe=function(e){var t=e.test,n=e.actualOutput,a=e.isOpen,o=e.isResults,l=e.onRequestClose,c=e.didFail,u=e.error,m=t?L(t.type):"",h=null===n||void 0===n?void 0:n.split("\n"),b=null===t||void 0===t?void 0:t.output.split("\n"),v=null===t||void 0===t?void 0:t.output;return c=null!==c&&void 0!==c?c:"Failed"===(null===t||void 0===t?void 0:t.status),(0,r.BX)(S.Z,{onRequestClose:l,isOpen:a&&void 0!==t,children:[(0,r.BX)("div",{className:"jsx-c7ed87540f6ec33d test-info",children:[(0,r.BX)(p.gC,{align:"center",spacing:1,children:[(0,r.BX)(d.Z,{level:4,children:[o&&"Test results: ",null===t||void 0===t?void 0:t.name]}),(0,r.BX)(p.Ug,{spacing:1,children:[(0,r.tZ)("div",{role:"tooltip","data-microtip-position":"top","aria-label":m,className:"jsx-c7ed87540f6ec33d test-type",children:(0,r.tZ)(f.Z,{align:"center",size:"small",children:null===t||void 0===t?void 0:t.type})}),o&&(null===t||void 0===t?void 0:t.status)&&(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d "+"test-status ".concat(null===t||void 0===t?void 0:t.status),children:(0,r.tZ)(f.Z,{align:"center",size:"small",children:null===t||void 0===t?void 0:t.status})})]})]}),(0,r.tZ)(ee.Z,{height:6}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,r.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:o?(0,r.BX)(p.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(f.Z,{size:"medium",children:"Expected output"}),(0,r.tZ)(f.Z,{size:"xsmall",children:(0,r.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":"Your program is expected to print this output.",className:"jsx-c7ed87540f6ec33d help",children:"?"})})]}):(0,r.tZ)(f.Z,{size:"medium",children:"Output"})}),(0,r.tZ)(ee.Z,{height:"var(--space-8)"}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,r.tZ)(oe,{text:null===t||void 0===t?void 0:t.output})})]})}),(0,r.tZ)(ee.Z,{height:2}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,r.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:o?(0,r.BX)(p.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(f.Z,{size:"medium",children:"Actual output"}),(0,r.tZ)(f.Z,{size:"xsmall",children:(0,r.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":"Your program actually printed this output.",className:"jsx-c7ed87540f6ec33d help",children:"?"})})]}):(0,r.tZ)(f.Z,{size:"medium",children:"Input"})}),(0,r.tZ)(ee.Z,{height:"var(--space-8)"}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,r.tZ)(oe,{text:o?n:null===t||void 0===t?void 0:t.input})})]})}),o&&c&&(0,r.tZ)(r.HY,{children:u?(0,r.BX)(r.HY,{children:[(0,r.tZ)(ee.Z,{height:2}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,r.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:(0,r.tZ)(f.Z,{size:"medium",children:"Error(s)"})}),(0,r.tZ)(ee.Z,{height:"var(--space-8)"}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,r.tZ)(oe,{text:u.stderr||u.message})})]})})]}):(null===t||void 0===t?void 0:t.type)!==s.Flv.Regex&&b&&h&&(0,r.BX)(r.HY,{children:[(0,r.tZ)(ee.Z,{height:2}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-row",children:(0,r.BX)("div",{className:"jsx-c7ed87540f6ec33d test-io-section",children:[(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-label",children:(0,r.BX)(p.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(f.Z,{size:"medium",children:"Difference"}),(0,r.tZ)(f.Z,{size:"xsmall",children:(0,r.tZ)("span",{"data-microtip-position":"top",role:"tooltip","aria-label":"Modify your output to match the expected output.",className:"jsx-c7ed87540f6ec33d help",children:"?"})})]})}),(0,r.tZ)(ee.Z,{height:"var(--space-8)"}),(0,r.tZ)("div",{className:"jsx-c7ed87540f6ec33d test-io-box",children:(0,r.tZ)(de,{expected:v,actual:n})})]})})]})})]}),(0,r.tZ)(i(),{id:"c7ed87540f6ec33d",children:".test-info.jsx-c7ed87540f6ec33d{padding:var(--space-24);display:relative}.test-io-line-spacing.jsx-c7ed87540f6ec33d{width:var(--space-8);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.test-io-row.jsx-c7ed87540f6ec33d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.test-io-line-number.jsx-c7ed87540f6ec33d{display:inline-block;min-width:1.5em;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.test-io-line.jsx-c7ed87540f6ec33d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start;font-family:var(--font-family-code)}.test-io-line-content.jsx-c7ed87540f6ec33d{display:inline-block}.test-io-label.jsx-c7ed87540f6ec33d{padding-bottom:var(--space-8);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.test-io-label.jsx-c7ed87540f6ec33d .text{color:var(--foreground-dimmer)}.test-io-section.jsx-c7ed87540f6ec33d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:start;width:100%}.test-io-box.jsx-c7ed87540f6ec33d{height:100%;border:1px solid var(--outline-dimmest);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow-x:auto}.test-io-box.jsx-c7ed87540f6ec33d .text{white-space:nowrap}.test-type.jsx-c7ed87540f6ec33d,.test-status.jsx-c7ed87540f6ec33d{background-color:var(--background-highest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8);display:inline-block;spacing:1;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.test-status.jsx-c7ed87540f6ec33d .text{color:var(--white)}.test-status.Passed.jsx-c7ed87540f6ec33d{background-color:var(--accent-positive-default)}.test-status.Failed.jsx-c7ed87540f6ec33d{background-color:var(--accent-negative-default)}.help.jsx-c7ed87540f6ec33d{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;border:1px solid var(--background-higher);-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;width:var(--space-16);height:var(--space-16);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}"})]})},pe=n(30617),me=n(923),he=n(46829),be=n(27754),ve=n(56834);function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ye(e,t,n[t])}))}return e}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ke,Ze=function(){var e,t,n,a,l,c,p,m,h=(0,pe.Z)(),w=h.iotester,k=h.dotReplit,Z=h.container,j=(0,v.Z)(),S=j.showError,C=j.showConfirm,T=we(o.useState([]),2),A=T[0],I=T[1],O=we(o.useState(),2),z=O[0],E=O[1],B=we(o.useState(Z.getConnectionState()),2),_=B[0],R=B[1],P=we(o.useState(w.state),2),G=P[0],X=P[1],U=we(o.useState(),2),D=U[0],L=U[1],F=(0,he.useApolloClient)();o.useEffect((function(){return Z.onConnectionStateChanged(R)}),[R,Z]);var W=(0,u.Z)(),V=(0,s.CHr)({variables:{replId:W}}),$="Repl"===(null===(e=V.data)||void 0===e||null===(t=e.repl)||void 0===t?void 0:t.__typename)?V.data.repl:null,q="Team"===(null===$||void 0===$||null===(n=$.owner)||void 0===n?void 0:n.__typename)&&$.owner.id||null,Y=we((0,s.vkX)({onCompleted:function(e){e&&e.saveIOTestResults&&S(e.saveIOTestResults.message)}}),1)[0];o.useEffect((function(){var e=[w.onStateChanged((function(e){X(e),q&&e===me.Z.Idle&&I((function(e){var t;return Y({variables:{replId:W,results:Object.values(e).map((function(e){var n;return xe({},e,{output:(null===(n=e.error)||void 0===n?void 0:n.stderr)?(null!==(t=e.output)&&void 0!==t?t:"")+e.error:e.output})})),teamId:q}}).catch((function(t){N.Tb(t,(function(t){return t.setExtras({results:e,payload:D})}))})),e}))})),w.onError((function(e){S(e.message)})),w.onTestResult((function(e){I((function(t){var n=xe({},t[e.testId],{testId:e.testId,status:"passed"===e.body?s.kQ0.Passed:s.kQ0.Failed});return"error"===e.body&&(n.error=e.error),xe({},t,ye({},e.testId,n))}))})),w.onInstructionResult((function(e){I((function(t){var n,r,a=Math.abs(e.instructionId),i="";switch(e.body){case"passed":var o;i+=null!==(o=e.passed.output)&&void 0!==o?o:"";break;case"failed":var l;i+=null!==(l=e.failed.output)&&void 0!==l?l:"";break;case"timeout":var c;i+=null!==(c=e.timeout.output)&&void 0!==c?c:"";break;case"error":i+=e.error.message}return xe({},t,ye({},a,xe({},t[a],{testId:a,output:(null!==(r=null===(n=A[a])||void 0===n?void 0:n.output)&&void 0!==r?r:"")+i})))}))}))];return function(){return e.forEach((function(e){return e()}))}}),[A,S,X,w,W,q,D,Y]),o.useEffect((function(){var e=function(e){var t,n;t=e,(null!=(n=Error)&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)&&S(e.message),N.Tb(e)};return H(k).then(E).catch(e),k.watch((function(){return H(k).then(E).catch(e)}))}),[k,E,S]);var J=null===$||void 0===$?void 0:$.ioTests,K=we((0,s.Nej)({onError:function(e){return S(e)},onCompleted:function(e){var t;"UserError"===(null===(t=e.deleteTemplateTest)||void 0===t?void 0:t.__typename)?S(e.deleteTemplateTest.message):(C("Test deleted!"),V.refetch())}}),2),ee=K[0],te=K[1],ne=we((0,s.AAz)({onError:function(e){return S(e)},onCompleted:function(e){var t;"UserError"===(null===(t=e.updateTemplateTest)||void 0===t?void 0:t.__typename)?S(e.updateTemplateTest.message):"ReplTemplateTest"===e.updateTemplateTest.__typename&&(C("Test updated!"),F.writeFragment({fragment:s.GgA,data:e.updateTemplateTest}))}}),2),ae=ne[0],ie=ne[1],oe=we((0,s.pVf)({onError:function(e){return S(e)},onCompleted:function(e){var t;"UserError"===(null===(t=e.createTemplateTest)||void 0===t?void 0:t.__typename)?S(e.createTemplateTest.message):(C("Test created!"),V.refetch())}}),2),le=oe[0],ce=oe[1],se=V.loading||te.called&&te.loading||ie.called&&ie.loading||ce.called&&ce.loading;o.useEffect((function(){se||L(z&&J&&J.length>0?{runInfo:z,tests:J.map(M)}:void 0)}),[J,z,L,se]);var ue=we(o.useState(!1),2),de=ue[0],ge=ue[1],ke=we(o.useState(!1),2),Ze=ke[0],je=ke[1],Se=we(o.useState(!1),2),Ce=Se[0],Te=Se[1],Ne=we(o.useState(),2),Ae=Ne[0],Ie=Ne[1],Oe="undefined"!==typeof Ae&&"Repl"===(null===(a=V.data)||void 0===a?void 0:a.repl.__typename)&&V.data.repl.ioTests[Ae]||void 0,ze="Repl"===(null===(l=V.data)||void 0===l?void 0:l.repl.__typename)&&V.data.repl.isProject;if(V.error)return(0,r.BX)("div",{className:"jsx-fb1466c53ace89ca wrapper",children:[(0,r.tZ)(f.Z,{align:"center",children:"Unable to fetch tests"}),(0,r.tZ)(i(),{id:"fb1466c53ace89ca",children:".wrapper.jsx-fb1466c53ace89ca{padding:var(--deprecated-spacing-2);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]});var Ee=function(e){var t;if(void 0!==(null===(t=A[e])||void 0===t?void 0:t.status))return A[e].status===s.kQ0.Passed?"Passed":"Failed"};return(0,r.BX)("div",{className:"jsx-69bed4444090144f tests-panel",children:[(0,r.tZ)("div",{className:"jsx-69bed4444090144f tests-header",children:(0,r.tZ)(d.Z,{level:4,children:"Input/Output Tests"})}),V.loading?(0,r.tZ)("div",{className:"jsx-69bed4444090144f spinner",children:(0,r.tZ)(g.Z,{})}):(0,r.BX)("div",{className:"jsx-69bed4444090144f tests",children:[(0,r.BX)("div",{className:"jsx-69bed4444090144f button-bar",children:[ze&&(0,r.tZ)(b.Z,{color:"green",Icon:x.Z,className:"create-test-button",disabled:se||G!==me.Z.Idle,onClick:function(){Ie(void 0),ge(!0)},children:"Create test"}),!ze&&J&&0===J.length?(0,r.tZ)(f.Z,{children:"This project has no tests "}):(0,r.tZ)(b.Z,{color:"positive",Icon:y.Z,onClick:function(){var e;if(!D||"Repl"!==(null===$||void 0===$?void 0:$.__typename)||"Team"!==(null===(e=$.owner)||void 0===e?void 0:e.__typename)||w.state!==me.Z.Idle){var t=new Error("no tests or run info");throw N.Tb(t,(function(e){return e.setExtra("payload",D)})),t}I({}),(0,ve.j)(ve.U3.AUTOGRADER_STARTED),w.run(D).catch((function(e){N.Tb(e,(function(e){return e.setExtra("payload",D)})),S(e.message)}))},disabled:se||G!==me.Z.Idle||!D||_!==be.e.CONNECTED,children:"Run tests"})]}),null===J||void 0===J?void 0:J.map((function(e,t){return(0,r.tZ)(re,{test:e,onEdit:function(){Ie(t),ge(!0)},onDelete:function(){ee({variables:{testId:e.id}})},onView:function(){Ie(t),je(!0),Te(!1)},onShowFailed:function(){Ie(t),je(!0),Te(!0)},isRunning:G!==me.Z.Idle&&void 0!==A[e.id]&&void 0===A[e.id].status,isTeacherView:ze,status:Ee(e.id),disableButtons:se||G!==me.Z.Idle},e.id)})),(0,r.tZ)(Q,{test:Oe,isOpen:de,readOnly:!ze,onRequestClose:function(){ge(!1),Ie(void 0)},onCancel:function(){ge(!1),Ie(void 0)},onSubmit:function(e){var t,n,r,a;void 0!==e.testId?(ae({variables:{input:e}}),Ie(void 0)):"Repl"===(null===(t=V.data)||void 0===t||null===(n=t.repl)||void 0===n?void 0:n.__typename)&&(null===(r=V.data)||void 0===r||null===(a=r.repl)||void 0===a?void 0:a.template)&&le({variables:{input:xe({},e,{templateId:V.data.repl.template.id})}}),ge(!1)}}),(0,r.tZ)(fe,{test:Oe,isOpen:Ze,actualOutput:"undefined"!==typeof Oe?null===(c=A[Oe.id])||void 0===c?void 0:c.output:void 0,error:Oe&&(null===(p=A[Oe.id])||void 0===p?void 0:p.error),didFail:Oe&&(null===(m=A[Oe.id])||void 0===m?void 0:m.status)===s.kQ0.Failed,isResults:Ce,onRequestClose:function(){je(!1),Ie(void 0)}})]}),(0,r.tZ)(i(),{id:"69bed4444090144f",children:".flex-grow.jsx-69bed4444090144f{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.spacer-1.jsx-69bed4444090144f{padding:var(--space-4)}.tests-header.jsx-69bed4444090144f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;position:relative;padding:var(--space-4)0 var(--space-8)0;margin-bottom:var(--space-8);color:var(--foreground-default);width:100%;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.button-bar.jsx-69bed4444090144f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:var(--space-8)}.button-bar.jsx-69bed4444090144f>button{margin-right:var(--space-8);margin-bottom:var(--space-8)}.spinner.jsx-69bed4444090144f{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.tests-panel.jsx-69bed4444090144f{min-width:200px;background-color:var(--background-default);color:var(--foreground-default);overflow:hidden auto}.section.jsx-69bed4444090144f{height:-webkit-calc(100% - 50px);height:-moz-calc(100% - 50px);height:calc(100% - 50px)}"})]})},je=n(45620);function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(){var e=Ce(o.useState(null),2),t=e[0],n=e[1],a=o.useRef(ke.None),l=(0,u.Z)(),b=(0,je.Z)(),v=b.language,g=b.isLoading,y=(0,s.CHr)({variables:{replId:l}}),x=y.loading;return o.useEffect((function(){var e,t,r=null===(e=y.data)||void 0===e?void 0:e.repl;if("Repl"===(null===r||void 0===r?void 0:r.__typename)){var i=r.unitTests,o=r.ioTests,l=ke.Choose;l=o.length>0?ke.IO:(null===i||void 0===i?void 0:i.tests)&&(null===(t=i.tests)||void 0===t?void 0:t.length)>0||(null===i||void 0===i?void 0:i.meta)?ke.Unit:r.currentUserPermissions.writeTests?a.current!==ke.None?a.current:ke.Choose:ke.None,n(l)}}),[y.data]),x||g?(0,r.BX)("div",{className:"jsx-1652fb32f8a812d3",children:[(0,r.tZ)(m.Z,{}),(0,r.tZ)(i(),{id:"1652fb32f8a812d3",children:"div.jsx-1652fb32f8a812d3{height:100%;width:100%;background-color:var(--background-default);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]}):(0,r.BX)("div",{className:"jsx-ba2c7540ad19d138 testing-controller",children:[t===ke.None&&(0,r.tZ)("div",{className:"jsx-ba2c7540ad19d138 empty",children:(0,r.tZ)(f.Z,{children:"No tests found"})}),t===ke.Choose&&(0,r.BX)(p.gC,{align:"center",spacing:2,children:[(0,r.tZ)(d.Z,{align:"center",level:3,children:"Choose a testing method"}),(0,r.BX)("div",{onClick:function(){n(ke.Unit),a.current=ke.Unit},className:"jsx-ba2c7540ad19d138 "+(c()("panel",{"is-disabled":!v})||""),children:[(0,r.tZ)(d.Z,{level:4,children:"Unit tests"}),(0,r.tZ)(f.Z,{align:"center",children:v?"A language specific framework that tests individual functions":"Unit tests are not currently supported for this language"})]}),(0,r.tZ)("div",{onClick:function(){n(ke.IO),a.current=ke.IO},className:"jsx-ba2c7540ad19d138 panel",children:(0,r.BX)(p.gC,{spacing:1,align:"center",children:[(0,r.tZ)(d.Z,{level:4,children:"Input output tests"}),(0,r.tZ)(f.Z,{align:"center",children:"Test your program via standard in, and assert based on the result of standard out"})]})})]}),t===ke.IO&&(0,r.tZ)(Ze,{}),t===ke.Unit&&(0,r.tZ)(h.Z,{onBack:function(){return n(ke.Choose)}}),(0,r.tZ)(i(),{id:"ba2c7540ad19d138",children:".empty.jsx-ba2c7540ad19d138{padding:var(--space-16);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.testing-controller.jsx-ba2c7540ad19d138{overflow-y:auto;padding:var(--space-8);height:100%;width:100%;background-color:var(--background-default);-webkit-box-shadow:var(--shadow-1);-moz-box-shadow:var(--shadow-1);box-shadow:var(--shadow-1)}.panel.jsx-ba2c7540ad19d138{width:100%;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);border:1px solid var(--background-higher);max-width:200px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;padding:var(--space-8)}.panel.jsx-ba2c7540ad19d138:hover{background-color:var(--background-root)}.panel.is-disabled.jsx-ba2c7540ad19d138{opacity:.5;pointer-events:none}"})]})}!function(e){e[e.None=0]="None",e[e.Choose=1]="Choose",e[e.Unit=2]="Unit",e[e.IO=3]="IO"}(ke||(ke={}))},67472:function(e,t,n){n.d(t,{Z:function(){return x}});var r=n(35944),a=n(4590),i=n(67294),o=n(88768),l=n(1517),c=n(98647),s=n(5560),u=n(60818),d=n(67289),f=n(71841),p=n(92432),m=n(23139),h=n(65684);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function x(e){var t,n,a,i,l=e.style,c=e.activeFile,u=(0,s.Z)(),d=(0,o.r8C)({variables:{replID:u},pollInterval:1e4}),f=d.data,p=d.error,h=d.loading;f&&("Repl"===f.repl.__typename?a=null===f||void 0===f||null===(i=f.repl)||void 0===i?void 0:i.database:n="Could not fetch Database info");p&&("GraphQL error: You don't have access to this database"===p.message?a=null:n=p.message);var b=null===f||void 0===f||null===(t=f.currentUser)||void 0===t?void 0:t.isLoggedIn;return(0,r.BX)(m.G7,{css:[l,m.l0.colWithGap(16),m.l0.backgroundColor.backgroundDefault,m.l0.p(8),m.l0.borderRadius(0,4,4,0)],children:[(0,r.tZ)(m.h4,{level:2,variant:"subheadBig",children:"Database"}),(0,r.tZ)(m.G7,{css:[m.l0.colWithGap(16),{overflowY:"auto",width:"100%",flex:"1"}],children:b?(0,r.BX)(r.HY,{children:[(0,r.BX)(m.xv,{multiline:!0,children:[(0,r.tZ)("a",{href:"https://docs.replit.com/hosting/database-faq",target:"_blank",rel:"noopener",css:[m.l0.color.accentPrimaryStronger,m.l0.pr(4)],children:"Replit Database"}),"is an easy to use key-value store."]}),n&&(0,r.tZ)(m.xv,{multiline:!0,css:[m.l0.color.accentNegativeStronger],children:n}),(a||h)&&(0,r.tZ)(m.G7,{css:[m.l0.pb(16)],children:(0,r.tZ)(w,{database:a,loading:h})}),!h&&(0,r.BX)(m.G7,{css:[m.l0.colWithGap(8)],children:[(0,r.tZ)(m.xv,{variant:"small",css:{textTransform:"uppercase",fontWeight:m.TV.fontWeightMedium},children:"commands"}),(0,r.tZ)(k,{activeFile:c})]})]}):(0,r.tZ)(z,{})}),(0,r.tZ)(O,{})]})}var w=function(e){var t=e.database;if(e.loading)return(0,r.tZ)(l.Z,{style:{margin:"10px auto",width:"35px",height:"35px"}});if(!t)return null;var n=t.sizeMB||0,a="MB";return n<1&&(n*=1e3,a="KB"),(0,r.BX)(m.G7,{css:[m.l0.colWithGap(8)],children:[(0,r.tZ)(m.xv,{variant:"small",css:{textTransform:"uppercase",fontWeight:m.TV.fontWeightMedium},children:"storage"}),(0,r.BX)(m.G7,{css:[m.l0.rowWithGap(4)],children:[(0,r.BX)(m.xv,{color:"dimmer",children:[n.toFixed(2)," ",a]}),(0,r.tZ)(m.xv,{color:"dimmer",children:"|"}),(0,r.tZ)(m.xv,{color:"dimmer",children:"".concat(t.keysCount||0," ").concat(1===t.keysCount?"key":"keys")})]})]})},k=function(e){var t=e.activeFile,n=(0,r.tZ)(I,{activeFile:t});if(t)switch((0,d.r6)(t)){case"go":n=(0,r.tZ)(A,{examples:T,activeFile:t});break;case"js":case"ts":case"tsx":case"jsx":case"mjs":n=(0,r.tZ)(A,{examples:N,activeFile:t});break;case"py":n=(0,r.tZ)(A,{examples:C,activeFile:t})}return(0,r.tZ)(m.G7,{css:[m.l0.colWithGap(8)],children:n})},Z=function(e){var t=e.title,n=e.content,a=e.activeFile,o=v(i.useState(n),2),l=o[0],c=o[1],s=v(function(){var e=t.split(" ");return[e[0],e.slice(1).join(" ")]}(),2),u=s[0],d=s[1];return(0,r.BX)(m.G7,{css:[m.l0.colWithGap(4)],children:[(0,r.BX)(m.G7,{css:[m.l0.rowWithGap(4)],children:[(0,r.tZ)(m.xv,{css:{fontWeight:m.TV.fontWeightMedium},children:u}),(0,r.tZ)(m.xv,{color:"dimmer",children:d})]}),(0,r.BX)(m.G7,{css:[m.l0.colWithGap(4),{width:"fit-content"}],children:[(0,r.tZ)(m.G7,{css:[m.l0.rowWithGap(4),m.l0.backgroundColor.backgroundRoot,m.l0.borderRadius(4),m.l0.p(4),m.l0.align.center],children:n.map((function(e,n){return"input"===e.type?(0,r.tZ)(m.II,{onChange:function(e){var t=g(l);t[n].value=e.target.value,c(t)},placeholder:e.placeholder,value:e.value||"",css:[m.l0.width(64),m.l0.height(24),m.l0.zIndex(1)]},"".concat(t,"-").concat(n)):(0,r.tZ)(m.G7,{css:[m.l0.borderRadius(4),m.l0.backgroundColor.backgroundRoot,m.l0.font.code,m.l0.color.accentNegativeStronger],children:e.value},"".concat(t,"-").concat(n))}))}),(0,r.tZ)(j,{code:l.reduce((function(e,t){return"input"===t.type?e+(t.value||t.placeholder):e+t.value}),""),activeFile:a})]})]})},j=function(e){var t=e.code,n=e.activeFile,a=(0,u.Z)(n);return a?(0,r.tZ)(m.Tg,{background:"default",children:(0,r.tZ)(m.zx,{small:!0,outlined:!0,onClick:function(){a({code:t})},text:"Insert",iconRight:(0,r.tZ)(p.Z,{}),css:{width:"fit-content"}})}):(0,r.tZ)(m.Tg,{background:"default",children:(0,r.tZ)(m.zx,{small:!0,outlined:!0,onClick:function(){return(0,c.Z)(t)},text:"Copy",iconLeft:(0,r.tZ)(f.Z,{}),css:{width:"fit-content"}})})},S=[{title:"Set a key to a value",content:[{type:"code",value:"curl $REPLIT_DB_URL -d '"},{type:"input",placeholder:"key"},{type:"code",value:"="},{type:"input",placeholder:"value"},{type:"code",value:"'"}]},{title:"Get a key's value",content:[{type:"code",value:"curl $REPLIT_DB_URL/"},{type:"input",placeholder:"key"}]},{title:"Delete a key",content:[{type:"code",value:"curl -XDELETE $REPLIT_DB_URL/"},{type:"input",placeholder:"key"}]},{title:"List all keys",content:[{type:"code",value:'curl "$REPLIT_DB_URL?prefix='},{type:"input",placeholder:"key"},{type:"code",value:'"'}]}],C=[{title:"Import the database",content:[{type:"code",value:"from replit import db"}]},{title:"Set a key to a value",content:[{type:"code",value:'db["'},{type:"input",placeholder:"key"},{type:"code",value:'"] = "'},{type:"input",placeholder:"value"},{type:"code",value:'"'}]},{title:"Get a key's value",content:[{type:"code",value:'value = db["'},{type:"input",placeholder:"key"},{type:"code",value:'"]'}]},{title:"Delete a key",content:[{type:"code",value:'del db["'},{type:"input",placeholder:"key"},{type:"code",value:'"]'}]},{title:"List all keys",content:[{type:"code",value:"keys = db.keys()"}]},{title:"List keys with a prefix",content:[{type:"code",value:'matches = db.prefix("'},{type:"input",placeholder:"prefix"},{type:"code",value:'")'}]}],T=[{title:"Import the database",content:[{type:"code",value:'import "github.com/replit/database-go"'}]},{title:"Set a key to a value",content:[{type:"code",value:'database.Set("'},{type:"input",placeholder:"key"},{type:"code",value:'", "'},{type:"input",placeholder:"value"},{type:"code",value:'")'}]},{title:"Get a key's value",content:[{type:"code",value:'value, _ := database.Get("'},{type:"input",placeholder:"key"},{type:"code",value:'")'}]},{title:"Delete a key",content:[{type:"code",value:'database.Delete("'},{type:"input",placeholder:"key"},{type:"code",value:'")'}]},{title:"List all keys",content:[{type:"code",value:'keys, _ := database.ListKeys("")'}]},{title:"List keys with a prefix",content:[{type:"code",value:"matches, _ := database.ListKeys("},{type:"input",placeholder:"prefix"},{type:"code",value:'")'}]}],N=[{title:"Import the database",content:[{type:"code",value:'const Database = require("@replit/database")'}]},{title:"Create a new database",content:[{type:"code",value:"const db = new Database()"}]},{title:"Set a key to a value",content:[{type:"code",value:'db.set("'},{type:"input",placeholder:"key"},{type:"code",value:'", "'},{type:"input",placeholder:"value"},{type:"code",value:'").then(() => {});'}]},{title:"Get a key's value",content:[{type:"code",value:'db.get("'},{type:"input",placeholder:"key"},{type:"code",value:'").then(value => {});'}]},{title:"Delete a key",content:[{type:"code",value:'db.delete("'},{type:"input",placeholder:"key"},{type:"code",value:'").then(() => {});'}]},{title:"List all keys",content:[{type:"code",value:"db.list().then(keys => {});"}]},{title:"List keys with a prefix",content:[{type:"code",value:'db.list("'},{type:"input",placeholder:"prefix"},{type:"code",value:'").then(matches => {});'}]}],A=function(e){var t=e.examples,n=e.activeFile;return(0,r.tZ)(m.G7,{css:[m.l0.colWithGap(24)],children:t.map((function(e,t){return(0,r.tZ)(Z,{title:e.title,content:e.content,activeFile:n},t)}))})},I=function(e){var t=e.activeFile;return(0,r.tZ)(r.HY,{children:(0,r.BX)(m.G7,{css:[m.l0.colWithGap(24)],children:[(0,r.BX)(m.G7,{css:[m.l0.rowWithGap(4),{flexWrap:"wrap"}],children:[(0,r.tZ)(m.xv,{color:"dimmer",multiline:!0,children:"We\u2019ve set an environment variable called"}),(0,r.tZ)(m.G7,{css:[m.l0.borderRadius(4),m.l0.backgroundColor.backgroundRoot,m.l0.font.code,m.l0.color.accentNegativeStronger,m.l0.p(4)],children:"REPLIT_DB_URL"}),(0,r.tZ)(m.xv,{color:"dimmer",multiline:!0,children:"in your Repl."})]}),S.map((function(e,n){return(0,r.tZ)(Z,{title:e.title,content:e.content,activeFile:t},n)})),(0,r.tZ)(m.xv,{color:"dimmer",multiline:!0,children:"You can use the Database from any Repl by making HTTP requests similar to those above. We have language clients for Python, Go, and Node, switch to a file that uses that language to see how to use the client."})]})})},O=function(){return(0,r.tZ)(m.G7,{css:[m.l0.pt(8)],children:(0,r.tZ)(h.Z,{feature:"Replit Database"})})},z=function(){return(0,r.BX)(m.G7,{css:[m.l0.colWithGap(16)],children:[(0,r.BX)(m.xv,{multiline:!0,children:[(0,r.tZ)("a",{href:"https://docs.replit.com/hosting/database-faq",target:"_blank",rel:"noopener",css:[m.l0.color.accentPrimaryStronger,m.l0.pr(4)],children:"Replit Database"}),"is the fastest and easiest way to store data from your Repl. Try it out by logging in or signing up."]}),(0,r.tZ)(m.ZP,{href:"/signup",colorway:"primary",text:"Sign up",iconLeft:(0,r.tZ)(a.Z,{})})]})}},76278:function(e,t,n){n.d(t,{Z:function(){return V}});var r=n(35944),a=n(79547),i=n.n(a),o=n(67294),l=n(8996),c=n(40425),s=n(30617),u=n(31284),d=n(51281),f=n(6763);function p(e){return(0,r.BX)(r.HY,{children:[(0,r.tZ)(c.Z,{truncate:!0,level:5,children:"Call stack"}),(0,r.tZ)(l.gC,{align:"stretch",constrainWidth:!0,children:e.frames.map((function(t){return(0,r.tZ)(m,{frame:t,onClick:e.onFrameClick},t.id)}))})]})}function m(e){var t,n,a=e.frame,o=e.onClick,l=null===(t=a.source)||void 0===t?void 0:t.name,c=null===(n=a.source)||void 0===n?void 0:n.path,s=l&&(0,f.om)(l),u=c&&(0,f.om)(c),d=c&&(0,f.IT)(c);return(0,r.BX)(r.HY,{children:[(0,r.BX)("div",{onClick:function(){return d&&o(d,a.line)},className:"jsx-c66d0af1ad52f929 frame",children:[(0,r.tZ)("div",{className:"jsx-c66d0af1ad52f929 label name",children:a.name}),(0,r.BX)("div",{className:"jsx-c66d0af1ad52f929 label path",children:[(0,r.tZ)("span",{className:"jsx-c66d0af1ad52f929 line",children:a.line}),s||u||l||c]})]}),(0,r.tZ)(i(),{id:"c66d0af1ad52f929",children:".frame.jsx-c66d0af1ad52f929{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;max-width:100%;height:var(--space-32);cursor:pointer;color:var(--foreground-dimmer);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-size:var(--font-size-small);font-family:var(--font-family-code)}.frame.jsx-c66d0af1ad52f929:hover{background-color:var(--background-higher);color:var(--foreground-default)}.label.jsx-c66d0af1ad52f929{font-size:var(--font-size-default);padding-left:var(--space-8);padding-right:var(--space-8);overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.name.jsx-c66d0af1ad52f929{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;background-color:var(--background-higher);padding:1px 2px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.path.jsx-c66d0af1ad52f929{-webkit-box-flex:0;-webkit-flex:0 1 auto;-moz-box-flex:0;-ms-flex:0 1 auto;flex:0 1 auto}.line.jsx-c66d0af1ad52f929{display:inline-block;margin-right:var(--space-8);background-color:var(--background-higher);padding:1px 2px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}"})]})}var h=n(89431),b=n(57541),v=n(58458),g=n(94184),y=n.n(g),x=n(50553),w=n(3204),k=n(23139),Z=n(35060);function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e){var t=[],n=(0,h.Z)("flag-debugger-v2"),a=!0,o=!1,s=void 0;try{for(var u,d=e.breakpoints[Symbol.iterator]();!(a=(u=d.next()).done);a=!0){var f=S(u.value,2),p=f[0],m=f[1],b=!0,g=!1,y=void 0;try{for(var x,w=m[Symbol.iterator]();!(b=(x=w.next()).done);b=!0){var k=x.value;t.push((0,r.tZ)(T,{breakpoint:k,file:p,line:k.line,verified:k.verified,supportsLogPoints:n,logMessage:k.logMessage,onClick:e.onBreakpointClick,onUpdate:e.onUpdate,onRemove:e.onRemove},"".concat(p,":").concat(k.line,":").concat(k.pid1Id,":").concat(k.dapId)))}}catch(Z){g=!0,y=Z}finally{try{b||null==w.return||w.return()}finally{if(g)throw y}}}}catch(Z){o=!0,s=Z}finally{try{a||null==d.return||d.return()}finally{if(o)throw s}}return(0,r.BX)(r.HY,{children:[(0,r.tZ)(c.Z,{truncate:!0,level:5,children:"Breakpoints"}),t.length>0?(0,r.tZ)(l.gC,{align:"stretch",constrainWidth:!0,children:t}):(0,r.BX)(v.Z,{size:"xsmall",foreground:2,children:["To start, add a breakpoint ",(0,r.tZ)("span",{className:"jsx-223474dbb82a953c breakpoint"})," by clicking on the line number.",(0,r.tZ)(i(),{id:"223474dbb82a953c",children:".breakpoint.jsx-223474dbb82a953c{display:inline-block;background-color:var(--accent-primary-default);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:8px;height:8px}"})]})]})}function T(e){var t=e.breakpoint,n=e.file,a=e.line,c=e.verified,s=e.supportsLogPoints,u=e.logMessage,p=e.onClick,m=e.onUpdate,h=e.onRemove,v=(0,f.om)(n),g=S(o.useState(Boolean(u)),2),j=g[0],C=g[1],T=S(o.useState(null!==u&&void 0!==u?u:""),2),N=T[0],A=T[1];return(0,r.BX)(r.HY,{children:[(0,r.BX)(l.gC,{spacing:1,align:"stretch",children:[(0,r.tZ)("div",{className:"jsx-3743f20b19d8f08d breakpoint",children:(0,r.BX)("div",{css:[{"&:hover":{backgroundColor:w.TV.backgroundHigher,color:w.TV.foregroundDefault},"&:focus-within":{color:w.TV.foregroundDefault},"&:hover .frameButton":{background:w.TV.backgroundHigher,backgroundColor:w.TV.backgroundHigher,opacity:1},"&:focus-within .frameButton":{opacity:1},"&:hover .frameButton:hover":{backgroundColor:w.TV.backgroundHighest}}],onClick:function(){p(n,a)},className:"jsx-3743f20b19d8f08d frame",children:[(0,r.tZ)("div",{className:"jsx-3743f20b19d8f08d "+(y()("circle",{verified:c})||"")}),(0,r.tZ)("div",{className:"jsx-3743f20b19d8f08d line",children:a}),(0,r.tZ)("div",{className:"jsx-3743f20b19d8f08d location",children:(0,r.tZ)("span",{className:"jsx-3743f20b19d8f08d path",children:v||n})}),(0,r.tZ)(k.hU,{className:"frameButton",alt:"Remove breakpoint",css:[{opacity:0}],onClick:function(){h({breakpoint:t})},children:(0,r.tZ)(Z.Z,{})}),s&&(0,r.tZ)(k.hU,{className:"frameButton",alt:j?"Close log message":"Open log message",onClick:function(){return C(!j)},children:(0,r.tZ)(x.Z,{rotate:j?180:0})})]})}),j&&(0,r.BX)(l.gC,{spacing:1,align:"stretch",children:[(0,r.tZ)(b.ZP,{label:"log message",name:"logMessage",value:N,onChange:function(e){return A(e.currentTarget.value)},spellCheck:!1}),(0,r.tZ)(d.Z,{onClick:function(){return m({breakpoint:t,logMessage:N})},children:"Save"})]})]}),(0,r.tZ)(i(),{id:"3743f20b19d8f08d",children:".breakpoint.jsx-3743f20b19d8f08d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;max-width:100%;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.frame.jsx-3743f20b19d8f08d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:var(--space-32);cursor:pointer;color:var(--foreground-dimmer);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-size:var(--font-size-default)}.circle.jsx-3743f20b19d8f08d{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;background-color:var(--accent-primary-default);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:11px;height:11px;margin-left:var(--space-8);margin-right:var(--space-8);opacity:.5}.verified.jsx-3743f20b19d8f08d{opacity:1}.line.jsx-3743f20b19d8f08d{font-family:var(--font-family-code);background-color:var(--background-higher);padding:1px 2px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.location.jsx-3743f20b19d8f08d{font-family:var(--font-family-code);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;min-width:0;font-size:var(--font-size-default);padding-left:var(--space-8);padding-right:var(--space-8)}.path.jsx-3743f20b19d8f08d{overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}"})]})}var N=n(62473),A=n(27464),I=n(80286),O=n(64396),z=n(31758),E=n(63051),B=n(61036),_=n(1517),R=n(54929),P=n(70917),G=n(56834),X=n(92944),U=n(87349);function D(e){var t=e.client,n=(0,u.Z)(null===t||void 0===t?void 0:t.state),a=(0,u.Z)(null===t||void 0===t?void 0:t.supportsStepBack);return(0,r.BX)(R.Z,{css:w.l0.rowWithGap(2),children:[a&&(0,r.BX)(r.HY,{children:[(0,r.tZ)(A.Z,{size:40,disabled:!t||"paused"!==n,onClick:function(){(0,G.j)(G.U3.DEBUGGER_USED,{action:"lastBreakpoint"}),null===t||void 0===t||t.reverseContinue()},alt:"Last Breakpoint",tooltipText:"Last Breakpoint",tooltipPlacement:"bottom",children:(0,r.tZ)(I.Z,{})}),(0,r.tZ)(A.Z,{size:40,disabled:!t||"paused"!==n,onClick:function(){(0,G.j)(G.U3.DEBUGGER_USED,{action:"stepBack"}),null===t||void 0===t||t.back()},alt:"Step Back",tooltipText:"Step Back",tooltipPlacement:"bottom",children:(0,r.tZ)(O.Z,{})})]}),(0,r.tZ)(F,{stop:function(){(0,G.j)(G.U3.DEBUGGER_USED,{action:"stop"}),null===t||void 0===t||t.stop()},start:function(){(0,G.j)(G.U3.DEBUGGER_USED,{action:"start"}),null===t||void 0===t||t.start()},state:n}),(0,r.tZ)(A.Z,{size:40,disabled:!t||"paused"!==n,onClick:function(){(0,G.j)(G.U3.DEBUGGER_USED,{action:"nextStep"}),null===t||void 0===t||t.next()},alt:"Next Step",tooltipText:"Next Step",tooltipPlacement:"bottom",children:(0,r.tZ)(E.Z,{})}),(0,r.tZ)(A.Z,{size:40,disabled:!t||"paused"!==n,onClick:function(){(0,G.j)(G.U3.DEBUGGER_USED,{action:"skipStep"}),null===t||void 0===t||t.skip()},alt:"Skip Step",tooltipText:"Skip Step",tooltipPlacement:"bottom",children:(0,r.tZ)(z.Z,{rotate:90})}),(0,r.tZ)(A.Z,{size:40,disabled:!t||"paused"!==n,onClick:function(){(0,G.j)(G.U3.DEBUGGER_USED,{action:"nextBreakpoint"}),null===t||void 0===t||t.continue()},alt:"Next Breakpoint",tooltipText:"Next Breakpoint",tooltipPlacement:"bottom",children:(0,r.tZ)(B.Z,{})})]})}var L=(0,P.F4)({"0%":{opacity:.2},"50%":{opacity:1},"100%":{opacity:.2}});function F(e){var t=e.state,n=e.start,a=e.stop;return"terminated"===t?(0,r.tZ)(A.Z,{css:w.l0.color.accentPrimaryDefault,size:40,onClick:n,alt:"Run",tooltipText:"Run",tooltipPlacement:"bottom",children:(0,r.tZ)(U.Z,{})}):"stopping"===t||null===t?(0,r.tZ)(A.Z,{size:40,disabled:!0,alt:"Loading",tooltipText:"Loading",tooltipPlacement:"bottom",children:(0,r.tZ)(_.Z,{})}):(0,r.tZ)(A.Z,{css:"initializing"===t||"preinitializing"===t?[w.l0.color.foregroundDimmer,{animationName:L.toString(),animationDuration:"2s",animationIterationCount:"infinite"}]:w.l0.color.accentPrimaryDefault,size:40,onClick:a,alt:"Stop",tooltipText:"Stop",tooltipPlacement:"bottom",children:(0,r.tZ)(X.Z,{})})}var M=n(66552),W=n(65684);function H(e){var t=e.children;return(0,r.BX)(M.Z,{background:"default",css:[w.l0.height("100%"),w.l0.width("100%"),w.l0.p(8),w.l0.overflow("auto"),{borderTopRightRadius:w.TV.borderRadius4}],children:[(0,r.BX)(l.gC,{spacing:2,align:"stretch",justify:"center",constrainWidth:!0,children:[(0,r.tZ)(l.Ug,{spacing:1,align:"center",justify:"space-between",constrainWidth:!0,children:(0,r.tZ)(c.Z,{truncate:!0,level:4,children:"Debugger"})}),(0,r.tZ)(W.Z,{feature:"Debugger"}),t]}),(0,r.tZ)(i(),{id:"ffa04cbdbbf3badd",children:"a.jsx-ffa04cbdbbf3badd{font-size:var(--font-size-default);color:var(--accent-primary-default);font-weight:var(--font-weight-medium)}"})]})}function V(e){var t=(0,s.Z)().debuggest,n=(0,u.Z)(t.mainClient),a=(0,u.Z)(n?n.state:null),o=(0,u.Z)(n?n.stackFrames:null),l=(0,u.Z)(n?n.variables:null),c=(0,u.Z)(n?n.breakpoints:null),m=function(t,n){var r=(0,f.om)(t);r&&e.onOpenFile({path:r,line:n})};return(0,r.BX)(H,{children:[(0,r.tZ)(D,{client:n}),c&&(0,r.tZ)(C,{breakpoints:c,onBreakpointClick:m,onUpdate:function(e){var t=e.breakpoint,r=e.logMessage;n&&t.pid1Id&&n.updateBreakpoint(t.pid1Id,{logMessage:r})},onRemove:function(e){var t=e.breakpoint;n&&t.pid1Id&&n.removeBreakpoint(t.pid1Id)}}),l&&n&&"paused"===a&&(0,r.tZ)(N.Z,{client:n,variables:l}),o&&"paused"===a&&(0,r.tZ)(p,{frames:o,onFrameClick:m}),n&&(0,r.tZ)("div",{className:"jsx-98cfff378e1e6f5f logs-button",children:(0,r.tZ)(d.Z,{size:"small",onClick:function(){return function(e){if("undefined"===typeof Blob)return;var t=new Blob([e],{type:"text/plain"}),n=document.createElement("a");n.download="debugger-logs.txt",n.href=URL.createObjectURL(t),n.dataset.downloadurl=["text/plain",n.download,n.href].join(":"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout((function(){URL.revokeObjectURL(n.href)}),1500)}(n.getDebugLogs())},children:"Download Logs"})}),(0,r.tZ)(i(),{id:"98cfff378e1e6f5f",children:".instructions.jsx-98cfff378e1e6f5f{height:var(--space-16)}.logs-button.jsx-98cfff378e1e6f5f{position:absolute;bottom:var(--space-8);right:var(--space-8)}"})]})}},10781:function(e,t,n){n.d(t,{Z:function(){return Re}});var r=n(35944),a=n(79547),i=n.n(a),o=n(67294),l=n(40425),c=n(5560),s=n(88768),u=n(41664),d=n.n(u),f=n(37424),p=n(45557),m=n(51281),h=n(8286),b=n(20795),v=n(35060),g=n(94485),y=n(16342),x=n(17632),w=n(6529),k=n(8996),Z=n(3204),j=n(66552),S=n(52697),C=n(38880),T=n(26400),N=n(88503),A=n(34860),I=n(96594),O=n(94184),z=n.n(O),E=n(39155),B=n(11163),_=n(93577),R=n(50553);function P(e){var t=e.direction,n=e.url,a=(0,r.BX)("span",{className:i().dynamic([["78db7dc25a35a576",["left"===t?"rotate(90deg)":"rotate(-90deg)"]]])+" "+(z()("chevron",{hoverable:void 0!==n})||""),children:[(0,r.tZ)(R.Z,{size:20,color:n?"var(--foreground-dimmest)":"var(--background-root)"}),(0,r.tZ)(i(),{id:"78db7dc25a35a576",dynamic:["left"===t?"rotate(90deg)":"rotate(-90deg)"],children:".chevron.__jsx-style-dynamic-selector{display:inline-block;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);-webkit-transition:.2s all;-moz-transition:.2s all;-o-transition:.2s all;transition:.2s all}.chevron.__jsx-style-dynamic-selector svg{width:24px;height:24px;-webkit-transform:".concat("left"===t?"rotate(90deg)":"rotate(-90deg)",";-moz-transform:").concat("left"===t?"rotate(90deg)":"rotate(-90deg)",";-ms-transform:").concat("left"===t?"rotate(90deg)":"rotate(-90deg)",";-o-transform:").concat("left"===t?"rotate(90deg)":"rotate(-90deg)",";transform:").concat("left"===t?"rotate(90deg)":"rotate(-90deg)","}.hoverable.__jsx-style-dynamic-selector{cursor:pointer}.hoverable.chevron.__jsx-style-dynamic-selector svg:hover{stroke:var(--accent-primary-default)}.hoverable.__jsx-style-dynamic-selector:hover{background:var(--accent-primary-default)}")})]});return n?(0,r.tZ)(d(),{href:n,children:(0,r.tZ)("a",{children:a})}):a}var G,X=function(){return(0,r.BX)("span",{title:"late",className:"jsx-c2ef7e04fe810e06",children:["late",(0,r.tZ)(i(),{id:"c2ef7e04fe810e06",children:"span.jsx-c2ef7e04fe810e06{display:inline-block;color:var(--accent-negative-default);border:1px solid var(--accent-negative-default);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:1px var(--space-4);font-size:var(--font-size-small)}"})]})};function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){D(e,t,n[t])}))}return e}function F(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||H(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){if(e){if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function V(e){var t=G.NotStarted,n=G.Started,r=G.Submitted,a=G.Reviewed;switch(e){case t:return"Not Started";case n:return"Not submitted yet";case r:return"Submitted";case a:return"Reviewed";default:return""}}function $(e){return e?e.timeSubmitted||e.timeLastReviewed?e.timeSubmitted&&!e.timeLastReviewed?G.Submitted:!e.timeSubmitted&&e.timeLastReviewed?G.Reviewed:e.timeSubmitted&&e.timeLastReviewed?new Date(e.timeSubmitted)>new Date(e.timeLastReviewed)?G.Submitted:G.Reviewed:void 0:G.Started:G.NotStarted}!function(e){e.NotStarted="not-started",e.Started="started",e.Submitted="submitted",e.Reviewed="reviewed"}(G||(G={}));var q=function(e,t){if(e){var n=e.indexOf("?"),r=new URLSearchParams(-1===n?"":e.slice(n));r.append("submissionReview","true");var a=-1===n?e:e.slice(0,n);return t?"".concat(a,"?").concat(r.toString(),"#").concat(t):"".concat(a,"?").concat(r.toString())}};function Y(e){var t=e.result,n=e.selected,a=e.current,o=e.isLate,l=F(e,["result","selected","current","isLate"]),c=(0,_.Z)(),s=a?"":q(t.url,c),u=(0,r.BX)(k.Ug,{spacing:1,align:"center",children:[(0,r.tZ)("div",{"data-microtip-position":"right","aria-label":V(t.status),role:"tooltip",className:"jsx-5d2ba38a58506d36 indicator-container",children:(0,r.tZ)("div",{className:"jsx-5d2ba38a58506d36 "+(z()("indicator",t.status)||"")})}),(0,r.tZ)(E.Z,{url:t.image}),(0,r.tZ)("div",{className:"jsx-5d2ba38a58506d36 name",children:t.name}),o&&(0,r.tZ)(X,{}),(0,r.tZ)(i(),{id:"5d2ba38a58506d36",children:".indicator-container.jsx-5d2ba38a58506d36{width:10px;height:10px;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;padding:var(--space-4)}.name.jsx-5d2ba38a58506d36{color:var(--foreground-dimmer);font-size:var(--font-size-default);max-width:230px;-o-text-overflow:ellipsis;text-overflow:ellipsis;overflow:hidden}.indicator.jsx-5d2ba38a58506d36{width:8px;height:8px;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px}.indicator.submitted.jsx-5d2ba38a58506d36{background:var(--accent-yellow-dimmer)}.indicator.reviewed.jsx-5d2ba38a58506d36{background:var(--accent-positive-default)}.indicator.started.jsx-5d2ba38a58506d36{border:2px solid var(--foreground-dimmest)}"})]});return(0,r.BX)("div",L({},l,{className:"jsx-39df8ba33633f058 "+(z()("result",t.status,{selected:n,current:a})||""),children:[s?(0,r.BX)(r.HY,{children:[(0,r.tZ)(d(),{href:s,children:(0,r.tZ)("a",{className:"jsx-39df8ba33633f058 result-link",children:u})},t.submissionId),(0,r.tZ)("a",{href:s,target:"_blank",role:"tooltip","data-microtip-position":"left","aria-label":"Open in a new tab",className:"jsx-39df8ba33633f058 result-external-link",children:(0,r.tZ)(A.Z,{color:"var(--foreground-default)"})})]}):(0,r.tZ)("div",{className:"jsx-39df8ba33633f058 result-link",children:u}),(0,r.tZ)(i(),{id:"39df8ba33633f058",children:".result.jsx-39df8ba33633f058{cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;background-color:var(--background-default)}.result.not-started.jsx-39df8ba33633f058{opacity:.4}.result.current.jsx-39df8ba33633f058{background-color:var(--background-root)}.selected.jsx-39df8ba33633f058{background-color:var(--background-root);opacity:1!important}.result-link.jsx-39df8ba33633f058{text-decoration:none;padding:var(--space-8)}.result-external-link.jsx-39df8ba33633f058{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--space-8);opacity:0;margin-left:auto}.result.jsx-39df8ba33633f058:hover .result-external-link.jsx-39df8ba33633f058{opacity:1}.result-external-link.jsx-39df8ba33633f058 svg{-webkit-transition:.3s stroke;-moz-transition:.3s stroke;-o-transition:.3s stroke;transition:.3s stroke}.result-external-link.jsx-39df8ba33633f058:hover svg{stroke:var(--accent-primary-default)}"})]}))}var J=function(e){var t,n,a,l=e.team,c=e.submission,s=e.submissionList,u=e.template,d=(0,B.useRouter)(),f=(0,_.Z)(),p=M(o.useState([]),2),m=p[0],h=p[1],b=M(o.useState(""),2),v=b[0],g=b[1],y=(0,I.Kb)({items:m,defaultHighlightedIndex:0,onSelectedItemChange:function(e){var t=e.selectedItem;m.length&&t&&-1!==e.highlightedIndex&&t.url&&d.push(t.url)}}),x=y.isOpen,w=y.getInputProps,Z=y.getMenuProps,j=y.getItemProps,S=y.openMenu,C=y.highlightedIndex,T=o.useRef(null);o.useEffect((function(){x&&T.current&&T.current.focus()}),[x]);var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(c.isGroupSubmission){var t=s;0!==e.length&&(t=t.filter((function(t){var n;return null===(n=t.submissionGroup)||void 0===n?void 0:n.users.some((function(t){var n;return null===(n=(null===t||void 0===t?void 0:t.fullName)||(null===t||void 0===t?void 0:t.username))||void 0===n?void 0:n.toLocaleLowerCase().includes(e.toLocaleLowerCase())}))})));var n=t.map((function(e){var t,n=e.submissionGroup.users.map((function(e){return e.fullName||e.username})).join(", ");return{image:e.submissionGroup.users[0].image,name:n,url:null===(t=e.repl)||void 0===t?void 0:t.url,status:$(e),submissionId:e.id,timeSubmitted:null===e||void 0===e?void 0:e.timeSubmitted}}));h(W(n))}else{var r=l.students,a=(r=0===e.length?r.filter((function(e){return e.user})).sort((function(e,t){return(e.nickname||e.user.fullName||e.user.username).localeCompare(t.nickname||t.user.fullName||t.user.username)})):r.filter((function(t){var n,r,a;return null===(a=t.nickname||(null===(n=t.user)||void 0===n?void 0:n.fullName)||(null===(r=t.user)||void 0===r?void 0:r.username))||void 0===a?void 0:a.toLocaleLowerCase().includes(e.toLocaleLowerCase())}))).map((function(e){var t,n=s.find((function(t){var n;return(null===(n=t.author)||void 0===n?void 0:n.id)===e.user.id}));return{image:e.user.image,name:e.nickname||e.user.fullName||e.user.username,url:null===n||void 0===n||null===(t=n.repl)||void 0===t?void 0:t.url,status:$(n),submissionId:null===n||void 0===n?void 0:n.id,timeSubmitted:null===n||void 0===n?void 0:n.timeSubmitted}}));h(W(a))}},O=s.findIndex((function(e){return e.id===c.id})),z=s[O-1],R=s[O+1],G=s.filter((function(e){return e.timeLastReviewed})).length,X=function(e){var t=l.students.find((function(t){var n;return(null===(n=t.user)||void 0===n?void 0:n.id)===(null===e||void 0===e?void 0:e.id)}));return(null===t||void 0===t?void 0:t.nickname)||(null===e||void 0===e?void 0:e.fullName)||"@".concat(null===e||void 0===e?void 0:e.username)};return(0,r.BX)("div",L({},Z(),{className:"jsx-e10a8ca7bd05f64a submission-search",children:[x&&(0,r.BX)("div",{className:"jsx-e10a8ca7bd05f64a dropdown",children:[(0,r.BX)("div",{className:"jsx-e10a8ca7bd05f64a search-box-container",children:[(0,r.tZ)("div",{className:"jsx-e10a8ca7bd05f64a search-icon",children:(0,r.tZ)(N.Z,{})}),(0,r.tZ)("input",L({},w({value:v,placeholder:"Navigate",onKeyDown:function(e){"Escape"===e.key&&h([])},onChange:function(e){var t=e.target.value;A(t),g(t)},ref:T}),{className:"jsx-e10a8ca7bd05f64a search-box"}))]}),(0,r.tZ)("div",{className:"jsx-e10a8ca7bd05f64a",children:m.map((function(e,t){return(0,r.tZ)(Y,L({result:e,selected:C===t,current:e.submissionId===c.id},j({index:t,item:e,onClick:function(e){e.nativeEvent.preventDownshiftDefault=!0}}),{isLate:u.dueDate&&e.timeSubmitted&&u.dueDate<e.timeSubmitted}))}))})]}),(0,r.BX)("div",{className:"jsx-e10a8ca7bd05f64a navigation-element",children:[(0,r.BX)("div",{onClick:function(){S(),A()},className:"jsx-e10a8ca7bd05f64a pseudo-search-input",children:[(0,r.tZ)("div",{className:"jsx-e10a8ca7bd05f64a search-icon",children:(0,r.tZ)(N.Z,{})}),(0,r.tZ)("div",{className:"jsx-e10a8ca7bd05f64a",children:"Navigate"})]}),(0,r.BX)("div",{className:"jsx-e10a8ca7bd05f64a arrow-navigation",children:[(0,r.tZ)(P,{direction:"left",url:q(null===z||void 0===z||null===(t=z.repl)||void 0===t?void 0:t.url,f)}),(0,r.BX)("div",{className:"jsx-e10a8ca7bd05f64a",children:[G,"/",s.length]}),(0,r.tZ)(P,{direction:"right",url:q(null===R||void 0===R||null===(n=R.repl)||void 0===n?void 0:n.url,f)})]})]}),(0,r.tZ)("div",{className:"jsx-e10a8ca7bd05f64a submission-info",children:c.isGroupSubmission?c.submissionGroup.users.map((function(e){return(0,r.tZ)("div",{className:"jsx-e10a8ca7bd05f64a submitter-row",children:(0,r.BX)(k.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(E.Z,{url:null===e||void 0===e?void 0:e.image}),(0,r.tZ)("span",{className:"jsx-e10a8ca7bd05f64a submission-name",children:X(e)})]})},null===e||void 0===e?void 0:e.id)})):(0,r.tZ)("div",{className:"jsx-e10a8ca7bd05f64a submission-identity",children:(0,r.tZ)("div",{className:"jsx-e10a8ca7bd05f64a submitter-row",children:(0,r.BX)(k.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(E.Z,{url:null===(a=c.author)||void 0===a?void 0:a.image}),(0,r.tZ)("span",{className:"jsx-e10a8ca7bd05f64a submission-name",children:X(c.author)})]})})})}),(0,r.tZ)(i(),{id:"e10a8ca7bd05f64a",children:".submission-search.jsx-e10a8ca7bd05f64a{width:100%;position:relative;border:1px solid;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);border-color:var(--foreground-dimmest)}.navigation-element.jsx-e10a8ca7bd05f64a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.pseudo-search-input.jsx-e10a8ca7bd05f64a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;color:var(--foreground-dimmer);font-size:var(--font-size-default)}.arrow-navigation.jsx-e10a8ca7bd05f64a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;color:var(--foreground-dimmest);font-size:var(--font-size-small);-webkit-box-align:baseline;-webkit-align-items:baseline;-moz-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;padding:0 var(--space-8)}.submitter-row.jsx-e10a8ca7bd05f64a{text-decoration:none;color:var(--foreground-default)}.submission-info.jsx-e10a8ca7bd05f64a{display:grid;grid-gap:var(--space-8);padding:var(--space-16)}.submission-name.jsx-e10a8ca7bd05f64a{color:var(--foreground-dimmer);font-size:var(--font-size-default)}.search-box.jsx-e10a8ca7bd05f64a{border:none;outline:none;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-size:var(--font-size-default);background-color:inherit;color:var(--foreground-default)}.search-icon.jsx-e10a8ca7bd05f64a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:var(--space-16);background-color:inherit}.search-box-container.jsx-e10a8ca7bd05f64a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;background-color:var(--background-default)}.dropdown.jsx-e10a8ca7bd05f64a{position:absolute;background:var(--background-default);z-index:10;width:350px;max-height:426px;overflow-y:scroll;overflow-y:overlay;white-space:nowrap;border:1px solid;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);border-color:var(--foreground-dimmest);margin:-1px}"})]}))},K=n(17847);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ee(e,t,n[t])}))}return e}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var re=function(e){return{short:(0,K.Z)(e,"do MMM"),long:(0,K.Z)(e,"do MMM, hh:mm a")}};function ae(e){var t=e.submission,n=e.dueDate;return(0,r.BX)("div",{className:"jsx-5ae79eda8485444a submission-info",children:[t.timeSubmitted?(0,r.BX)(r.HY,{children:[(0,r.tZ)("div",{className:"jsx-5ae79eda8485444a submitted-header",children:(0,r.BX)(k.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(h.Z,{}),(0,r.tZ)("span",{className:"jsx-5ae79eda8485444a submitted-text",children:"Submitted"}),n&&n<t.timeSubmitted&&(0,r.tZ)(X,{})]})}),(0,r.tZ)("div",{className:"jsx-5ae79eda8485444a submitted-time",children:(0,r.BX)(k.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(g.Z,{}),(0,r.tZ)("span",{className:"jsx-5ae79eda8485444a",children:re(new Date(t.timeSubmitted)).long})]})})]}):(0,r.BX)(r.HY,{children:[(0,r.tZ)("div",{className:"jsx-5ae79eda8485444a submitted-header",children:(0,r.BX)(k.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(v.Z,{}),(0,r.tZ)("span",{className:"jsx-5ae79eda8485444a submitted-text",children:"Not submitted"})]})}),(0,r.tZ)("div",{className:"jsx-5ae79eda8485444a submitted-time",children:(0,r.BX)(k.Ug,{spacing:1,align:"center",children:[(0,r.tZ)(p.Z,{}),(0,r.BX)("span",{className:"jsx-5ae79eda8485444a",children:["Forked"," ",re(new Date(t.repl.timeCreated)).short]})]})})]}),(0,r.tZ)(i(),{id:"5ae79eda8485444a",children:".submission-info.jsx-5ae79eda8485444a{padding:var(--space-8);background-color:var(--background-root);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8)}.submitted-header.jsx-5ae79eda8485444a{color:var(--foreground-default);font-weight:var(--font-weight-medium);white-space:nowrap}.submitted-header.jsx-5ae79eda8485444a svg{width:2em;height:2em;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.submitted-time.jsx-5ae79eda8485444a{color:var(--foreground-dimmer);padding:var(--space-8)var(--space-16);white-space:nowrap;font-size:var(--font-size-default)}.submitted-time.jsx-5ae79eda8485444a svg{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}"})]})}function ie(e){var t=e.repl,n=e.submission,a=e.onFeedbackCTA,o=void 0===a?function(){}:a,l=(0,f.H)(),c=(0,C.Z)().showError,u=ne((0,s.SyV)({onError:function(e){return c(e.message)},onCompleted:function(e){"UserError"===e.reviewRepl.__typename&&c(e.reviewRepl.message)}}),2),d=u[0],p=u[1].loading,h=ne((0,s.F_9)(),1)[0],b=Boolean(n.timeLastReviewed);return(0,r.BX)(j.Z,{css:[Z.l0.p(8),Z.l0.borderRadius(8)],children:[(0,r.BX)("div",{className:"jsx-badd306accf589e0 feedback-header",children:[(0,r.tZ)(S.Z,{}),(0,r.tZ)("span",{className:"jsx-badd306accf589e0",children:"Feedback"})]}),(0,r.BX)("div",{className:"jsx-badd306accf589e0 mark-reviewed",children:[(0,r.tZ)(w.Z,{id:l("reviewed-status"),disabled:p,checked:b,onChange:function(){return e=!b,void d({variables:{replId:t.id,status:e},optimisticResponse:{reviewRepl:te({},t,{submission:te({},n,{timeLastReviewed:e?(new Date).toJSON():null})})}});var e}}),(0,r.tZ)("label",{htmlFor:l("reviewed-status"),className:"jsx-badd306accf589e0",children:b?"Reviewed":"Mark as reviewed"})]}),(0,r.BX)("div",{className:"jsx-badd306accf589e0 feedback-info",children:[(0,r.tZ)(x.Z,{}),(0,r.tZ)("div",{onClick:o,className:"jsx-badd306accf589e0",children:"Code feedback"})]}),n.timeSubmitted&&(0,r.tZ)("div",{className:"jsx-badd306accf589e0 unsubmit",children:(0,r.tZ)(m.Z,{onClick:function(){h({variables:{replId:t.id},optimisticResponse:{unsubmitRepl:te({},t,{submission:te({},n,{timeLastReviewed:null})})}})},fullWidth:!0,children:"Unsubmit"})}),(0,r.tZ)(i(),{id:"badd306accf589e0",children:".feedback-header.jsx-badd306accf589e0{display:grid;grid-auto-flow:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;grid-gap:var(--space-8);color:var(--foreground-default);font-weight:var(--font-weight-medium);white-space:nowrap}.feedback-header.jsx-badd306accf589e0 svg{width:1.4em;height:1.4em;padding:.3em;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.mark-reviewed.jsx-badd306accf589e0,.feedback-info.jsx-badd306accf589e0,.unsubmit.jsx-badd306accf589e0{display:grid;grid-auto-flow:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;grid-gap:var(--space-8);padding:var(--space-8)var(--space-16);font-size:var(--font-size-default);cursor:pointer;color:var(--foreground-dimmer)}.feedback-info.jsx-badd306accf589e0 svg{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}"})]})}function oe(e){var t=e.replUrl;return(0,r.tZ)(d(),{href:"".concat(t,"/history"),children:(0,r.BX)("a",{target:"_blank",className:"jsx-d3efcaed296b8808",children:[(0,r.tZ)(m.Z,{Icon:b.HistoryIcon,fullWidth:!1,className:"history-button",children:"See Repl History"}),(0,r.tZ)(i(),{id:"d3efcaed296b8808",children:"a.jsx-d3efcaed296b8808{text-decoration:none}.history-button svg{width:1em}"})]})})}function le(e){var t,n,a,l=e.data,c=ne(o.useState(!1),2),s=c[0],u=c[1];if(!l||"Repl"!==l.repl.__typename||"Team"!==(null===(t=l.repl.owner)||void 0===t?void 0:t.__typename)||"ReplSubmission"!==(null===(n=l.repl.submission)||void 0===n?void 0:n.__typename)||"ReplTemplate"!==(null===(a=l.repl.template)||void 0===a?void 0:a.__typename))return null;var f=l.repl.submission,p=l.repl.template.submissions;return(0,r.BX)("div",{className:"jsx-a8b6b0d83e1c54ba education-pane-container",children:[(0,r.BX)("div",{className:"jsx-a8b6b0d83e1c54ba contents",children:[(0,r.tZ)("div",{className:"jsx-a8b6b0d83e1c54ba template-selector-container",children:(0,r.tZ)(J,{team:l.repl.owner,template:l.repl.template,submission:f,submissionList:p})}),(0,r.tZ)(ae,{submission:f,dueDate:l.repl.template.dueDate}),(0,r.tZ)(ie,{repl:l.repl,submission:f,onFeedbackCTA:function(){return u(!0)}}),(0,r.tZ)("div",{className:"jsx-a8b6b0d83e1c54ba buffer"})]}),(0,r.BX)("div",{className:"jsx-a8b6b0d83e1c54ba bottom-dock",children:["Repl"===l.repl.__typename&&(0,r.tZ)(oe,{replUrl:l.repl.url}),(0,r.tZ)("div",{className:"jsx-a8b6b0d83e1c54ba",children:(0,r.tZ)(d(),{href:"/team/".concat(l.repl.owner.username,"/templates/").concat(l.repl.template.repl.slug),children:(0,r.tZ)(m.Z,{Icon:y.Z,children:"Return to submissions"})})})]}),(0,r.tZ)(T.Z,{isOpen:s,onRequestClose:function(){return u(!1)}}),(0,r.tZ)(i(),{id:"a8b6b0d83e1c54ba",children:".education-pane-container.jsx-a8b6b0d83e1c54ba{padding:var(--space-8);max-width:400px;width:inherit;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden}.contents.jsx-a8b6b0d83e1c54ba{display:grid;grid-gap:var(--space-16)}.bottom-dock.jsx-a8b6b0d83e1c54ba{display:grid;grid-gap:var(--space-8);margin-top:auto}.template-selector-container.jsx-a8b6b0d83e1c54ba{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]})}var ce,se=n(34051),ue=n.n(se),de=n(77847),fe=n(58458),pe=n(7177),me=n(47421),he=n(78120),be=n(38098),ve=function(e){var t=e.fileName,n=e.docRef,a=e.initialContents,l=(0,be.Z)({filePath:t,fontSize:14,indentSize:4,indentIsSpaces:!0}),c=l.view,s=l.ref;return o.useEffect((function(){if(c){var e=me.tk.updateListener.of((function(e){n.current=e.state.doc}));c.dispatch({effects:he.Py.appendConfig.of(e)}),c.focus()}}),[c,n]),o.useEffect((function(){c&&(c.state.doc.length||c.dispatch({changes:{from:0,insert:a}}))}),[c,a]),(0,r.BX)("div",{className:"jsx-d59ba8968f57599c editable-area",children:[(0,r.tZ)("div",{className:"jsx-d59ba8968f57599c editor-wrapper",children:(0,r.tZ)("div",{className:"jsx-d59ba8968f57599c editor",children:(0,r.tZ)("div",{ref:s,className:"jsx-d59ba8968f57599c"})})}),(0,r.tZ)(i(),{id:"d59ba8968f57599c",children:".editable-area.jsx-d59ba8968f57599c{width:100%;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;border:1px solid var(--background-higher);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8)0}.editor-wrapper.jsx-d59ba8968f57599c{height:450px;padding-bottom:var(--space-8);-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;position:relative}.editor.jsx-d59ba8968f57599c{overflow:auto;position:absolute;width:100%;height:100%}.loader.jsx-d59ba8968f57599c{height:100%;width:100%;z-index:5}"})]})},ge=function(e){var t=e.title,n=e.fileName,a=e.initialContents,c=e.isOpen,s=e.onSave,u=e.onCancel,d=o.useRef(null);return(0,r.BX)(pe.Z,{maxWidth:872,isOpen:c,onRequestClose:function(){},preventClose:!0,children:[(0,r.tZ)("div",{className:"jsx-c68269737c22d0ec editor-modal",children:(0,r.BX)(k.gC,{align:"stretch",spacing:2,children:[(0,r.BX)(l.Z,{level:3,children:["Edit ",t.toLowerCase()]}),(0,r.tZ)(ve,{docRef:d,fileName:n,initialContents:a}),(0,r.tZ)(k.Ug,{justify:"end",align:"end",children:(0,r.BX)(k.Ug,{justify:"end",align:"end",spacing:1,children:[(0,r.tZ)(m.Z,{onClick:function(){return u()},children:"Cancel"}),(0,r.tZ)(m.Z,{color:"primary",onClick:function(){var e;return d.current&&s(null===(e=d.current)||void 0===e?void 0:e.toString())},children:"Save"})]})})]})}),(0,r.tZ)(i(),{id:"c68269737c22d0ec",children:".editor-modal.jsx-c68269737c22d0ec{padding:var(--space-16)}"})]})};function ye(e){var t="For example, here is a code block in ".concat(e);switch(e){case"python3":return"".concat(t,'\n```python\ndef hello_world():\n  print("hello world!")\n```\n');case"java10":return"".concat(t,'\n```java\npublic class Main {\n  public static void main(String[] args) {\n    System.out.println("hello world");\n  }\n}\n```\n');case"html":return"".concat(t,"\n```python\n<html>\n<body>\n  <h1>hello world</h1>\n</body>\n</html>\n``")}return""}!function(e){e.LessonPlan="lessonplan.md",e.Instructions="instructions.md"}(ce||(ce={}));var xe=n(85133),we=n(28593),ke=n(29698),Ze=n(15853),je=n(78135),Se=n(32646),Ce=n(25108);function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Ne(i,r,a,o,l,"next",e)}function l(e){Ne(i,r,a,o,l,"throw",e)}o(void 0)}))}}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e){var t=e.attachments;return(0,r.tZ)("div",{className:"manage-attachments",children:(0,r.BX)(k.gC,{spacing:2,children:[(0,r.tZ)(ze,{attachment:t.find((function(e){return e.fileName===ce.LessonPlan})),fileName:ce.LessonPlan,label:"Lesson plan",helpText:"Upload teacher facing materials"}),(0,r.tZ)(ze,{attachment:t.find((function(e){return e.fileName===ce.Instructions})),fileName:ce.Instructions,label:"Instructions",helpText:"Upload student facing materials"})]})})}function ze(e){var t,n=e.attachment,a=e.fileName,i=e.label,l=e.helpText,c=(0,xe.Z)(),u=(0,C.Z)(),d=u.showConfirm,f=u.showError,p=(0,je.I0)(),m=(0,Se.Z)(),h=Ie((0,s.RG9)({onCompleted:function(){return d("Updated "+a)},onError:function(e){Ce.log(e),f("Error")}}),2),b=h[0],v=h[1],g=o.useCallback(function(){var e=Ae(ue().mark((function e(t){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c&&(b({variables:{input:{replId:c.id,fileName:a,contents:t,lastModified:(new Date).toISOString()}}}),a===ce.Instructions&&p({type:"INSTRUCTIONS_UPLOADED",wid:m,contents:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c,a,b,m,p]);return c&&(t=a===ce.LessonPlan?function(e){var t=e.language;return"# Lesson plan\n  \n  ** this file should contain teacher lesson plan details ** \n\n  __ students will never see this __\n\n  ## Learning Objectives\n  1. \n  2. \n  3. \n\n  Use [Markdown](https://gist.github.com/cuonggt/9b7d08a597b167299f0d) to format your lesson plan.\n\n  ".concat(ye(t),"\n  ")}({language:c.language}):function(e){var t=e.language;return"# Instructions  \n\n  ** this file should contain student lesson instructions **\n\n  _ students will see these instructions in a read-only workspace tab _\n\n  ## Steps\n  1. \n  2. \n  3. \n\n  Use [Markdown](https://gist.github.com/cuonggt/9b7d08a597b167299f0d) to format your instructions.\n\n  ".concat(ye(t),"\n  ")}({language:c.language})),(0,r.tZ)(Ee,{loading:!c||v.loading,fileName:a,contents:null===n||void 0===n?void 0:n.contents,defaultContents:t,label:i,helpText:l,attachmentLastUploadedAgo:n?(0,Ze.Sy)(new Date(n.timeUpdated)):void 0,onUploadFile:g})}function Ee(e){var t=e.loading,n=e.fileName,a=e.contents,l=e.defaultContents,c=e.label,s=e.helpText,u=e.attachmentLastUploadedAgo,d=e.onUploadFile,f=Ie(o.useState(!1),2),p=f[0],h=f[1];return(0,r.BX)("div",{className:"jsx-5b5c01bd3abb3f44 attachment",children:[(0,r.tZ)(ge,{title:c,fileName:n,isOpen:p,initialContents:a||l,onCancel:function(){return h(!1)},onSave:function(e){h(!1),d(e)}}),(0,r.BX)(k.Ug,{justify:"space-between",align:"center",wrap:"nowrap",children:[(0,r.BX)(k.gC,{spacing:1,children:[(0,r.BX)(k.Ug,{align:"center",spacing:1,wrap:"nowrap",children:[(0,r.tZ)(fe.Z,{fontWeight:"medium",children:c}),(0,r.tZ)(de.Z,{label:s})]}),u&&(0,r.BX)(fe.Z,{size:"xsmall",children:["Uploaded ",u]})]}),t?(0,r.tZ)(we.Z,{style:{width:"16px",height:"16px"}}):(0,r.tZ)(m.Z,{border:!1,filled:!1,Icon:ke.Z,onClick:Ae(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(!0);case 1:case"end":return e.stop()}}),e)})))})]}),(0,r.tZ)(i(),{id:"5b5c01bd3abb3f44",children:".attachment.jsx-5b5c01bd3abb3f44{padding:var(--space-8);background-color:var(--background-root);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"})]})}function Be(e){var t,n,a=e.data;return!a||"Repl"!==a.repl.__typename||"Team"!==(null===(t=a.repl.owner)||void 0===t?void 0:t.__typename)||"ReplTemplate"!==(null===(n=a.repl.template)||void 0===n?void 0:n.__typename)||a.repl.submission?null:(0,r.BX)("div",{className:"jsx-ea2ca64296d8f56a project-view-container",children:[(0,r.tZ)("div",{className:"jsx-ea2ca64296d8f56a project-view-contents",children:(0,r.tZ)(Oe,{attachments:a.repl.attachments})}),(0,r.tZ)("div",{className:"jsx-ea2ca64296d8f56a bottom-dock",children:(0,r.tZ)(fe.Z,{size:"small",children:(0,r.tZ)("a",{href:"/curriculum",target:"_blank",className:"jsx-ea2ca64296d8f56a",children:"Find more curriculum on Curriculum Hub"})})}),(0,r.tZ)(i(),{id:"ea2ca64296d8f56a",children:".project-view-container.jsx-ea2ca64296d8f56a{padding-top:var(--space-32);max-width:400px;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.bottom-dock.jsx-ea2ca64296d8f56a{display:grid;grid-gap:var(--space-8);margin-top:auto}"})]})}var _e=n(25108);function Re(e){var t,n,a,o,u,d,f,p=e.style,m=(0,c.Z)(),h=(0,s.SAU)({variables:{replId:m}}),b=h.data,v=h.loading,g=h.error;return v&&(d=(0,r.tZ)("div",{children:"Loading..."})),g&&(_e.error(g),d=(0,r.tZ)("div",{children:"Something went wrong"})),b&&"Repl"===b.repl.__typename&&"Team"===(null===(t=b.repl.owner)||void 0===t?void 0:t.__typename)&&"ReplTemplate"===(null===(n=b.repl.template)||void 0===n?void 0:n.__typename)&&"ReplSubmission"===(null===(a=b.repl.submission)||void 0===a?void 0:a.__typename)&&(d=(0,r.tZ)(le,{data:b}),f="Submissions"),b&&"Repl"===b.repl.__typename&&"Team"===(null===(o=b.repl.owner)||void 0===o?void 0:o.__typename)&&"ReplTemplate"===(null===(u=b.repl.template)||void 0===u?void 0:u.__typename)&&!b.repl.submission&&(d=(0,r.tZ)(Be,{data:b}),f="Curriculum"),(0,r.BX)("div",{style:p,className:"jsx-a46a7aae0e88f5b6 education-pane",children:[(0,r.tZ)("div",{className:"jsx-a46a7aae0e88f5b6 education-pane-header",children:(0,r.tZ)(l.Z,{level:4,children:f})}),d,(0,r.tZ)(i(),{id:"a46a7aae0e88f5b6",children:".education-pane.jsx-a46a7aae0e88f5b6{background-color:var(--background-default);color:var(--foreground-dimmer);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--space-8)}.education-pane-header.jsx-a46a7aae0e88f5b6{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;position:relative;color:var(--foreground-default);width:100%;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap}"})]})}},58032:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(35944),a=n(79547),i=n.n(a),o=(n(67294),n(8996)),l=n(40425),c=n(58458),s=n(54929),u=n(3204),d=n(44262),f=n(73345),p={styles:(0,r.tZ)(i(),{id:"223f8ac8383e5040",children:"*.jsx-223f8ac8383e5040{max-width:100%}"}),className:"jsx-223f8ac8383e5040"};function m(e){var t=e.children;return(0,r.BX)("div",{className:"jsx-f9a53312d33ef027 enveditor",children:[(0,r.BX)(o.gC,{spacing:2,align:"stretch",justify:"center",className:p.className,children:[(0,r.BX)(o.gC,{spacing:1,align:"stretch",justify:"center",className:p.className,children:[(0,r.BX)(s.Z,{css:[u.l0.flex.row,u.l0.justify.spaceBetween,u.l0.flex.wrap],children:[(0,r.tZ)(l.Z,{truncate:!0,level:4,children:"Secrets"}),(0,r.tZ)(f.Co,{iconLeft:(0,r.tZ)(d.Z,{}),href:"https://docs.replit.com/programming-ide/storing-sensitive-information-environment-variables",small:!0,text:"Docs",target:"_blank"})]}),(0,r.tZ)(c.Z,{size:"small",foreground:"2",children:"System environment variables."})]}),t]}),p.styles,(0,r.tZ)(i(),{id:"f9a53312d33ef027",children:".enveditor.jsx-f9a53312d33ef027{height:100%;width:100%;-webkit-border-top-right-radius:var(--border-radius-4);-moz-border-radius-topright:var(--border-radius-4);border-top-right-radius:var(--border-radius-4);background-color:var(--background-default);padding:var(--space-8);overflow:auto}"})]})}},22150:function(e,t,n){var r=n(35944),a=n(79547),i=n.n(a),o=n(67294),l=n(88534),c=n(75064),s=n(44054),u=n(98184),d=n(30617),f=n(92876),p=n(57923),m=n(5560),h=n(25108);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=".lesson/".concat("instructions.md"),y=function(e){var t=e.contents,n=(0,d.Z)().fs,a=(0,c.Z)(n,g);return(0,r.BX)("div",{className:i().dynamic([["21a55501dce7f81b",[s.j.tabletMin]]])+" root",children:[(0,r.tZ)("div",{className:i().dynamic([["21a55501dce7f81b",[s.j.tabletMin]]])+" content",children:(0,r.tZ)(l.ZP,{components:{img:a},sourcePos:!0,children:t})}),(0,r.tZ)(i(),{id:"21a55501dce7f81b",dynamic:[s.j.tabletMin],children:".root.__jsx-style-dynamic-selector{height:100%;width:100%;overflow:auto;background:var(--background-default);z-index:2;position:relative}.content.__jsx-style-dynamic-selector{max-width:840px;margin:0 auto;padding:var(--space-32)var(--space-16)}@media only screen and (min-width:".concat(s.j.tabletMin,"px){.content.__jsx-style-dynamic-selector{padding:var(--space-48)var(--space-32)}}")})]})};t.Z=function(){var e=(0,m.Z)(),t=(0,d.Z)().fs,n=(0,p.Z)(),a=v(o.useState(null),2),i=a[0],l=a[1];return o.useEffect((function(){t.readFile(g).then((function(e){if(n.current)return e.error?(h.error(e.error),void f.$e((function(t){t.setTag("instructions-viewer",!0),f.Tb("Error loading instructions viewier: ".concat(e.error))}))):void l(e.content.toString())}))}),[t,n,e]),i?(0,r.tZ)(y,{contents:i}):(0,r.tZ)(u.Z,{preventHighlightBorder:!0})}},95249:function(e,t,n){n.d(t,{Z:function(){return Ge}});var r=n(35944),a=n(67294),i=n(8996),o=n(34860),l=n(76529),c=n(51281),s=n(88534),u=n(23139),d=n(30617),f=n(50553),p=n(29698),m=n(79547),h=n.n(m),b=n(40425);var v=function(e){var t=e.title,n=e.sub,a=void 0!==n&&n,o=e.actions,l=void 0===o?[]:o;return(0,r.BX)(i.Ug,{justify:"space-between",align:"center",children:[(0,r.tZ)(h(),{id:"fd8117a15303f4ca",children:".header-action.jsx-fd8117a15303f4ca{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:var(--space-24);height:var(--space-24);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);color:var(--foreground-dimmer)}.header-action.jsx-fd8117a15303f4ca:hover{background:var(--background-higher);cursor:pointer}"}),(0,r.tZ)(b.Z,{level:a?5:4,children:t}),(0,r.tZ)(i.Ug,{spacing:"4px",align:"center",children:l&&l.map((function(e,t){return(0,r.tZ)("div",{onClick:e.action,className:"jsx-fd8117a15303f4ca header-action",children:e.icon},t)}))})]})},g=n(94184),y=n.n(g);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}var j=function(e){var t=e.fileDrag,n=e.children,i=w(a.useState(!1),2),o=i[0],l=i[1],c=a.useRef(0);return(0,r.BX)("div",{onDragEnter:function(e){if(t){e.preventDefault(),e.stopPropagation();var n=!0;if(e.dataTransfer.items&&e.dataTransfer.items.length>0){if(t.accept)for(var r=e.dataTransfer.items,a=0;a<r.length;a++){var i=r[a];t.accept.includes(i.type)||(n=!1)}n&&(l(!0),c.current++)}}},onDragLeave:function(e){t&&(e.preventDefault(),e.stopPropagation(),c.current--,0===c.current&&l(!1))},onDrop:function(e){t&&(e.preventDefault(),e.stopPropagation(),c.current=0,l(!1),k(e.dataTransfer.files).filter((function(e){return t.accept.includes(e.type)})).forEach(t.onDrop))},className:"jsx-68ea6c6d36b196a3 section",children:[(0,r.tZ)(h(),{id:"68ea6c6d36b196a3",children:".section.jsx-68ea6c6d36b196a3{position:relative;width:100%}.dragfilter.jsx-68ea6c6d36b196a3{position:absolute;width:100%;height:100%;top:0;left:0;background:var(--accent-primary-default);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);opacity:.2}.dragfilter.hidden.jsx-68ea6c6d36b196a3{display:none!important}"}),n,(0,r.tZ)("div",{className:"jsx-68ea6c6d36b196a3 "+(y()("dragfilter",{hidden:!o})||"")})]})};function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var T,N=function(){var e=(0,d.Z)().session,t=C(a.useState(!1),2),n=t[0],o=t[1];return(0,r.BX)(j,{children:[(0,r.tZ)(v,{title:"Kaboom",actions:[{icon:(0,r.tZ)(f.Z,{rotate:n?0:-90}),action:function(){return o(!n)}}]}),n&&(0,r.BX)(i.gC,{spacing:1,children:[(0,r.tZ)("div",{}),(0,r.tZ)(c.Z,{Icon:p.Z,size:"small",onClick:function(){return e.openFile("template.html")},children:"Edit HTML Template"})]})]})},A=n(94590),I=n(11542),O=n(57541),z=n(49638),E=n(36377),B=n(13475),_=n(93770),R=n(67289),P=n(38880),G=n(93577),X=n(46846),U=n(7177),D=n(67952);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e){return function(t){for(var n in e)t.key===n&&e[n](t)}}function W(e,t){T||(T=document.createElement("input")).setAttribute("type","file"),T.setAttribute("accept",t.join(","));var n=function(){T.files&&(F(T.files).forEach(e),T.removeEventListener("change",n))};T.addEventListener("change",n),T.click()}var H=n(30478);function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var q=function(e){var t=e.isActive,n=e.name,o=e.icon,l=e.options,c=e.onClick,s=e.onRename,u=$(a.useState(!1),2),d=u[0],f=u[1],p=$(a.useState(null),2),m=p[0],b=p[1],v=(0,B.Z)((function(){f(!1)}),[]),g=(0,B.Z)((function(){b(null)}),[]);return a.useEffect((function(){g.current&&null!==m&&g.current.focus()}),[g,m]),(0,r.BX)("div",{onClick:c,className:"jsx-103c0085cc983ea1 "+(y()("entry",{active:t&&null===m})||""),children:[(0,r.BX)(i.Ug,{spacing:1,align:"center",children:[o,null===m?(0,r.tZ)("p",{className:"jsx-103c0085cc983ea1",children:n}):(0,r.tZ)(O.ZP,{ref:g,value:m,onChange:function(e){b(e.currentTarget.value)},onKeyDown:M({Escape:function(){b(null)},Enter:function(){s&&m&&s(m),b(null)}})})]}),l&&l.length>0&&(0,r.tZ)("div",{onClick:function(e){e.stopPropagation(),f(!d)},className:"jsx-103c0085cc983ea1 "+(y()("options-icon",{active:t})||""),children:(0,r.tZ)(H.MoreVertical,{})}),l&&l.length>0&&d&&(0,r.tZ)("div",{ref:v,onKeyDown:M({Escape:function(){f(!1)}}),className:"jsx-103c0085cc983ea1 options-box",children:l.map((function(e){return e?(0,r.tZ)("div",{onClick:function(t){t.stopPropagation(),f(!1),e.action(),"Rename"===e.name&&b(n)},className:"jsx-103c0085cc983ea1 "+(y()("option",{danger:e.danger})||""),children:e.name},e.name):null}))}),(0,r.tZ)(h(),{id:"103c0085cc983ea1",children:".entry.jsx-103c0085cc983ea1{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-8);color:var(--foreground-dimmer);position:relative}.entry.active.jsx-103c0085cc983ea1{background:var(--accent-primary-default)!important;color:var(--white)!important;font-weight:var(--font-weight-medium)!important}.entry.jsx-103c0085cc983ea1:hover{color:var(--foreground-default);background:var(--background-higher);cursor:pointer}.options-icon.jsx-103c0085cc983ea1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:var(--space-16);height:var(--space-16);opacity:0;color:var(--foreground-dimmest)}.options-icon.jsx-103c0085cc983ea1:hover{color:var(--foreground-dimmest)}.options-icon.active.jsx-103c0085cc983ea1{opacity:1!important;color:var(--white)!important}.entry.jsx-103c0085cc983ea1:hover .options-icon.jsx-103c0085cc983ea1{opacity:1}.options-box.jsx-103c0085cc983ea1{position:absolute;top:var(--space-32);right:var(--space-16);padding:var(--space-4);background:var(--background-default);border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);font-size:var(--font-size-subhead-default);font-weight:var(--font-weight-regular)!important;z-index:500}.option.jsx-103c0085cc983ea1{padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);color:var(--foreground-default)}.option.danger.jsx-103c0085cc983ea1{color:var(--accent-negative-default)}.option.jsx-103c0085cc983ea1:hover{background:var(--background-higher)}.option.danger.jsx-103c0085cc983ea1:hover{background:var(--accent-negative-default);color:var(--white)}"})]})},Y=n(58375);function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e){var t=e.close,n=e.entries,i=(0,d.Z)(),o=i.fs,l=i.session,c=(0,B.Z)(t,[]),s=(0,P.Z)().showError,u=K((0,z.Z)({name:""}),3),f=u[0],p=u[2];return a.useEffect((function(){c.current&&c.current.focus()}),[c]),(0,r.tZ)(O.ZP,{ref:c,name:"name",onChange:p,onKeyDown:M({Escape:t,Enter:function(){var e="".concat(f.name,".js"),r="code/".concat(e);n.includes(e)?s("file '".concat(f.name,"' already exists")):(o.writeFile(r,_.Z.from("")).then((function(){l.openFile(r)})),t())}})})}var ee=function(e){var t=e.onFileOpen,n=(0,d.Z)().fs,i=(0,G.Z)(),o=K(a.useState(!1),2),l=o[0],c=o[1],s=(0,P.Z)().showError,u=K(a.useState(null),2),f=u[0],p=u[1],m=((0,E.Z)({path:"code",initialExpanded:!0,fs:n}).children||[]).filter((function(e){return e.type===X.Tv.File})).map((function(e){return e.filename})).sort();return(0,r.BX)(j,{fileDrag:{accept:["text/javascript"],onDrop:function(e){var t="code/".concat(e.name);m.includes(t)?s("scene '".concat((0,R.eb)(e.name),"' already exists")):e.text().then((function(e){n.writeFile(t,_.Z.from(e))}))}},children:[(0,r.tZ)(v,{sub:!0,title:"Code",actions:[{icon:(0,r.tZ)(A.Z,{}),action:function(){return c(!0)}}]}),(0,r.tZ)(I.Z,{height:"4px"}),(0,r.tZ)("div",{children:m.map((function(e){var a="code/".concat(e),o=(0,R.eb)(e),l=[{name:"Rename",action:function(){}}];return"main"!==o&&l.push({name:"Delete",action:function(){return p(a)},danger:!0}),(0,r.tZ)(q,{isActive:a===i,onClick:function(){return t(a)},onRename:function(e){n.moveFile(a,"code/".concat(e,".js")).then((function(e){e.error&&s("failed to rename")}))},name:o,options:l},o)}))}),l&&(0,r.tZ)(Q,{entries:m,close:function(){return c(!1)}}),f&&(0,r.tZ)(U.Z,{isOpen:Boolean(f),onRequestClose:function(){return p(null)},children:(0,r.tZ)(D.Z,{danger:!0,prompt:"Delete scene '".concat((0,R.eb)(f),"' ?"),desc:"Are you sure you want to delete this scene? This action cannot be undone.",onCancel:function(){return p(null)},confirmText:"Yes, delete this scene",icon:(0,r.tZ)(Y.Z,{}),onConfirm:function(){n.deleteFile(f),p(null)}})})]})},te=n(34051),ne=n.n(te),re=n(90860),ae=n(52620),ie=n(60818),oe=n(54098),le=n.n(oe),ce=n(58458);function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var de=function(e){var t=e.kind,n=e.renderItem,o=e.onRequestClose,l=e.onAdd,s=function(e){var n="".concat(k,"/").concat(e);le()(n).then((function(e){return e.arrayBuffer()})).then((function(r){var a="".concat(t,"/").concat(e);f.writeFile(a,_.Z.from(r)).then((function(t){if(t.error)throw new Error(t.error);p.openFile(a),l&&l(e,n)})),o()})).catch((function(){return Z("Failed to fetch ".concat(e))}))},u=(0,d.Z)(),f=u.fs,p=u.session,m=ue(a.useState([]),2),v=m[0],g=m[1],y=ue(a.useState(""),2),x=y[0],w=y[1],k="https://kaboomjs.com/".concat(t),Z=(0,P.Z)().showError;return a.useEffect((function(){le()("https://kaboomjs.com/api/assets/".concat(t)).then((function(e){return e.json()})).then((function(e){return g(e)})).catch((function(){return Z("Failed to fetch assets lib listing")}))}),[g,Z,k]),(0,r.BX)("div",{className:"jsx-d616aed56d26af98 assets",children:[(0,r.BX)(i.gC,{spacing:2,children:[(0,r.tZ)(b.Z,{level:3,children:"Assets Lib (beta)"}),0===v.length?(0,r.tZ)(ce.Z,{foreground:2,children:"Loading..."}):(0,r.BX)(r.HY,{children:[(0,r.tZ)(O.ZP,{large:!0,label:"Search",onChange:function(e){w(e.target.value)}}),(0,r.tZ)("div",{className:"jsx-d616aed56d26af98 box",children:v.filter((function(e){return!x||e.includes(x)})).map((function(e){return(0,r.tZ)(a.Fragment,{children:n({name:e,url:"".concat(k,"/").concat(e),add:function(){return s(e)}})},e)}))}),(0,r.tZ)(c.Z,{size:"small",onClick:function(){v.length>0&&s(v[Math.floor(Math.random()*v.length)])},children:"I\u2019m Feeling Lucky"})]})]}),(0,r.tZ)(h(),{id:"d616aed56d26af98",children:".assets.jsx-d616aed56d26af98{padding:var(--space-24)}.box.jsx-d616aed56d26af98{width:100%;height:320px;overflow-x:hidden;overflow-y:scroll}"})]})},fe=n(37424);function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,a)}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){he(e,t,n[t])}))}return e}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){if(e){if("string"===typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}function xe(e){var t=e.url,n=e.add;return(0,r.BX)(r.HY,{children:[(0,r.tZ)("img",{src:t,loading:"lazy",onClick:n,className:"jsx-4ad892a0258c4ced entry"}),(0,r.tZ)(h(),{id:"4ad892a0258c4ced",children:".entry.jsx-4ad892a0258c4ced{padding:var(--space-16);height:120px;-ms-interpolation-mode:nearest-neighbor;image-rendering:-webkit-optimize-contrast;image-rendering:-moz-crisp-edges;image-rendering:-o-pixelated;image-rendering:pixelated;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}.entry.jsx-4ad892a0258c4ced:hover{cursor:pointer;background:var(--background-root)}"})]})}function we(e){var t=e.close,n=e.entries,i=e.onFileOpen,o=(0,d.Z)().fs,l=(0,B.Z)(t,[]),c=a.useRef(null),s=(0,P.Z)().showError,f=ve(a.useState({name:"",width:32,height:32}),2),p=f[0],m=f[1];a.useEffect((function(){c.current&&c.current.focus()}),[c]);var h=function(){if(0!==p.name.length){var e=p.width,r=p.height;if(isNaN(e)||isNaN(r)||e<=0||r<=0)s("invalid width / height!");else if(e>256||r>256)s("only supports sprites smaller than 256x256 yet");else{var a="".concat(p.name,".pedit"),l="sprites/".concat(a);n.includes(a)?s("sprite '".concat(p.name,"' already exists")):(o.writeFile(l,_.Z.from(JSON.stringify({fromKaboom:!0,width:p.width,height:p.height}))).then((function(){i(l)})),t())}}else s("invalid 'name'")},b=(0,fe.H)();return(0,r.tZ)("div",{ref:l,className:"dialog",onKeyDown:M({Escape:t,Enter:h}),children:(0,r.tZ)(u.Tg,{elevated:!0,css:[u.l0.borderRadius(8),u.l0.p(8),u.l0.mt(8)],children:(0,r.BX)(u.G7,{css:[u.l0.colWithGap(16)],children:[(0,r.BX)(u.G7,{css:[u.l0.colWithGap(4)],children:[(0,r.tZ)("label",{htmlFor:b("name"),children:(0,r.tZ)(u.xv,{color:"dimmer",variant:"small",children:"Name"})}),(0,r.tZ)(u.II,{id:b("name"),ref:c,value:p.name,onChange:function(e){m(be({},p,{name:e.target.value}))}})]}),(0,r.BX)(u.G7,{css:[u.l0.rowWithGap(8)],children:[(0,r.BX)(u.G7,{css:[u.l0.colWithGap(4),{flex:"1 1 0px"}],children:[(0,r.tZ)("label",{htmlFor:b("width"),children:(0,r.tZ)(u.xv,{color:"dimmer",variant:"small",children:"Width"})}),(0,r.tZ)(u.II,{id:b("width"),value:"".concat(p.width),onChange:function(e){return m(be({},p,{width:parseInt(e.target.value,10)||0}))}})]}),(0,r.BX)(u.G7,{css:[u.l0.colWithGap(4),{flex:"1 1 0px"}],children:[(0,r.tZ)("label",{htmlFor:b("height"),children:(0,r.tZ)(u.xv,{color:"dimmer",variant:"small",children:"Height"})}),(0,r.tZ)(u.II,{id:b("height"),value:"".concat(p.height),onChange:function(e){return m(be({},p,{height:parseInt(e.target.value,10)||0}))}})]})]}),(0,r.BX)(u.G7,{css:[u.l0.rowWithGap(12),u.l0.justify.end],children:[(0,r.tZ)(u.zx,{onClick:t,text:"Cancel"}),(0,r.tZ)(u.zx,{colorway:"primary",onClick:h,text:"Create",iconLeft:(0,r.tZ)(A.Z,{})})]})]})})})}var ke=function(e){var t=e.onFileOpen,n=(0,d.Z)().fs,i=(0,P.Z)().showError,o=(0,G.Z)(),l=ve(a.useState(!1),2),c=l[0],s=l[1],f=ve(a.useState(!1),2),p=f[0],m=f[1],b=ve(a.useState(null),2),g=b[0],y=b[1],x=(0,ie.Z)(o),w=a.useCallback((function(e){var t=new Map,r=function(){var r,a=(r=ne().mark((function r(){var a,i,o,l,c,s,u,d;return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i="sprites/".concat(e),r.next=4,n.stat(i);case 4:if((o=r.sent).exists){r.next=8;break}return t.delete(e),r.abrupt("return");case 8:if(l=o.lastModified.getTime(),(null===(a=t.get(e))||void 0===a?void 0:a.lastMod)!==l){r.next=11;break}return r.abrupt("return");case 11:return r.next=13,n.readFile(i);case 13:if(!(c=r.sent).error){r.next=16;break}return r.abrupt("return");case 16:e.endsWith("pedit")?(s=c.content.toString(),(u=JSON.parse(s)).fromKaboom||t.set(e,{lastMod:l,img:u.frames[0]})):(d=(0,R.yC)(i))&&t.set(e,{lastMod:l,img:"data:".concat(d,";base64,").concat(c.content.toString("base64"))});case 17:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var i=r.apply(e,t);function o(e){me(i,n,a,o,l,"next",e)}function l(e){me(i,n,a,o,l,"throw",e)}o(void 0)}))});return function(){return a.apply(this,arguments)}}();r();var a=t.get(e);return a?a.img:null}),[n]),k=((0,E.Z)({path:"sprites",initialExpanded:!0,fs:n}).children||[]).filter((function(e){return e.type===X.Tv.File})).map((function(e){return e.filename})).sort(),Z=["image/png","image/jpeg",".pedit"],S=function(e){var t="sprites/".concat(e.name);if(k.includes(t))return i("sprite '".concat((0,R.eb)(e.name),"' already exists"));e.arrayBuffer().then((function(e){n.writeFile(t,_.Z.from(e))}))},C=[{icon:(0,r.tZ)(re.Z,{}),action:function(){return m(!0)}},{icon:(0,r.tZ)(ae.Z,{}),action:function(){return W(S,Z)}},{icon:(0,r.tZ)(A.Z,{}),action:function(){return s(!0)}}];return(0,r.BX)(j,{fileDrag:{accept:Z,onDrop:S},children:[(0,r.tZ)(v,{sub:!0,title:"Sprites",actions:C}),(0,r.tZ)(I.Z,{height:"4px"}),(0,r.tZ)("div",{className:"jsx-286709118fe5858",children:k.map((function(e){var a="sprites/".concat(e),l=(0,R.r6)(e),c=(0,R.eb)(e),s=w(e),u=x?[{name:"Insert load code",action:function(){var e="".concat("pedit"===l?"loadPedit":"loadSprite","(").concat(JSON.stringify(c),", ").concat(JSON.stringify(a),");");x({code:e})}}]:[];return(0,r.tZ)(q,{isActive:a===o,onClick:function(){return t(a)},onRename:function(e){n.moveFile(a,"sprites/".concat(e,".").concat(l)).then((function(e){e.error&&i("failed to rename")}))},icon:(0,r.tZ)("div",{className:"jsx-286709118fe5858 preview-img",children:s&&(0,r.tZ)("img",{src:s,className:"jsx-286709118fe5858"})}),name:c,options:ge(u).concat([{name:"Rename",action:function(){}},{name:"Delete",action:function(){return y(a)},danger:!0}])},c)}))}),c&&(0,r.tZ)(we,{entries:k,close:function(){return s(!1)},onFileOpen:t}),g&&(0,r.tZ)(u.u_,{isOpen:Boolean(g),onRequestClose:function(){return y(null)},children:(0,r.tZ)(D.Z,{danger:!0,prompt:"Delete sprite '".concat((0,R.eb)(g),"' ?"),desc:"Are you sure you want to delete this sprite? This action cannot be undone.",confirmText:"Yes, delete this sprite",icon:(0,r.tZ)(Y.Z,{}),onCancel:function(){return y(null)},onConfirm:function(){n.deleteFile(g),y(null)}})}),(0,r.tZ)(u.u_,{isOpen:p,onRequestClose:function(){return m(!1)},maxWidth:872,children:(0,r.tZ)(de,{kind:"sprites",renderItem:xe,onRequestClose:function(){return m(!1)}})}),(0,r.tZ)(h(),{id:"286709118fe5858",children:".preview-img.jsx-286709118fe5858{width:var(--space-32);height:var(--space-32);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;overflow:hidden}.preview-img.jsx-286709118fe5858 img.jsx-286709118fe5858{width:100%;-ms-interpolation-mode:nearest-neighbor;image-rendering:-webkit-optimize-contrast;image-rendering:-moz-crisp-edges;image-rendering:-o-pixelated;image-rendering:pixelated;image-rendering:-webkit-optimize-contrast;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges}"})]})};function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||Ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ce(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){if(e){if("string"===typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ze(e,t):void 0}}function Te(e){var t=e.name,n=e.url,a=e.add;return(0,r.BX)(i.Ug,{justify:"space-between",align:"center",children:[(0,r.BX)(i.gC,{spacing:1,children:[(0,r.tZ)(ce.Z,{children:t}),(0,r.tZ)("audio",{src:n,controls:!0})]}),(0,r.tZ)(c.Z,{onClick:a,children:"Import"})]})}var Ne=function(e){var t=e.onFileOpen,n=(0,d.Z)().fs,i=(0,G.Z)(),o=(0,P.Z)().showError,l=je(a.useState(null),2),c=l[0],s=l[1],u=je(a.useState(!1),2),f=u[0],p=u[1],m=(0,ie.Z)(i),h=((0,E.Z)({path:"sounds",initialExpanded:!0,fs:n}).children||[]).filter((function(e){return e.type===X.Tv.File})).map((function(e){return e.filename})).sort(),b=["audio/ogg","audio/mpeg","audio/wav"],g=function(e){var t="sounds/".concat(e.name);if(h.includes(t))return o("sound '".concat((0,R.eb)(e.name),"' already exists"));e.arrayBuffer().then((function(e){n.writeFile(t,_.Z.from(e))}))},y=[{icon:(0,r.tZ)(re.Z,{}),action:function(){return p(!0)}},{icon:(0,r.tZ)(ae.Z,{}),action:function(){return W(g,b)}}];return(0,r.BX)(j,{fileDrag:{accept:b,onDrop:g},children:[(0,r.tZ)(v,{sub:!0,title:"Sounds",actions:y}),(0,r.tZ)(I.Z,{height:"4px"}),(0,r.tZ)("div",{children:h.map((function(e){var a=(0,R.eb)(e),l="sounds/".concat(e),c=m?[{name:"Insert load code",action:function(){return m({code:"loadSound(".concat(JSON.stringify(a),", ").concat(JSON.stringify(l),");")})}}]:[];return(0,r.tZ)(q,{isActive:l===i,onClick:function(){return t(l)},onRename:function(t){n.moveFile(l,"sounds/".concat(t,".").concat((0,R.r6)(e))).then((function(e){e.error&&o("failed to rename")}))},name:a,options:Se(c).concat([{name:"Rename",action:function(){}},{name:"Delete",action:function(){return s(l)},danger:!0}])},a)}))}),c&&(0,r.tZ)(U.Z,{isOpen:Boolean(c),onRequestClose:function(){return s(null)},children:(0,r.tZ)(D.Z,{danger:!0,prompt:"Delete sound '".concat((0,R.eb)(c),"' ?"),desc:"Are you sure you want to delete this sound? This action cannot be undone.",confirmText:"Yes, delete this sound",icon:(0,r.tZ)(Y.Z,{}),onCancel:function(){return s(null)},onConfirm:function(){n.deleteFile(c),s(null)}})}),(0,r.tZ)(U.Z,{isOpen:f,onRequestClose:function(){return p(!1)},maxWidth:872,children:(0,r.tZ)(de,{kind:"sounds",renderItem:Te,onRequestClose:function(){return p(!1)},onAdd:function(e,t){return new window.Audio(t).play()}})})]})},Ae=n(44262),Ie=n(19826),Oe=n(92594);function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e){var t=e.file,n=e.name,a=(0,d.Z)().session,o=(0,Oe.Z)()===t;return(0,r.BX)("div",{onClick:function(){a.setPreviewedFile(null),a.setPreviewedFile(t)},className:"jsx-148e6ca45d3ccd5a entry",children:[(0,r.BX)(i.Ug,{spacing:1,align:"center",children:[o?(0,r.tZ)(Ae.Z,{}):(0,r.tZ)(Ie.Z,{}),(0,r.tZ)(ce.Z,{foreground:o?1:2,fontWeight:o?"medium":"regular",children:null!==n&&void 0!==n?n:(0,R.eb)(t)})]}),(0,r.tZ)(h(),{id:"148e6ca45d3ccd5a",children:".entry.jsx-148e6ca45d3ccd5a{cursor:pointer}"})]})}var _e=function(){var e=Ee(a.useState(!0),2),t=e[0],n=e[1],o=Ee(a.useState(!1),2),l=o[0],c=o[1],s=(0,d.Z)().fs,u=(0,E.Z)({path:"learn",initialExpanded:!0,fs:s});a.useEffect((function(){var e=!1;return s.stat("README.md").then((function(t){e||t.exists&&c(!0)})),function(){e=!0}}),[]);var p=(u.children||[]).filter((function(e){return e.type===X.Tv.File&&(0,R.gK)(e.filename)})).map((function(e){return e.filename})).sort();return(0,r.BX)(j,{children:[(0,r.tZ)(v,{sub:!0,title:"Learn",actions:[{icon:(0,r.tZ)(f.Z,{rotate:t?0:-90}),action:function(){return n(!t)}}]}),t&&(0,r.BX)(i.gC,{spacing:1,children:[(0,r.tZ)("div",{}),l&&(0,r.tZ)(Be,{name:"Intro",file:"README.md"}),p.map((function(e){return(0,r.tZ)(Be,{file:"learn/".concat(e)},e)}))]})]})};function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e){var t=e.onFileOpen,n=Pe(a.useState(!1),2),d=n[0],f=n[1];return(0,r.BX)(u.G7,{css:[u.l0.p(8),u.l0.flex.growAndShrink(1),u.l0.overflow("scroll"),{userSelect:"none"}],children:[(0,r.BX)(i.gC,{spacing:1,children:[(0,r.tZ)(N,{}),(0,r.tZ)(ee,{onFileOpen:t}),(0,r.tZ)(ke,{onFileOpen:t}),(0,r.tZ)(Ne,{onFileOpen:t}),(0,r.tZ)(_e,{}),(0,r.tZ)("div",{}),(0,r.tZ)(c.Z,{Icon:o.Z,size:"small",onClick:function(){return window.open("https://kaboomjs.com")},children:"Docs"}),(0,r.tZ)(c.Z,{Icon:o.Z,size:"small",onClick:function(){return window.open("https://kaboomjs.com/play")},children:"Examples"}),(0,r.tZ)(c.Z,{Icon:l.Z,size:"small",onClick:function(){return f(!0)},children:"What\u2019s new"})]}),(0,r.tZ)(u.u_,{isOpen:d,onRequestClose:function(){return f(!1)},maxWidth:872,children:(0,r.tZ)(u.G7,{css:[u.l0.colWithGap(16),u.l0.p(32)],children:(0,r.tZ)(s.ZP,{children:'\n# New Kaboom Workspace\n\n- **No weird delay when run after editing.** Just press Cmd + S to refresh webview and quickly iterate!\n- **Helpful error reporting.** No need to go into browser console every time. The kaboom console displays your errors nicely.\n- **Support NPM packages and typescript by default.** Kaboom dev server builds your code with esbuild on the fly.\n- **Replit DB and Auth integration.** Make a score board even multiplayer with DB and Auth!\n- **In editor tutorial.** The template comes with a nice intro tutorial which you can learn and code along.\n- **Autocomplete.** Updated kaboom lib comes with detailed jsdoc for every function. No need to pull your hair out to figure out how certain functions work!\n- **HTML template.** Easily customize the html for your game.\n- **Total control over which version of Kaboom you use.** it\'s managed by NPM.\n- **Assets Library** Grab some quick assets to test out a game idea.\n- **Transparent dev server.** The dev server scripts are just in the Repl, customize them or toss them out if you want to. Or turn it into a multiplayer game server!\n- **New library version** The template comes with kaboom2000 (beta), with bunch of [new stuff and improvements](https://github.com/replit/kaboom/blob/master/CHANGELOG.md)\n\n## Migration Guide\n\n- The kaboom template now will not generate the initializing and assets loading code (`kaboom()`, `loadSprite()` etc.) for you, allowing more customized setup, and making it more portable with using kaboom outside replit.\n\n```js\nimport kaboom from "kaboom";\n\n// initialize context\nkaboom();\n\n// load assets\nloadSprite("bean", "sprites/bean.png");\nloadSound("coin", "sounds/coin.mp3");\n\n// the rest is the same\nconst player = add([\n\tsprite("bean"),\n\tarea(),\n]);\n```\n\nFor easier assets loading, use the "Insert load code" option in the asset entry option menu.\n\n- The template by default is running `kaboom@next`, which is currently the beta version of kaboom2000. It contains breaking changes, all listed in [CHANGELOG.md](https://github.com/replit/kaboom/blob/master/CHANGELOG.md). If you don\'t feel like migrating now, you can always `npm install kaboom@5.1`\n'})})})]})}},67542:function(e,t,n){n.d(t,{Z:function(){return S}});var r=n(35944),a=n(67294),i=n(44054),o=n(23589),l=n(98184),c=n(92594),s=n(30617);n(90652);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.Z)().session,n=d(a.useState(t.getCursorPosition()),2),r=n[0],i=n[1];return a.useEffect((function(){if(!e)return i(t.getCursorPosition()),t.onCursorPositionChanged(i)}),[t,e]),r}var p=n(85252),m=n(32537),h=n(67289),b=n(24931),v=n(23139),g=n(46846),y=n(93577),x=n(11717);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=(0,m.Z)((function(e){e.scrollIntoView({behavior:"smooth",block:"center"})}),100),j=a.memo(b.Z);function S(){var e=(0,s.Z)().fs,t=(0,s.Z)().session,n=k(a.useState(!1),2),o=n[0],u=n[1],d=(0,x.VV)(),m=(0,y.Z)(),b=(0,c.Z)(),w=f(m!==b);a.useEffect((function(){d||m&&b&&b!==m&&"md"===(0,h.r6)(m)&&t.setPreviewedFile(m)}),[b,m,t,d]);var S=a.useRef(null),T=(0,p.Z)((function(){u(!0),S.current&&clearTimeout(S.current),S.current=setTimeout((function(){u(!1)}),150)}),{type:"throttle",wait:37.5});a.useLayoutEffect((function(){if(!o&&m===b){var e=document.querySelectorAll(".rendered-markdown [data-sourcepos]"),t=Array.from(e).reverse();if(t){var n=w.lineNumber,r=w.column,a=!0,i=!1,l=void 0;try{for(var c,s=t[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var u=c.value,d=u.dataset.sourcepos;if(!d)throw new Error("Expected data source pos on selected element");var f=k(d.split("-"),2),p=f[0],h=f[1],v=k(p.split(":").map(Number),2),g=v[0],y=v[1],x=k(h.split(":").map(Number),2),j=x[0],S=x[1];if(n>=g&&r>=y&&(n<j||n===j&&r<=S))return void Z(u)}}catch(C){i=!0,l=C}finally{try{a||null==s.return||s.return()}finally{if(i)throw l}}}}}),[w,o,m,b]);var N,A,I,O=k(a.useState(null),2),z=O[0],E=O[1];return a.useEffect((function(){if(E(null),b&&(0,h.Mb)(b))return e.watchOtFile(b,{onReady:function(e){var t=e.initialContent;E(t.toString())},onChange:function(e){var t=e.latestContent;E(t)},onMoveOrDelete:function(e){e.eventType===g.kS.Delete&&t.setPreviewedFile(null)}})}),[b,e,t]),b?null===z?(0,r.tZ)(l.Z,{preventHighlightBorder:!0}):(0,r.BX)(v.G7,{css:[v.l0.colWithGap(8),v.l0.height("100%"),v.l0.width("100%"),v.l0.overflow("auto"),v.l0.backgroundColor.backgroundDefault,v.l0.zIndex(2),v.l0.align.center,v.l0.py(16),v.l0.px(16),(N={margin:"0 auto"},A="@media only screen and (min-width: ".concat(i.j.tabletMin,"px)"),I=v.l0.px(32),A in N?Object.defineProperty(N,A,{value:I,enumerable:!0,configurable:!0,writable:!0}):N[A]=I,N)],tag:"div",innerRef:T,children:[(0,r.tZ)(v.G7,{css:[v.l0.rowWithGap(0),v.l0.height(30),v.l0.width("100%"),v.l0.justify.spaceBetween,v.l0.align.center,v.l0.backgroundColor.backgroundDefault],children:(0,r.tZ)(C,{})}),(0,r.tZ)(v.G7,{css:[v.l0.width("100%"),{"& .rendered-markdown":[v.l0.flex.column,v.l0.center],"& .rendered-markdown > *":[v.l0.maxWidth(840),v.l0.width("100%")],"& .rendered-markdown > table":v.l0.maxWidth("100%")}],children:(0,r.tZ)(j,{path:b,source:z,fs:e,sourcePos:!0})})]}):(0,r.tZ)(v.G7,{css:[v.l0.height("100%"),v.l0.width("100%"),v.l0.center],children:(0,r.tZ)(v.xv,{children:"No previewed file"})})}var C=function(){var e=(0,c.Z)();return(0,r.BX)(v.G7,{css:[v.l0.rowWithGap(2),v.l0.color.foregroundDimmer,v.l0.width("calc(100% - ".concat(v.TV.space16,")")),v.l0.align.center],children:[(0,r.tZ)(o.Z,{}),(0,r.BX)(v.xv,{css:v.l0.m(4),color:"dimmer",children:["Preview of ",(0,r.tZ)("a",{href:"#".concat(e),children:e})]})]})}},89731:function(e,t,n){n.d(t,{Z:function(){return S}});var r=n(34051),a=n.n(r),i=n(35944),o=n(79547),l=n.n(o),c=n(67294),s=n(34837),u=n.n(s),d=n(93770),f=n(85252),p=n(30617),m=n(89431),h=n(38880),b=n(7177),v=n(67952),g=n(51409),y=n(90039),x=n(19689);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,a)}function Z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){k(i,r,a,o,l,"next",e)}function l(e){k(i,r,a,o,l,"throw",e)}o(void 0)}))}}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){var t=e.style,n=e.activeFile,r=c.useRef(null),o=c.useRef(null),s=(0,p.Z)().fs,w=(0,h.Z)(),k=w.showError,S=w.showConfirm,C=(0,y.Z)(),T=j(c.useState(!1),2),N=T[0],A=T[1],I=(0,m.Z)("flag-pedit-multiplayer"),O=(0,f.Z)((function(){var e=r.current;if(!e)return null;e.width=e.offsetWidth,e.height=e.offsetHeight;var t=e.getContext("2d");t&&(t.imageSmoothingEnabled=!1)}),{type:"debounce",wait:100});return c.useEffect((function(){var e=function(){if(!c)throw new Error("Tried to export png but peditCtxRef was null");var e=window.prompt("Export as:");if(e){var t="".concat(e,".png"),n=c.curFrame().toPNG();s.writeFile(t,d.Z.from(n)).then((function(){S("Successfully exported to ".concat(t))}))}},t=!1;if(n&&r.current){var i=r.current,l=n,c=null,f=l.endsWith(".kbmsprite"),p=function(){};return I&&(p=s.watchFile(l,{onChange:function(e){var n=e.toString(),r=n&&JSON.parse(n);r&&c&&!t&&c.load(f?(0,g.C)(r):r)}})),function(){m.apply(this,arguments)}(),function(){t=!0,c&&(c.cleanUp(),c=null),o.current&&(o.current=null),p()}}function m(){return(m=Z(a().mark((function n(){var r,d,p;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.readFile(l);case 2:if(r=n.sent,!t){n.next=5;break}return n.abrupt("return");case 5:if(!r.error){n.next=8;break}return k("failed to read ".concat(l)),n.abrupt("return");case 8:d=r.content.toString(),p=d&&JSON.parse(d),i.width=i.offsetWidth,i.height=i.offsetHeight,(c=u()(p?p.fromKaboom?{canvas:i,width:p.width,height:p.height}:{canvas:i,data:f?(0,g.C)(p):p}:{canvas:i,width:64,height:64})).on("change",h),c.on("save",h),c.on("export",e),o.current=c.save,i.focus();case 18:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(){return b.apply(this,arguments)}function b(){return(b=Z(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:if(c){e.next=4;break}throw new Error("Expected peditCtx");case 4:if(n=c.save(),!f){e.next=9;break}return e.next=8,(0,g.u)(n);case 8:n=e.sent;case 9:return e.next=11,s.writeFile(l,d.Z.from(JSON.stringify(n)));case 11:e.sent.error&&t&&k("Failed to save ".concat(l,", please try again"));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[s,n,r]),(0,i.BX)("div",{style:t,className:l().dynamic([["9c48df7359622be1",[C?"0 3px 0 3px ".concat(C):"0"]]])+" pedit",children:[(0,i.tZ)(l(),{id:"9c48df7359622be1",dynamic:[C?"0 3px 0 3px ".concat(C):"0"],children:".pedit.__jsx-style-dynamic-selector{width:100%;height:100%;position:relative;z-index:3;-webkit-box-shadow:".concat(C?"0 3px 0 3px ".concat(C):"0",";-moz-box-shadow:").concat(C?"0 3px 0 3px ".concat(C):"0",";box-shadow:").concat(C?"0 3px 0 3px ".concat(C):"0","}canvas.__jsx-style-dynamic-selector{width:100%;height:100%;outline:none;position:absolute;top:0;left:0}.upgrade-button.__jsx-style-dynamic-selector{position:absolute;bottom:0;left:0;z-index:100;padding:var(--space-4);border:solid 2px var(--foreground-default);background:var(--background-default);font-weight:700;outline:none}.upgrade-button.__jsx-style-dynamic-selector:hover{cursor:pointer;background:var(--background-higher)}.upgrade-modal.__jsx-style-dynamic-selector{background:var(--background-default);padding:var(--space-32)}")}),(0,i.tZ)("canvas",{ref:function(e){r.current=e,O(e)},tabIndex:0,className:l().dynamic([["9c48df7359622be1",[C?"0 3px 0 3px ".concat(C):"0"]]])},n),n&&n.endsWith(".kbmsprite")&&(0,i.tZ)("button",{onClick:function(){return A(!0)},className:l().dynamic([["9c48df7359622be1",[C?"0 3px 0 3px ".concat(C):"0"]]])+" upgrade-button",children:"Upgrade"}),(0,i.tZ)(b.Z,{isOpen:N,onRequestClose:function(){return A(!1)},children:(0,i.tZ)(v.Z,{prompt:"Upgrade to '.pedit'?",desc:"You\u2019re using '.kbmsprite' which is recently deprecated. Do you want to upgrade to the new '.pedit' format? It\u2019ll create a new '.pedit' file with the same content. If you\u2019re using it with Kaboom, the new '.pedit' format won't work with kaboom before v0.4.0.",onCancel:function(){return A(!1)},confirmText:"Upgrade",icon:(0,i.tZ)(x.Z,{}),onConfirm:function(){if(o.current)if(n){var e=n.replace(/\.kbmsprite$/,".pedit"),t=d.Z.from(JSON.stringify(o.current()));s.writeFile(e,t).then((function(t){t.error?k("Failed to write to ".concat(e)):S("Successfully written to ".concat(e))})),A(!1)}else k("failed to get active file");else k("Please try again after the file loads")}})})]})}},52811:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(34051),a=n.n(r),i=n(35944),o=n(67294),l=n(24931),c=n(23139),s=n(1517),u=n(86113),d=n(35060),f=n(64396),p=n(63051),m=n(67289),h=n(30617),b=n(46846),v=n(5560),g=n(44894);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,a)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k,Z=".tutorial";function j(){var e=(0,h.Z)().fs,t=w(o.useState([]),2),n=t[0],r=t[1],f=w(o.useState(k.Loading),2),p=f[0],y=f[1],j=(0,v.Z)(),T=w(function(e,t){var n,r=(0,o.useState)((function(){return null!==(n=g.Z.get(e))&&void 0!==n?n:t})),a=r[0],i=r[1];return(0,o.useEffect)((function(){g.Z.set(e,a)}),[e,a]),[a,i]}("tutorialProgress--".concat(j),0),2),N=T[0],A=T[1],I=w(o.useState(!1),2),O=I[0],z=I[1],E=o.useRef(null),B=o.useCallback((function(){E.current&&(E.current.scrollTop=0)}),[E]);return o.useEffect((function(){var t=!1,n=function(){var n,i=(n=a().mark((function n(){var i,o,l,c,s,u,d,f,p,h,v,g,x,j,S;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return y(k.Loading),n.next=3,e.readDir(Z);case 3:if(i=n.sent,!t){n.next=6;break}return n.abrupt("return");case 6:if(!i.error){n.next=9;break}return y(k.Error),n.abrupt("return");case 9:return o=[],n.next=12,Promise.all(i.children.filter((function(e){return e.type===b.Tv.File&&"md"===(0,m.r6)(e.filename)})).map((function(t){var n="".concat(Z,"/").concat(t.filename);return Promise.all([n,e.readFile(n)])})));case 12:if(l=n.sent,!t){n.next=15;break}return n.abrupt("return");case 15:for(c=!0,s=!1,u=void 0,n.prev=16,d=l[Symbol.iterator]();!(c=(f=d.next()).done);c=!0)p=w(f.value,2),h=p[0],(v=p[1]).error?y(k.Error):(x=v.content.toString(),j=RegExp("^#\\s(?<title>.*)"),S=j.exec(x),o.push({title:null===S||void 0===S||null===(g=S.groups)||void 0===g?void 0:g.title,content:x,path:h}));n.next=24;break;case 20:n.prev=20,n.t0=n.catch(16),s=!0,u=n.t0;case 24:n.prev=24,n.prev=25,c||null==d.return||d.return();case 27:if(n.prev=27,!s){n.next=30;break}throw u;case 30:return n.finish(27);case 31:return n.finish(24);case 32:r(o),y(k.Ready);case 34:case"end":return n.stop()}}),n,null,[[16,20,24,32],[25,,27,31]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(e){x(i,r,a,o,l,"next",e)}function l(e){x(i,r,a,o,l,"throw",e)}o(void 0)}))});return function(){return i.apply(this,arguments)}}();return n(),function(){t=!0}}),[e]),p===k.Loading?(0,i.tZ)(c.G7,{css:[c.l0.flex.growAndShrink(1),c.l0.center],children:(0,i.tZ)(s.Z,{})}):p===k.Error?(0,i.tZ)(c.G7,{css:[c.l0.flex.growAndShrink(1),c.l0.center],children:(0,i.BX)(c.G7,{css:[c.l0.center,c.l0.colWithGap(4)],children:[(0,i.tZ)(d.Z,{color:c.TV.accentNegativeDefault}),(0,i.tZ)(c.xv,{color:"dimmer",children:"Failed to load tutorial"})]})}):0===n.length?(0,i.tZ)(c.G7,{css:[c.l0.flex.growAndShrink(1),c.l0.center],children:(0,i.BX)(c.G7,{css:[c.l0.center,c.l0.colWithGap(4)],children:[(0,i.tZ)(d.Z,{color:c.TV.accentNegativeDefault}),(0,i.tZ)(c.xv,{color:"dimmer",children:"No tutorials found!"})]})}):O?(0,i.BX)(c.G7,{css:[c.l0.overflowY("scroll"),c.l0.flex.growAndShrink(1),c.l0.p(8),c.l0.colWithGap(16)],children:[(0,i.tZ)(c.xv,{variant:"headerDefault",children:"Table of Contents"}),(0,i.tZ)(c.G7,{css:[c.l0.flex.growAndShrink(1),c.l0.colWithGap(8)],children:n.map((function(e,t){return(0,i.BX)(c.G7,{css:[c.l0.p(8),N===t?c.l0.backgroundColor.backgroundHighest:c.l0.backgroundColor.backgroundHigher,c.l0.borderRadius(4),c.l0.rowWithGap(8),c.l0.align.center,c.l0.cursor.pointer,N===t?{outline:"solid 2px var(--outline-dimmest)"}:{},{":hover":{outline:"solid 2px var(--outline-dimmest)"}}],onClick:function(){A(t),z(!1)},children:[(0,i.tZ)(c.G7,{css:[c.l0.backgroundColor.backgroundHighest,c.l0.width(20),c.l0.height(20),c.l0.borderRadius("full"),c.l0.center,{outline:"solid 1px var(--outline-dimmest)"}],children:(0,i.tZ)(c.xv,{variant:"small",color:"dimmest",children:t+1})}),(0,i.tZ)(c.xv,{css:[c.l0.maxWidth("80%")],children:e.title})]},e.title)}))})]}):(0,i.BX)(c.G7,{innerRef:E,css:[c.l0.overflowY("scroll"),c.l0.flex.growAndShrink(1),c.l0.p(16),c.l0.pb(32),c.l0.colWithGap(16)],children:[n.length>1&&(0,i.tZ)(c.zx,{text:"Table of Contents",iconLeft:(0,i.tZ)(u.Z,{}),onClick:function(){return z(!0)}}),(0,i.tZ)(l.Z,{fs:e,path:n[N].path,source:n[N].content,sourcePos:!1}),n.length>1&&(0,i.BX)(c.G7,{css:[c.l0.position.absolute,c.l0.width("100%"),c.l0.bottom(0),c.l0.left(0)],children:[(0,i.tZ)(C,{progress:(N+1)/n.length}),(0,i.BX)(c.G7,{css:[c.l0.width("100%"),c.l0.height(32),c.l0.align.center,c.l0.flex.row],children:[N>0&&(0,i.tZ)(S,{title:n[N-1].title,minimal:N<n.length-1,previous:!0,onClick:function(){A((function(e){return e-1})),B()}}),N<n.length-1&&(0,i.tZ)(S,{title:n[N+1].title,onClick:function(){A((function(e){return e+1})),B()}})]})]})]})}!function(e){e.Ready="READY",e.Loading="LOADING",e.Error="ERROR"}(k||(k={}));var S=function(e){var t=e.onClick,n=e.title,r=e.previous;return e.minimal?(0,i.tZ)(c.G7,{tag:"button",css:[c.l0.justify.center,c.l0.p(8),r?c.l0.backgroundColor.backgroundHigher:c.l0.backgroundColor.backgroundHighest,c.l0.cursor.pointer,c.l0.height("100%")],onClick:t,children:r?(0,i.tZ)(f.Z,{}):(0,i.tZ)(p.Z,{})}):(0,i.BX)(c.G7,{tag:"button",css:[c.l0.rowWithGap(8),c.l0.flex.growAndShrink(1),c.l0.height("100%"),r?c.l0.justify.start:c.l0.justify.spaceBetween,r?c.l0.backgroundColor.backgroundHigher:c.l0.backgroundColor.backgroundHighest,c.l0.align.center,c.l0.p(8),c.l0.cursor.pointer,{userSelect:"none"}],onClick:t,children:[r&&(0,i.tZ)(f.Z,{}),(0,i.BX)(c.xv,{children:[(0,i.BX)("span",{css:[c.l0.color.foregroundDimmer],children:[r?"Previous":"Next",n?": ":" page"]}),n&&(0,i.tZ)("b",{children:n})]}),!r&&(0,i.tZ)(p.Z,{})]})},C=function(e){var t=e.progress;return(0,i.tZ)(c.u,{tooltip:"Progress: ".concat(t),children:(0,i.tZ)(c.G7,{css:[c.l0.width("100%"),c.l0.height(4),c.l0.backgroundColor.backgroundHigher],children:(0,i.tZ)(c.G7,{css:[c.l0.width("".concat(100*t,"%")),c.l0.height("100%"),c.l0.backgroundColor.purpleDefault]})})})}},57885:function(e,t,n){n.d(t,{Z:function(){return je}});var r=n(35944),a=n(67294),i=n(88768),o=n(40425),l=n(94590),c=n(5560),s=n(1517),u=n(81970),d=n(50553),f=n(23139),p=n(38880),m=n(72361),h=n(44262),b=n(79547),v=n.n(b),g=n(38098),y=n(47421),x=n(78120),w=x.q6.define();function k(e){var t=e.editorRef,n=e.onChange,i=e.placeholder,o=e.skeleton,l=e.language,c=e.skeletonClosingBracket,s=e.indentSize,u=void 0===s?2:s,d=(0,g.Z)({language:l,indentIsSpaces:!0,indentSize:2,fontSize:14}),f=d.view,p=d.ref,m=a.useRef(o?"".concat(o,"\n"):""),h=c?"\n".concat(c):"",b=" ".repeat(u);return a.useEffect((function(){if(f&&f.state.doc.length){var e=m.current;m.current=o?"".concat(o,"\n"):"",f.dispatch({changes:{from:0,to:e.length-1,insert:o},annotations:[x.YW.addToHistory.of(!1),w.of(!0)]})}}),[f,o]),a.useEffect((function(){if(f){var e=x.yy.changeFilter.of((function(e){return!!e.annotation(w)||[-1,m.current.length,e.startState.doc.length-h.length,e.startState.doc.length+1]})),r=y.tk.updateListener.of((function(e){var t=e.state.doc.slice(m.current.length,e.state.doc.toString().length-h.length).toString();if(t!=="".concat(b).concat(i,"\n").concat(b)?n(t):n(""),e.docChanged&&e.state.doc.length===m.current.length+h.length){var r="\n"+b;f.dispatch({changes:{from:m.current.length-1,insert:"\n"+b},selection:{anchor:m.current.length+r.length-1},annotations:[w.of(!0)]})}})),a="".concat(m.current).concat(b).concat(i,"\n").concat(h);f.dispatch({changes:{from:0,to:f.state.doc.length,insert:a},effects:x.Py.appendConfig.of([e,r]),selection:{anchor:a.length},annotations:x.YW.addToHistory.of(!1)}),t({setValue:function(e){if(e){var t=f.state.doc.toString().length;f.dispatch({changes:{from:m.current.length,to:t-h.length,insert:e},annotations:x.YW.addToHistory.of(!1)})}},focus:function(){return f.focus()}})}}),[n,l,f,h,t,i,b]),(0,r.BX)("div",{className:"jsx-c0a72647b9c20ef editor",children:[(0,r.tZ)("div",{ref:p,className:"jsx-c0a72647b9c20ef"}),(0,r.tZ)(v(),{id:"c0a72647b9c20ef",children:".editor.jsx-c0a72647b9c20ef{overflow:auto;position:absolute;width:100%;height:100%}.loader.jsx-c0a72647b9c20ef{height:100%;width:100%;z-index:5}"})]})}var Z=n(56834),j=n(8286);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){C(e,t,n[t])}))}return e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){var t,n,o,l,s=e.isOpen,u=e.meta,h=e.language,b=e.hasMetadata,v=e.onClose,g=(0,c.Z)(),y=(0,p.Z)().showConfirm,x=N(a.useState(null),2),w=x[0],k=x[1],S=N(a.useState(!0),2),C=S[0],A=S[1],B=N(a.useState((null===u||void 0===u?void 0:u.initialization)||""),2),_=B[0],R=B[1],P=N(a.useState((null===u||void 0===u?void 0:u.imports)||""),2),G=P[0],X=P[1],U=N(a.useState((null===u||void 0===u?void 0:u.setup)||""),2),D=U[0],L=U[1],F=N(a.useState((null===u||void 0===u?void 0:u.tearDown)||""),2),M=F[0],W=F[1],H=N((0,i.rUq)({onError:function(e){return k(e.message)},update:function(e,t){var n,r=null===(n=t.data)||void 0===n?void 0:n.createReplUnitTestMeta;r&&("UserError"===r.__typename?k(r.message):"ReplUnitTestMeta"===r.__typename&&(e.modify({id:e.identify({__typename:"Repl",id:g}),fields:{unitTests:function(t){var n=e.writeFragment({data:r,fragment:i.aAi});return t?T({},t,{meta:T({},n)}):{__typename:"ReplUnitTestsWithMeta",meta:n,tests:[]}}}}),y("Setup saved!"),v()))}}),2),V=H[0],$=H[1],q=N((0,i.AFf)({onError:function(e){return k(e.message)},onCompleted:function(e){var t=e.updateReplUnitTestMeta;t&&("UserError"===t.__typename?k(t.message):"ReplUnitTestMeta"===t.__typename&&(y("Imports updated!"),v()))}}),2),Y=q[0],J=q[1],K=(0,m.x)(h),Q=G!==(null===u||void 0===u?void 0:u.imports)||_!==(null===u||void 0===u?void 0:u.initialization)||D!==(null===u||void 0===u?void 0:u.setup)||M!==(null===u||void 0===u?void 0:u.tearDown),ee=$.loading||J.loading;return(0,r.tZ)(f.u_,{isOpen:s,onRequestClose:v,maxWidth:872,children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(24)],children:[(0,r.tZ)(f.h4,{level:1,variant:"headerDefault",children:"Setup"}),(0,r.tZ)(I,{unitTestsLib:K,onChange:X,language:h,initialValue:null!==(t=null===u||void 0===u?void 0:u.imports)&&void 0!==t?t:""}),(0,r.tZ)(f.G7,{onClick:function(){return A(!C)},css:{cursor:"pointer"},children:(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8),f.l0.align.center],children:[(0,r.tZ)(f.h4,{level:2,variant:"headerDefault",children:"Advanced"}),(0,r.tZ)(d.Z,{color:"var(--foreground-default)",size:20,rotate:C?270:0})]})}),C?null:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)(O,{unitTestsLib:K,onChange:R,language:h,initialValue:null!==(n=null===u||void 0===u?void 0:u.initialization)&&void 0!==n?n:""}),(0,r.tZ)(z,{unitTestsLib:K,onChange:L,language:h,initialValue:null!==(o=null===u||void 0===u?void 0:u.setup)&&void 0!==o?o:""}),(0,r.tZ)(E,{unitTestsLib:K,onChange:W,language:h,initialValue:null!==(l=null===u||void 0===u?void 0:u.tearDown)&&void 0!==l?l:""})]}),(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween],children:[(0,r.tZ)(f.xv,{css:[f.l0.color.accentNegativeStronger],multiline:!0,children:w}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(12)],children:[(0,r.tZ)(f.zx,{disabled:ee,onClick:v,text:"Cancel"}),(0,r.tZ)(f.zx,{colorway:"primary",disabled:!Q||ee,onClick:function(){(0,Z.j)(Z.U3.REPL_UNIT_TEST_USED,{action:"modifiedSetup"}),b?Y({variables:{input:{initialization:_,imports:G,setup:D,tearDown:M,replId:g}}}):V({variables:{input:{initialization:_,imports:G,setup:D,tearDown:M,replId:g}}})},iconLeft:(0,r.tZ)(j.Z,{}),text:"".concat(ee?"Saving...":"Save")})]})]})]})})}function I(e){var t=e.unitTestsLib,n=e.onChange,i=e.language,o=e.initialValue,l=N(a.useState(null),2),c=l[0],s=l[1];a.useEffect((function(){c&&(c.setValue(o),c.focus())}),[c,o]);var u=t.defaultImports().trim();return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.center],children:[(0,r.tZ)(f.h4,{level:2,variant:"subheadDefault",children:"Imports"}),(0,r.tZ)(f.ZP,{iconLeft:(0,r.tZ)(h.Z,{}),text:"Docs",href:"https://docs.replit.com/teams-edu/unit-testing",target:"_blank",outlined:!0})]}),(0,r.tZ)(f.G7,{css:[f.l0.backgroundColor.backgroundDefault,f.l0.borderRadius(8),{border:"1px solid var(--background-highest)"}],children:(0,r.tZ)(f.G7,{css:[f.l0.borderRadius(8),f.l0.height(200),f.l0.position.relative],children:(0,r.tZ)(k,{onChange:n,placeholder:"".concat(t.getCommentChar()," Add imports here"),editorRef:s,language:i,skeleton:u,skeletonClosingBracket:"",indentSize:0})})})]})}function O(e){var t=e.unitTestsLib,n=e.onChange,i=e.language,o=e.initialValue,l=N(a.useState(null),2),c=l[0],s=l[1];a.useEffect((function(){c&&c.setValue(o)}),[c,o]);var u=t.classConstructorName();return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.center],children:[(0,r.tZ)(f.h4,{level:2,variant:"subheadDefault",children:"Initialization"}),(0,r.tZ)(f.ZP,{iconLeft:(0,r.tZ)(h.Z,{}),text:"Docs",href:"https://docs.replit.com/teams-edu/unit-testing",target:"_blank",outlined:!0})]}),u&&(0,r.BX)(f.xv,{multiline:!0,children:["Hint: constructor name is ",(0,r.tZ)("code",{children:u}),"."]}),(0,r.tZ)(f.G7,{css:[f.l0.backgroundColor.backgroundDefault,f.l0.borderRadius(8),{border:"1px solid var(--background-highest)"}],children:(0,r.tZ)(f.G7,{css:[f.l0.borderRadius(8),f.l0.height(200),f.l0.position.relative],children:(0,r.tZ)(k,{onChange:n,placeholder:"".concat(t.getCommentChar()," Add initialization code here"),editorRef:s,language:i,skeleton:"",skeletonClosingBracket:"",indentSize:0})})})]})}function z(e){var t=e.unitTestsLib,n=e.onChange,i=e.language,o=e.initialValue,l=N(a.useState(null),2),c=l[0],s=l[1];a.useEffect((function(){c&&c.setValue(o)}),[c,o]);var u=t.setupIntro().trim();return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.center],children:[(0,r.tZ)(f.h4,{level:2,variant:"subheadDefault",children:"Setup"}),(0,r.tZ)(f.ZP,{iconLeft:(0,r.tZ)(h.Z,{}),text:"Docs",href:"https://docs.replit.com/teams-edu/unit-testing",target:"_blank",outlined:!0})]}),(0,r.tZ)(f.G7,{css:[f.l0.backgroundColor.backgroundDefault,f.l0.borderRadius(8),{border:"1px solid var(--background-highest)"}],children:(0,r.tZ)(f.G7,{css:[f.l0.borderRadius(8),f.l0.height(200),f.l0.position.relative],children:(0,r.tZ)(k,{onChange:n,placeholder:"".concat(t.getCommentChar()," Add setup code here"),editorRef:s,language:i,skeleton:u,skeletonClosingBracket:t.hasClosingBrackets()?t.getClosingBrackets():""})})})]})}function E(e){var t=e.unitTestsLib,n=e.onChange,i=e.language,o=e.initialValue,l=N(a.useState(null),2),c=l[0],s=l[1];a.useEffect((function(){c&&c.setValue(o)}),[c,o]);var u=t.tearDownIntro().trim();return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.center],children:[(0,r.tZ)(f.h4,{level:2,variant:"subheadDefault",children:"Teardown"}),(0,r.tZ)(f.ZP,{iconLeft:(0,r.tZ)(h.Z,{}),text:"Docs",href:"https://docs.replit.com/teams-edu/unit-testing",target:"_blank",outlined:!0})]}),(0,r.tZ)(f.G7,{css:[f.l0.backgroundColor.backgroundDefault,f.l0.borderRadius(8),{border:"1px solid var(--background-highest)"}],children:(0,r.tZ)(f.G7,{css:[f.l0.borderRadius(8),f.l0.height(200),f.l0.position.relative],children:(0,r.tZ)(k,{onChange:n,placeholder:"".concat(t.getCommentChar()," Add teardown code here"),editorRef:s,language:i,skeleton:u,skeletonClosingBracket:t.hasClosingBrackets()?t.getClosingBrackets():""})})})]})}var B=function(e){var t=e.language,n=e.meta,i=N(a.useState(!1),2),o=i[0],l=i[1];return(0,r.BX)(r.HY,{children:[(0,r.tZ)(f.zx,{iconLeft:(0,r.tZ)(u.Z,{}),onClick:function(){return l(!0)},text:"Setup"}),(0,r.tZ)(A,{language:t,isOpen:o,onClose:function(){return l(!1)},hasMetadata:Boolean(null===n||void 0===n?void 0:n.id),meta:n})]})},_=n(86072),R=n(29698),P=n(58375),G=n(35060),X=n(19826),U=n(33108),D=n(34051),L=n.n(D),F=n(92876),M=n(30617),W=n(42723),H=n(16108),V=n(92694);function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,a)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){q(i,r,a,o,l,"next",e)}function l(e){q(i,r,a,o,l,"throw",e)}o(void 0)}))}}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){J(e,t,n[t])}))}return e}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){if(e){if("string"===typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}var ne="\x1b[0;31m",re="\x1b[0m",ae=["\u28fe","\u28fd","\u28fb","\u28bf","\u287f","\u28df","\u28ef","\u28f7","\u2801","\u2802","\u2804","\u2840","\u2880","\u2820","\u2810","\u2808"];function ie(e){var t=e.name,n=e.failureMessage,r=e.stack;return"\u274c\t".concat(ne).concat(t).concat(re,"\r").concat(n?"\nMessage: ".concat(n,"\r"):"","\nStack Trace:\r\n").concat(r.replace(/\n/g,"\r\n"),"\n\r\n\r\n")}var oe=function(e){var t=e.language,n=e.unitTests,i=e.onResult,o=e.trackingContext,l=function(e){(h.writeToTerminal(e),window.store)&&(0,window.store.dispatch)((0,W.yY)({wid:"",type:"",raw:!0,message:e}))},c=function(){(h.clearTerminal(),window.store)&&((0,window.store.dispatch)({type:"CLEAR_CONSOLE"}),l("\r\n"))},s=Q(a.useState(!1),2),u=s[0],d=s[1],p=(0,M.Z)(),h=p.session,b=p.container,v=p.packager,g=p.fs,y=null,x=function(){d(!1),(0,V.WT)(g),y&&(y.stopLogSpinner(),y=null)},w=function(){var e=Y(L().mark((function e(){var r,a,s,f,p,h,w,k,j,S,C,T,N,A,I,O,z,E,B,_,R,P;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=2;break}return e.abrupt("return");case 2:if(r=null,y={startLogSpinner:function(e){if(r)throw new Error("A spinner is already active! call stopSpinner first or use the update callback to update the active spinner's message.");var t=e,n=0;return r=setInterval((function(){n++;var e=ae[n%ae.length];if(!y)throw new Error("Expected logger");y.clearLine(),y.logMessage(e+" "+t)}),100),function(e){t=e}},stopLogSpinner:function(){r&&clearInterval(r),r=null},logMessage:l,clearLogs:c,clearLine:function(){if(!y)throw new Error("Expected logger");y.logMessage("\x1b[1K\r")}},n){e.next=6;break}throw new Error("Run button should not be active if there are no tests");case 6:return d(!0),(0,Z.j)(Z.U3.REPL_UNIT_TEST_USED,{trackingData:{context:o},action:"ranTests"}),y.clearLogs(),a=(0,m.x)(t),e.next=12,a.buildAndRunTests(K({container:b,fs:g,packager:v,logger:y},n));case 12:if(s=e.sent,y.stopLogSpinner(),y.clearLine(),y.clearLogs(),null===s.error){e.next=21;break}return y.logMessage("".concat(ne).concat(s.error).concat(re,"\r\n")),x(),n.tests.map((function(e){return{testId:e.id,didPass:!1}})),e.abrupt("return");case 21:if(f=s.result.passed?[]:s.result.failures.map((function(e){return a.parseTestResultName(e.name)})),p=[],h=n.tests.map((function(e){return a.getProperTestName(e.name)})),!(w=f.filter((function(e){return!h.includes(e)}))).length){e.next=29;break}j=w[0],S=s.result.failures[0].stack,y.logMessage(ie({name:j,failureMessage:"The following error occurred but was not related to a single unit test",stack:S})),(k=p).push.apply(k,ee(n.tests.map((function(e){return{testId:e.id,didPass:!1}})))),e.next=60;break;case 29:C=!0,T=!1,N=void 0,e.prev=30,A=n.tests[Symbol.iterator]();case 32:if(C=(I=A.next()).done){e.next=46;break}if(O=I.value,z=a.getProperTestName(O.name),E=f.indexOf(z),B=-1===E,p.push({testId:O.id,didPass:B}),!B){e.next=41;break}return y.logMessage((G=z,"\u2705\t".concat("\x1b[0;32m").concat(G).concat(re,"\r\n\r\n"))),e.abrupt("continue",43);case 41:_=s.result.failures[E].stack,y.logMessage(ie({name:z,failureMessage:O.failureMessage,stack:_}));case 43:C=!0,e.next=32;break;case 46:e.next=52;break;case 48:e.prev=48,e.t0=e.catch(30),T=!0,N=e.t0;case 52:e.prev=52,e.prev=53,C||null==A.return||A.return();case 55:if(e.prev=55,!T){e.next=58;break}throw N;case 58:return e.finish(55);case 59:return e.finish(52);case 60:if(i(p),R=n.tests.length,!s.result.passed){e.next=66;break}return y.logMessage("".concat("\x1b[48;5;22m","  All tests have passed ").concat(R,"/").concat(R,"  ").concat(re,"\r\n")),x(),e.abrupt("return");case 66:P=R-s.result.failures.length,y.logMessage("".concat("\x1b[48;5;88m","  ").concat(P,"/").concat(R," passed, see errors above  ").concat(re)),x();case 69:case"end":return e.stop()}var G}),e,null,[[30,48,52,60],[53,,55,59]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Y(L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{w()}catch(t){F.$e((function(e){e.setTag("unittestsrun","true"),F.Tb(t)})),y&&y.logMessage("\r\n".concat(ne," Sorry, we have failed to run your tests. Please try again or contact support. ").concat(re,"\r\n")),x()}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Boolean(n&&n.tests.length>0)?(0,r.tZ)(f.G7,{children:(0,r.tZ)(f.zx,{disabled:u,colorway:"primary",iconLeft:(0,r.tZ)(H.Z,{}),onClick:k,text:u?"Running tests...":"Run tests"})}):null},le=n(88341);function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){se(e,t,n[t])}))}return e}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){if(e){if("string"===typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}function me(e){var t=e.isOpen,n=e.test,o=e.language,s=e.onClose,u=e.trackingContext,d=(0,c.Z)(),h=(0,p.Z)().showConfirm,b=de(a.useState(null),2),v=b[0],g=b[1],y=de(a.useState(""),2),x=y[0],w=y[1],S=de(a.useState(""),2),C=S[0],T=S[1],N=de(a.useState(""),2),A=N[0],I=N[1],O=de((0,i.Hd4)({onError:function(e){return I(e.message)},update:function(e,t){var n,r=null===(n=t.data)||void 0===n?void 0:n.createReplUnitTest;r&&("UserError"===r.__typename?I(r.message):"ReplUnitTest"===r.__typename&&(e.modify({id:e.identify({__typename:"Repl",id:d}),fields:{unitTests:function(t){var n=e.writeFragment({data:r,fragment:i.Rbd});return t?ue({},t,{tests:fe(t.tests).concat([n])}):{__typename:"ReplUnitTestsWithMeta",meta:null,tests:[n]}}}}),h("Test created!"),s()))}}),2),z=O[0],E=O[1],B=de((0,i.kOV)({onError:function(e){return I(e.message)},onCompleted:function(e){var t=e.updateReplUnitTest;t&&("UserError"===t.__typename?I(t.message):"ReplUnitTest"===t.__typename&&(h("Test updated!"),s()))}}),2),R=B[0],P=B[1],D=(0,U.Y)("",(function(e){return e.length<=0?{message:"Must include test name"}:e.trim().split(" ").length>1?{message:"Test name must only be one word"}:void 0}));a.useEffect((function(){D.setValue((null===n||void 0===n?void 0:n.name)||"",{preventTouch:!0}),T((null===n||void 0===n?void 0:n.failureMessage)||""),w((null===n||void 0===n?void 0:n.code)||""),v&&v.setValue((null===n||void 0===n?void 0:n.code)||"")}),[n,v]),a.useEffect((function(){I("")}),[x,I]);var L=(0,m.x)(o),F="".concat(L.getCommentChar()," Enter code here"),M=!n||n.name!==D.value||n.code!==x||n.failureMessage!==C,W=E.loading||P.loading,H=L.testIntro(D.value||""),V=L.hasClosingBrackets()?L.getClosingBrackets():"",$=de(a.useState(!1),2),q=$[0],Y=$[1],J=function(){v&&(v.setValue("  "+L.exampleTest.code),v.focus()),w(L.exampleTest.code)};return(0,r.tZ)(f.u_,{isOpen:t,onRequestClose:s,maxWidth:872,children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(24)],children:[(0,r.tZ)(f.h4,{level:1,variant:"headerDefault",children:"New unit test"}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)("label",{htmlFor:"name",children:(0,r.tZ)(f.h4,{level:2,variant:"subheadDefault",children:"Name"})}),(0,r.tZ)(f.Zl,{id:"name",label:"Test name",status:null,autoFocus:!0,required:!0,value:D.value,isValid:D.isValid,error:D.error,warning:D.warning,touched:D.touched,onChange:function(e){D.setValue(e.target.value)},placeholder:"Enter test name here"})]}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.align.center,f.l0.justify.spaceBetween],children:[(0,r.tZ)(f.h4,{level:2,variant:"subheadDefault",children:"Code"}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4)],children:[(0,r.BX)(le.Z,{isOpen:q,onClickOutside:function(){return Y(!1)},placement:"bottom-end",children:[(0,r.tZ)(f.zx,{iconLeft:(0,r.tZ)(_.Z,{}),small:!0,outlined:!0,text:"View an example",onClick:function(){[F,L.exampleTest.code].includes(x.trim())?J():Y(!0)}}),(0,r.BX)(f.G7,{children:["This will overwrite your current test. Are you sure?",(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(4),f.l0.pt(8)],children:[" ",(0,r.tZ)(f.zx,{text:"No, go back",small:!0,iconLeft:(0,r.tZ)(G.Z,{}),onClick:function(){Y(!1)}}),(0,r.tZ)(f.zx,{text:"Yes, delete test",colorway:"negative",small:!0,iconLeft:(0,r.tZ)(j.Z,{}),onClick:function(){J(),Y(!1)}})]})]})]}),(0,r.tZ)(f.ZP,{iconLeft:(0,r.tZ)(X.Z,{}),small:!0,outlined:!0,text:"View docs",target:"_blank",href:"https://docs.replit.com/teams-edu/unit-testing"})]})]}),(0,r.tZ)(f.G7,{css:[f.l0.backgroundColor.backgroundDefault,f.l0.borderRadius(8),{border:"1px solid var(--background-highest)"}],children:(0,r.tZ)(f.G7,{css:[f.l0.borderRadius(8),f.l0.height(200),f.l0.position.relative],children:(0,r.tZ)(k,{skeleton:H,skeletonClosingBracket:V,language:o,editorRef:g,onChange:w,placeholder:F})})})]}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8)],children:[(0,r.tZ)(f.h4,{level:2,variant:"subheadDefault",children:"Failure message"}),(0,r.tZ)(f.II,{value:C,onChange:function(e){return T(e.target.value)},placeholder:"This will be displayed on test failure"})]}),(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.align.center,f.l0.justify.spaceBetween],children:[(0,r.tZ)(f.xv,{css:[f.l0.color.accentNegativeStronger],children:A}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(12)],children:[(0,r.tZ)(f.zx,{text:"Cancel",onClick:s}),(0,r.tZ)(f.zx,{text:"".concat(W?"Creating test...":"Create test"),iconLeft:(0,r.tZ)(l.Z,{}),colorway:"primary",disabled:!M||W,onClick:function(){D.validate()||(x.length<=0?I("Test cannot be empty"):n?(R({variables:{input:{name:D.value,code:x,failureMessage:C,testId:n.id}}}),(0,Z.j)(Z.U3.REPL_UNIT_TEST_USED,{trackingData:{context:u},action:"modifiedTest"})):(z({variables:{input:{name:D.value,code:x,failureMessage:C,replId:d}}}),(0,Z.j)(Z.U3.REPL_UNIT_TEST_USED,{trackingData:{context:u},action:"addedTest"})))}})]})]})]})})}function he(e){var t=e.testId,n=e.onClose,o=(0,p.Z)().showConfirm,l=(0,c.Z)(),s=de((0,i.IVR)({onError:function(e){return b(e.message)},update:function(e,r){var a,i=null===(a=r.data)||void 0===a?void 0:a.deleteReplUnitTest;i&&("UserError"===i.__typename?b(i.message):"ReplUnitTest"===i.__typename&&t&&(e.modify({id:e.identify({__typename:"Repl",id:l}),fields:{unitTests:function(e,n){var r=n.readField,a=e.tests.filter((function(e){return r("id",e)!==t}));return ue({},e,{tests:fe(a)})}}}),(0,Z.j)(Z.U3.REPL_UNIT_TEST_USED,{action:"removedTest"}),o("Test deleted!"),n()))}}),2),u=s[0],d=s[1],m=de(a.useState(""),2),h=m[0],b=m[1];return(0,r.tZ)(f.u_,{isOpen:Boolean(t),onRequestClose:n,children:(0,r.BX)(f.G7,{css:[f.l0.colWithGap(24)],children:[(0,r.tZ)(f.h4,{level:1,variant:"headerDefault",children:"Delete test?"}),(0,r.tZ)(f.xv,{multiline:!0,children:"Are you sure you want to delete this test? This cannot be undone."}),(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.center],children:[(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.color.accentNegativeStronger],children:h}),(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(12),f.l0.justify.end],children:[(0,r.tZ)(f.zx,{text:"Cancel",disabled:d.loading,onClick:n}),(0,r.tZ)(f.zx,{text:"Yes, delete this test",colorway:"negative",iconLeft:(0,r.tZ)(P.Z,{}),disabled:d.loading,onClick:function(){if(!t)throw new Error("Expected a testId");u({variables:{testId:t}})}})]})]})]})})}var be=function(e){var t=e.unitTests,n=e.isAddingTest,o=e.onClose,s=e.language,u=e.canWrite,d=e.trackingContext,p=void 0===d?"default":d,m=de(a.useState(n),2),h=m[0],b=m[1],g=de(a.useState(null),2),y=g[0],x=g[1],w=de(a.useState(null),2),k=w[0],Z=w[1],j=(0,c.Z)(),S=de((0,i.lQq)(),1)[0],C=(null===t||void 0===t?void 0:t.tests)||[];return(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16)],children:[(0,r.tZ)(oe,{language:s,unitTests:t,onResult:function(e){S({variables:{input:{replId:j,results:e},replId:j}})},trackingContext:p}),C.length>0?(0,r.tZ)(f.G7,{css:[f.l0.colWithGap(8),f.l0.align.center],children:C.map((function(e){var t,n;return"ReplUnitTestLastRun"===(null===(t=e.lastRun)||void 0===t?void 0:t.__typename)&&(e.lastRun.status===i.$I7.Passed?n="passed-test":e.lastRun.status===i.$I7.Failed&&(n="failed-test")),(0,r.tZ)(f.G7,{className:"test ".concat(n),css:{width:"100%"},children:(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.center,f.l0.p(8),f.l0.borderRadius(8),{border:"1px solid var(--background-highest);"}],children:[(0,r.tZ)(f.xv,{children:e.name}),u?(0,r.BX)(f.G7,{css:[f.l0.rowWithGap(8)],children:[(0,r.tZ)(f.hU,{onClick:function(){x(e)},alt:"Edit",children:(0,r.tZ)(R.Z,{})}),(0,r.tZ)(f.hU,{onClick:function(){Z(e.id)},alt:"Delete",children:(0,r.tZ)(P.Z,{})})]}):null]})},e.id)}))}):(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),f.l0.align.center],children:[(0,r.tZ)(f.xv,{multiline:!0,css:[f.l0.textAlign.center],children:"Looks like you don\u2019t have any tests yet!"}),u&&(0,r.tZ)(f.zx,{text:"Add test",onClick:function(){return b(!0)},iconLeft:(0,r.tZ)(l.Z,{})})]}),(0,r.tZ)(me,{isOpen:h||Boolean(y)||n,test:y,language:s,onClose:function(){x(null),b(!1),o&&o()},trackingContext:p}),(0,r.tZ)(he,{testId:k,onClose:function(){return Z(null)}}),(0,r.tZ)(v(),{id:"a2df1ed8108a6cad",children:".tests-wrapper.jsx-a2df1ed8108a6cad{-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);padding:var(--space-16)0;width:100%}.test.jsx-a2df1ed8108a6cad{padding:var(--space-8)var(--space-8);border:1px solid var(--outline-dimmest);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}.passed-test.jsx-a2df1ed8108a6cad{border-color:var(--accent-positive-default);background:var(--accent-positive-dimmer)}.failed-test.jsx-a2df1ed8108a6cad{border-color:var(--accent-negative-default);background:var(--accent-negative-dimmer)}"})]})},ve=n(51281),ge=n(64758);function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=function(e){var t=e.onClick,n=e.hasTests,a=n?{"aria-label":"Delete all tests to switch test type","data-microtip-position":"bottom","data-microtip-size":"medium",role:"tooltip"}:{};return(0,r.BX)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ye(e,t,n[t])}))}return e}({},a,{className:"jsx-44786ca38dd3aa42 "+(a&&null!=a.className&&a.className||"back-button"),children:[(0,r.tZ)(ve.Z,{filled:!1,border:!1,size:"small",Icon:ge.Z,onClick:t,disabled:n,children:"Switch test type"}),(0,r.tZ)(v(),{id:"44786ca38dd3aa42",children:".back-button.jsx-44786ca38dd3aa42{width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]}))},we=n(45620);function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){l=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var je=function(e){var t,n,u,d,p=e.onBack,m=(0,c.Z)(),h=Ze(a.useState(!1),2),b=h[0],v=h[1],g=(0,we.Z)(),y=g.language,x=g.isLoading,w=(0,i.CHr)({variables:{replId:m}}),k=null===(t=w.data)||void 0===t?void 0:t.repl;if(w.loading||x)return(0,r.tZ)(f.G7,{css:[f.l0.backgroundColor.backgroundDefault,f.l0.flex.row,f.l0.align.center,f.l0.justify.center,f.l0.p(16)],children:(0,r.tZ)(s.Z,{})});if(!k||"Repl"!==k.__typename)return(0,r.tZ)(f.G7,{css:[f.l0.p(16)],children:(0,r.tZ)(f.xv,{multiline:!0,css:{textAlign:"center"},children:"Unable to fetch tests, please try again."})});if(!y)return(0,r.tZ)(f.G7,{css:[f.l0.p(16)],children:(0,r.tZ)(f.xv,{multiline:!0,css:{textAlign:"center"},children:"Unit tests are currently only supported in Java, Python, and Node.js Repls."})});var Z="default";(null===k||void 0===k?void 0:k.isProject)?Z="project_repl":(null===k||void 0===k?void 0:k.isProjectFork)&&(Z="submission_repl");var j=Boolean((null===(n=k.unitTests)||void 0===n?void 0:n.tests)&&k.unitTests.tests.length>0);return(null===k||void 0===k||null===(u=k.currentUserPermissions)||void 0===u?void 0:u.writeTests)?(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16),f.l0.align.center],children:[(0,r.BX)(f.G7,{css:[f.l0.flex.row,f.l0.justify.spaceBetween,f.l0.align.center,{width:"100%"}],children:[(0,r.tZ)(o.Z,{truncate:!0,level:4,children:"Unit tests"}),(0,r.tZ)(f.hU,{alt:"Add test",size:32,onClick:function(){return v(!0)},children:(0,r.tZ)(l.Z,{})})]}),(0,r.BX)(f.G7,{css:[f.l0.colWithGap(8),f.l0.maxWidth(256),{width:"80%"}],children:[(0,r.tZ)(B,{language:y,meta:(null===(d=k.unitTests)||void 0===d?void 0:d.meta)||null}),(0,r.tZ)(be,{isAddingTest:b,unitTests:(null===k||void 0===k?void 0:k.unitTests)||null,onClose:function(){return v(!1)},language:y,canWrite:!0,trackingContext:Z}),p?(0,r.tZ)(xe,{hasTests:j,onClick:p}):null]})]}):(0,r.BX)(f.G7,{css:[f.l0.colWithGap(16)],children:[(0,r.tZ)(f.h4,{level:1,variant:"headerDefault",children:"Unit tests"}),(0,r.tZ)(f.G7,{css:{width:"100%",overflowY:"auto"},children:(0,r.tZ)(be,{unitTests:(null===k||void 0===k?void 0:k.unitTests)||null,language:y,isAddingTest:!1,canWrite:!1,trackingContext:Z})})]})}},72361:function(e,t,n){n.d(t,{x:function(){return E},y:function(){return z}});var r=n(34051),a=n.n(r),i=n(92876),o=n(56834);var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.code="",this.currentIndent=0,this.lib=t}var t=e.prototype;return t.indent=function(){this.currentIndent+=1},t.dedent=function(){if(0===this.currentIndent)throw new Error("indent at zero");this.currentIndent-=1},t.addIndents=function(){for(var e=0;e<this.currentIndent;e++)this.code+="  "},t.push=function(e){var t=e.split("\n"),n=!0,r=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;this.addIndents(),this.code+=l,this.newLine()}}catch(c){r=!0,a=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}},t.newLine=function(){this.code+="\n"},t.closeCurly=function(){this.addIndents(),this.code+=this.lib.getClosingBrackets()},t.toString=function(){return this.code},e}(),c=n(92694);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,l,"next",e)}function l(e){u(i,r,a,o,l,"throw",e)}o(void 0)}))}}function f(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p={testRunnerName:function(){return"TestRunner"},testSuiteName:function(){return"TestSuite"},defaultImports:function(){return"import org.junit.Before;\nimport org.junit.After;\nimport org.junit.Test;\nimport static org.junit.Assert.*;"},classIntro:function(){return"public class ".concat((0,c.Og)(p.testSuiteName())," {")},classConstructorName:function(){return(0,c.Og)(p.testSuiteName())},setupIntro:function(){return"@Before\npublic void setUp() {"},tearDownIntro:function(){return"@After\npublic void tearDown() {"},testIntro:function(e){return"".concat(p.testIntroPreName()).concat(e).concat(p.testIntroPostName())},testIntroPreName:function(){return"@Test\npublic void "},testIntroPostName:function(){return"() {"},getProperTestName:function(e){return e},parseTestResultName:function(e){return e.replace("(".concat((0,c.Og)(p.testSuiteName()),")"),"")},buildSuite:function(e){var t=e.tests,n=e.meta,r=new l(p);r.push(p.defaultImports()),n&&n.imports&&r.push(n.imports),r.newLine(),r.push(p.classIntro()),r.newLine(),r.indent(),n&&(n.initialization&&(r.push(n.initialization),r.newLine()),n.setup&&(r.push(p.setupIntro()),r.indent(),r.push(n.setup),r.dedent(),r.closeCurly(),r.newLine(),r.newLine()),n.tearDown&&(r.push(p.tearDownIntro()),r.indent(),r.push(n.tearDown),r.dedent(),r.closeCurly(),r.newLine(),r.newLine()));var a=!0,i=!1,o=void 0;try{for(var c,s=t[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var u=c.value;u.code&&(r.push(p.testIntro(u.name)),r.indent(),r.push(u.code),r.dedent(),r.closeCurly(),r.newLine(),r.newLine())}}catch(d){i=!0,o=d}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}return r.dedent(),r.closeCurly(),r.toString()},runSuite:function(e){return v.apply(this,arguments)},buildAndRunTests:function(e){var t=e.container,n=e.fs,r=e.packager,a=e.logger,i=e.tests,o=e.meta,l=p.buildSuite({tests:i,meta:o});return p.runSuite({container:t,fs:n,packager:r,logger:a,suiteCode:l})},hasClosingBrackets:function(){return!0},getClosingBrackets:function(){return"}"},hasSemicolon:function(){return!0},getCommentChar:function(){return"//"},getHelpText:function(){return"no react in this bitch either"},captureSetupError:function(e){var t=e.tag,n=e.raw;i.$e((function(e){e.setTag("unitTestLib","true"),e.setExtra("raw",n),e.setExtra("language","java10"),i.Tb(t)}))},exampleTest:{id:-1,failureMessage:"An Adder class should have an add method that adds two ints and returns the result",name:"add",code:"Adder adder = new Adder();\nint result = adder.add(1, 2);\nassertEquals(3, result);\n"}},m="__UNIT_TEST_RESULT_START__",h="__UNIT_TEST_RESULT_END__",b="import org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.junit.runner.JUnitCore;\nimport org.junit.runner.Result;\nimport org.junit.runner.notification.Failure;\n\npublic class ".concat((0,c.Og)(p.testRunnerName())," {\n    public static void main(String[] args) {\n      Result result = JUnitCore.runClasses(").concat((0,c.Og)(p.testSuiteName()),'.class);\n      JSONArray failures = new JSONArray();\n\n        for (Failure failure : result.getFailures()) {\n            JSONObject obj = new JSONObject();\n            obj.put("name", failure.getTestHeader());\n            obj.put("stack", failure.getTrace());\n            failures.add(obj);\n        }\n        JSONObject out = new JSONObject();\n        out.put("passed", result.wasSuccessful());\n        out.put("failures", failures);\n        System.out.println();\n        System.out.println("').concat(m,'");\n        System.out.println(out);\n        System.out.println("').concat(h,'");\n    }\n}');function v(){return(v=d(a().mark((function e(t){var n,r,i,l,s,u,d,v,g,y,x,w,k,Z,j,S,C,T,N,A,I,O,z,E,B;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.container,r=t.fs,i=t.packager,l=t.logger,s=t.suiteCode,d=l.startLogSpinner("Setting up the environment"),e.next=5,(0,c.WT)(r);case 5:return d("Creating your test files 1/2"),e.next=8,(0,c.e3)({fs:r,code:s,filename:"".concat(p.testSuiteName(),".java")});case 8:if(v=e.sent,!(g=v.error)){e.next=14;break}return"Failed to create suite code file",p.captureSetupError({tag:"Failed to create suite code file",raw:g}),e.abrupt("return",{error:"There was an error creating a test file, if this happens again, please contact support."});case 14:return d("Creating your test files 2/2"),e.next=17,(0,c.e3)({fs:r,code:b,filename:"".concat(p.testRunnerName(),".java")});case 17:if(y=e.sent,!(x=y.error)){e.next=23;break}return"Failed to create test runner file",p.captureSetupError({tag:"Failed to create test runner file",raw:x}),e.abrupt("return",{error:"There was an error creating a test file, if this happens again, please contact support."});case 23:return l.stopLogSpinner(),l.clearLine(),l.logMessage("Installing imported packages\r\n"),e.next=28,i.addPackages([{name:"junit:junit",version:"4.12"},{name:"com.googlecode.json-simple:json-simple",version:"1.1.1"},{name:"org.hamcrest:hamcrest-core",version:"1.3"}]);case 28:return e.next=30,i.installPackages();case 30:if(e.sent){e.next=33;break}return e.abrupt("return",{error:"Failed to install packages\r\n"});case 33:return l.clearLogs(),d=l.startLogSpinner("Compiling your files"),e.next=37,n.exec("find",".","-type","f","-name","*.java","-print0");case 37:if(w=e.sent,k=w.output,!(Z=w.error)){e.next=44;break}return j="Failed to fetch working directory java files",p.captureSetupError({tag:j,raw:Z}),e.abrupt("return",{error:"".concat(j,"\r\n\r\n")+(null===k||void 0===k?void 0:k.replace(/\n/g,"\n\r"))+"\r\n\r\n"+Z});case 44:if("string"===typeof k){e.next=46;break}throw new Error("expected working directory files to be a string");case 46:return S=k.slice(0,-1).split("\0"),C=".:./target/dependency/*",e.next=50,(u=n).exec.apply(u,["javac","-classpath",C,"-d","."].concat(f(S)));case 50:if(T=e.sent,N=T.output,!(A=T.error)){e.next=57;break}return I="Failed to compile test runner file",p.captureSetupError({tag:I,raw:A}),e.abrupt("return",{error:"".concat(I,"\r\n\r\n")+(null===N||void 0===N?void 0:N.replace(/\n/g,"\n\r"))+"\r\n\r\n"+A});case 57:return d("Running your tests"),e.next=60,n.exec("java","-classpath",C,(0,c.Og)(p.testRunnerName()));case 60:if(O=e.sent,z=O.output,!(E=O.error)){e.next=66;break}return(0,o.j)(o.U3.REPL_UNIT_TEST_CONSTRUCTION_ERROR_INTERNAL),e.abrupt("return",{error:"Running tests failed\r\n\r\n"+(null===z||void 0===z?void 0:z.replace(/\n/g,"\n\r"))+"\r\n\r\n"+E});case 66:if("string"===typeof z){e.next=68;break}throw new Error("expected runOutput to be a string");case 68:return B=JSON.parse(z.slice(z.indexOf(m)+m.length,z.lastIndexOf(h))),e.abrupt("return",{result:B,error:null});case 70:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=p;function y(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){y(i,r,a,o,l,"next",e)}function l(e){y(i,r,a,o,l,"throw",e)}o(void 0)}))}}var w=function(e){return!!e&&e.trim().length>0&&e.split("\n").some((function(e){return!(e.trim().startsWith("#")||""===e.trim())}))},k={testRunnerName:function(){return"test_runner"},testSuiteName:function(){return"test_suite"},defaultImports:function(){return"import unittest\nfrom main import *\n"},classIntro:function(){return"class UnitTests(unittest.TestCase):"},classConstructorName:function(){return"__init__"},setupIntro:function(){return"def setUp(self):"},tearDownIntro:function(){return"def tearDown(self):"},testIntro:function(e){return k.testIntroPreName()+e+k.testIntroPostName()},testIntroPreName:function(){return"def test_"},testIntroPostName:function(){return"(self):"},getProperTestName:function(e){return"test_".concat(e)},parseTestResultName:function(e){return e},buildSuite:function(e){var t=e.tests,n=e.meta,r=new l(k);r.push(k.defaultImports()),n&&n.imports&&r.push(n.imports),r.newLine(),r.push(k.classIntro()),r.newLine(),r.indent(),n&&(n.initialization&&(r.push(n.initialization),r.newLine()),w(n.setup)&&(r.push(k.setupIntro()),r.indent(),r.push(n.setup),r.dedent(),r.newLine()),w(n.tearDown)&&(r.push(k.tearDownIntro()),r.indent(),r.push(n.tearDown),r.dedent(),r.newLine()));var a=!0,i=!1,o=void 0;try{for(var c,s=t[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var u=c.value;r.push(k.testIntro(u.name)),r.indent(),r.push(u.code||"pass"),r.dedent(),r.newLine()}}catch(d){i=!0,o=d}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}return r.toString()},runSuite:function(e){return C.apply(this,arguments)},buildAndRunTests:function(e){var t=e.container,n=e.fs,r=e.packager,a=e.logger,i=e.tests,o=e.meta,l=k.buildSuite({tests:i,meta:o});return k.runSuite({container:t,fs:n,packager:r,logger:a,suiteCode:l})},hasClosingBrackets:function(){return!1},getClosingBrackets:function(){throw new Error("This language does not have closing brackets, check `hasClosingBrackets` first")},hasSemicolon:function(){return!1},getCommentChar:function(){return"#"},getHelpText:function(){return"no react in this bitch"},captureSetupError:function(e){var t=e.tag,n=e.raw;i.$e((function(e){e.setTag("unitTestLib","true"),e.setExtra("raw",n),e.setExtra("language","python3"),i.Tb(t)}))},exampleTest:{id:-1,failureMessage:"In main.py you should have an add functions that adds two numbers and returns the result",name:"add",code:"self.assertEquals(add(1, 2), 3)"}},Z="__UNIT_TEST_RESULT_START__",j="__UNIT_TEST_RESULT_END__",S="import unittest\nimport ".concat((0,c.Og)(k.testSuiteName()),"\nimport os\nimport json\nfrom time import sleep\n\nsuite = unittest.TestLoader().loadTestsFromTestCase(\n  ").concat((0,c.Og)(k.testSuiteName()),'.UnitTests)\nf = open(os.devnull,"w")\ntest_res = unittest.TextTestRunner(stream=f).run(suite)\n\n# Merge errors and failures and normalize to {name, stack}\nfailures = [\n    {\n        "name": r[0]._testMethodName,\n        "stack": r[1],\n    } for r in test_res.errors + test_res.failures\n]\nprint()\nprint(\'').concat(Z,'\')\nsleep(1)\nprint(json.dumps({\n    "passed": test_res.wasSuccessful(),\n    "failures": failures,\n}))\nprint()\nprint(\'').concat(j,"');");function C(){return(C=x(a().mark((function e(t){var n,r,i,l,s,u,d,f,p,m,h,b,v,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.container,r=t.fs,i=t.packager,l=t.logger,s=t.suiteCode,u=l.startLogSpinner("Setting up the environment"),e.next=4,(0,c.WT)(r);case 4:return u("Creating your test files 1/2"),e.next=7,(0,c.e3)({fs:r,code:s,filename:"".concat(k.testSuiteName(),".py")});case 7:if(d=e.sent,!(f=d.error)){e.next=13;break}return"Failed to create suite code file",k.captureSetupError({tag:"Failed to create suite code file",raw:f}),e.abrupt("return",{error:"There was an error creating a test file, if this happens again, please contact support."});case 13:return u("Creating your test files 2/2"),e.next=16,(0,c.e3)({fs:r,code:S,filename:"".concat(k.testRunnerName(),".py")});case 16:if(p=e.sent,!(m=p.error)){e.next=22;break}return"Failed to create test runner file",k.captureSetupError({tag:"Failed to create test runner file",raw:m}),e.abrupt("return",{error:"There was an error creating a test file, if this happens again, please contact support."});case 22:return l.stopLogSpinner(),l.clearLine(),l.logMessage("Installing imported packages\r\n"),e.next=27,i.installPackages();case 27:if(e.sent){e.next=30;break}return e.abrupt("return",{error:"Failed to install packages\r\n"});case 30:return l.clearLogs(),l.startLogSpinner("Running your tests"),e.next=34,n.exec("python","-B",(0,c.Og)("".concat(k.testRunnerName(),".py")));case 34:if(h=e.sent,b=h.output,!(v=h.error)){e.next=40;break}return(0,o.j)(o.U3.REPL_UNIT_TEST_CONSTRUCTION_ERROR_INTERNAL),e.abrupt("return",{error:"Running tests failed\r\n\r\n"+(null===b||void 0===b?void 0:b.replace(/\n/g,"\n\r"))+"\r\n"+v});case 40:if("string"===typeof b){e.next=42;break}throw new Error("expected runoutput to be a string");case 42:return g=JSON.parse(b.slice(b.indexOf(Z)+Z.length,b.lastIndexOf(j))),e.abrupt("return",{result:g,error:null});case 44:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){T(i,r,a,o,l,"next",e)}function l(e){T(i,r,a,o,l,"throw",e)}o(void 0)}))}}var A={testRunnerName:function(){throw new Error("Node test runner uses jest directly")},testSuiteName:function(){return"test_suite"},defaultImports:function(){return"const index = require('./index.js');"},classIntro:function(){return'describe("UnitTests", function() {'},classConstructorName:function(){return null},setupIntro:function(){return"beforeAll(async function() {"},tearDownIntro:function(){return"afterAll(async function() {"},testIntro:function(e){return A.testIntroPreName()+e+A.testIntroPostName()},testIntroPreName:function(){return'test("'},testIntroPostName:function(){return'", async function() {'},getProperTestName:function(e){return e},parseTestResultName:function(e){return e},buildSuite:function(e){var t=e.tests,n=e.meta,r=new l(A);r.push(A.defaultImports()),n&&n.imports&&r.push(n.imports),r.newLine(),r.push(A.classIntro()),r.newLine(),r.indent(),n&&(n.initialization&&(r.push(n.initialization),r.newLine()),n.setup&&(r.push(A.setupIntro()),r.indent(),r.push(n.setup),r.dedent(),r.closeCurly(),r.newLine(),r.newLine()),n.tearDown&&(r.push(A.tearDownIntro()),r.indent(),r.push(n.tearDown),r.dedent(),r.closeCurly(),r.newLine(),r.newLine()));var a=!0,i=!1,o=void 0;try{for(var c,s=t[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var u=c.value;u.code&&(r.push(A.testIntro(u.name)),r.indent(),r.push(u.code),r.dedent(),r.closeCurly(),r.newLine(),r.newLine())}}catch(d){i=!0,o=d}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}return r.dedent(),r.closeCurly(),r.toString()},runSuite:function(e){return I.apply(this,arguments)},buildAndRunTests:function(e){var t=e.container,n=e.fs,r=e.packager,a=e.logger,i=e.tests,o=e.meta,l=A.buildSuite({tests:i,meta:o});return A.runSuite({container:t,fs:n,packager:r,logger:a,suiteCode:l})},hasClosingBrackets:function(){return!0},getClosingBrackets:function(){return"});"},hasSemicolon:function(){return!0},getCommentChar:function(){return"//"},getHelpText:function(){return"no react yet"},captureSetupError:function(e){var t=e.tag,n=e.raw;i.$e((function(e){e.setTag("unitTestLib","true"),e.setExtra("raw",n),e.setExtra("language","nodejs"),i.Tb(t)}))},exampleTest:{id:-1,failureMessage:"",name:"add",code:"expect(index.add(1, 2)).toBe(3);"}};function I(){return(I=N(a().mark((function e(t){var n,r,i,l,s,u,d,f,p,m,h,b,v,g,y,x,w,k,Z,j,S,C;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.container,r=t.fs,i=t.packager,l=t.logger,s=t.suiteCode,u=l.startLogSpinner("Setting up the environment"),e.next=4,(0,c.WT)(r);case 4:return u("Creating your test files 1/2"),e.next=7,(0,c.e3)({fs:r,code:s,filename:"".concat(A.testSuiteName(),".js")});case 7:if(d=e.sent,!(f=d.error)){e.next=13;break}return"Failed to create suite code file",A.captureSetupError({tag:"Failed to create suite code file",raw:f}),e.abrupt("return",{error:"There was an error creating a test file, if this happens again, please contact support."});case 13:return u("Creating your test files 2/2"),p=69,m="jest.config.json",h={testRegex:(0,c.Og)("".concat(A.testSuiteName(),".js")),testEnvironment:"node",testFailureExitCode:p},e.next=19,(0,c.e3)({fs:r,code:JSON.stringify(h),filename:m});case 19:if(b=e.sent,!(v=b.error)){e.next=25;break}return"Failed to create config file",A.captureSetupError({tag:"Failed to create config file",raw:v}),e.abrupt("return",{error:"There was an error creating a test file, if this happens again, please contact support."});case 25:return l.stopLogSpinner(),l.clearLine(),l.logMessage("Installing imported packages\r\n"),e.next=30,i.installPackages();case 30:if(e.sent){e.next=33;break}return e.abrupt("return",{error:"Failed to install packages\r\n"});case 33:return l.clearLogs(),u=l.startLogSpinner("Running your tests"),g=(0,c.Og)("output.json"),e.next=38,n.exec("jest","--json","--outputFile",g,"--config",(0,c.Og)(m),"--forceExit","--passWithNoTests");case 38:if(y=e.sent,x=y.output,!(w=y.error)||w.endsWith(p.toString())){e.next=44;break}return(0,o.j)(o.U3.REPL_UNIT_TEST_CONSTRUCTION_ERROR_INTERNAL),e.abrupt("return",{error:"Running tests failed\r\n\r\n"+(null===x||void 0===x?void 0:x.replace(/\n/g,"\n\r"))+"\r\n"+w});case 44:return u("Parsing your test results"),e.next=47,r.readFile(g);case 47:if(!(k=e.sent).error){e.next=52;break}return"Error reading test results",A.captureSetupError({tag:"Error reading test results",raw:k.error}),e.abrupt("return",{error:"There was an error getting test results, if this happens please contact support."});case 52:if(Z=k.content.toString(),!(j=JSON.parse(Z)).success){e.next=56;break}return e.abrupt("return",{error:null,result:{passed:!0,failures:[]}});case 56:if(S=j.testResults[0],(C=S.assertionResults.filter((function(e){return"passed"!==e.status})).map((function(e){return{name:e.title,stack:e.failureMessages[0]}}))).length){e.next=60;break}return e.abrupt("return",{error:S.message.replace(/\n/g,"\r\n")});case 60:return e.abrupt("return",{error:null,result:{passed:!1,failures:C}});case 61:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O={java10:g,java10_beta:g,java:g,python3:k,python3_beta:k,python:k,nodejs:A,javascript:A,nodejs_beta:A};function z(e){return e in O}function E(e){if(!z(e))throw new Error("".concat(e," is not a supported unit testing language, it has to be one of ").concat(Object.keys(O)));return O[e]}},92694:function(e,t,n){n.d(t,{Og:function(){return f},WT:function(){return h},e3:function(){return p}});var r=n(34051),a=n.n(r),i=n(92876),o=n(41045),l=n(46846),c=n(93770);function s(e,t,n,r,a,i,o){try{var l=e[i](o),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){s(i,r,a,o,l,"next",e)}function l(e){s(i,r,a,o,l,"throw",e)}o(void 0)}))}}var d="_test_runner";function f(e){return d+e}function p(e){return m.apply(this,arguments)}function m(){return(m=u(a().mark((function e(t){var n,r,i,o,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fs,r=t.code,i=t.filename,o=f(i),l=c.Z.from(r,"utf8"),e.abrupt("return",n.writeFile(o,l));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return b.apply(this,arguments)}function b(){return(b=u(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.readDir(o.Ql);case 3:if(!(n=e.sent).error){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,Promise.all(n.children.map((function(e){return e.filename.startsWith(d)?e.type===l.Tv.File?t.deleteFile(e.filename):t.deleteDir(e.filename):Promise.resolve(null)})));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),i.$e((function(t){t.setTag("unitTestLib","true"),i.Tb(e.t0)}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}},45620:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(85133),a=n(90361),i=n(30617),o=n(67294),l=n(72361);function c(){var e=(0,r.Z)(),t=(0,i.Z)().dotReplit,n=null===e||void 0===e?void 0:e.language,c=(0,o.useState)(null),s=c[0],u=c[1],d=(0,o.useState)(!0),f=d[0],p=d[1];return(0,o.useEffect)((function(){if(n){if((0,l.y)(n))return u(n),void p(!1);var e=!1,r=t.watch((function(t){var n,r;if(e||(e=!0,p(!1)),t.error)t.error===a.Yt.NotFound&&u(null);else{var i=null===(n=t.config.unitTest)||void 0===n||null===(r=n.language)||void 0===r?void 0:r.toLowerCase();i&&(0,l.y)(i)?u(i):u(null)}}));return function(){r()}}}),[n,t]),{language:s,isLoading:f}}},5289:function(e,t,n){var r=n(11163),a=n.n(r);t.Z=function(){return Boolean(a().query.embed||a().query.lite)}},98009:function(e,t,n){n.d(t,{Se:function(){return l},fK:function(){return i},kz:function(){return c}});var r=n(35944),a=n(67294);function i(e){var t=e.config;return{Icon:function(e){var n=e.pane,a=e.size,i=void 0===a?16:a,o=t[n.type].Icon;return(0,r.tZ)(o,{pane:n,size:i})},Content:function(e){var n=e.pane,a=e.options,i=t[n.type].Content;return(0,r.tZ)(i,{pane:n,options:a})},getTitle:function(e){return(0,t[e.type].getTitle)(e)},getActions:function(e){var n=t[e.type].getActions;if(n)return n(e)}}}var o=(0,a.createContext)(null);function l(){var e=(0,a.useContext)(o);if(!e)throw new Error("Expected PaneUI in context");return e}var c=o.Provider},98184:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(35944),a=n(79547),i=n.n(a),o=(n(67294),n(24561)),l=n(90039);function c(e){var t=e.preventHighlightBorder,n=(0,l.Z)();return(0,r.BX)("div",{className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])+" loader",children:[(0,r.tZ)("div",{className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])+" wrap",children:(0,r.BX)(o.ZP,{primaryColor:"var(--background-highest)",secondaryColor:"var(--background-higher)",uniquekey:"editorLoader",children:[(0,r.tZ)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"70",height:"10",className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"80",y:"0",rx:"3",ry:"3",width:"100",height:"10",className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"190",y:"0",rx:"3",ry:"3",width:"10",height:"10",className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"15",y:"20",rx:"3",ry:"3",width:"130",height:"10",className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"155",y:"20",rx:"3",ry:"3",width:"130",height:"10",className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"15",y:"40",rx:"3",ry:"3",width:"90",height:"10",className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"115",y:"40",rx:"3",ry:"3",width:"60",height:"10",className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"185",y:"40",rx:"3",ry:"3",width:"60",height:"10",className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"30",height:"10",className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"15",y:"80",rx:"3",ry:"3",width:"70",height:"10",className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"95",y:"80",rx:"3",ry:"3",width:"60",height:"10",className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"165",y:"80",rx:"3",ry:"3",width:"30",height:"10",className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"15",y:"100",rx:"3",ry:"3",width:"110",height:"10",className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"135",y:"100",rx:"3",ry:"3",width:"100",height:"10",className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])}),(0,r.tZ)("rect",{x:"0",y:"120",rx:"3",ry:"3",width:"70",height:"10",className:i().dynamic([["52913039492d7332",[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"]]])})]})}),(0,r.tZ)(i(),{id:"52913039492d7332",dynamic:[n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)"],children:".loader.__jsx-style-dynamic-selector{z-index:3;height:100%;width:100%;background-color:var(--background-default);overflow:hidden;padding:var(--space-16);-webkit-border-bottom-right-radius:var(--border-radius-4);-moz-border-radius-bottomright:var(--border-radius-4);border-bottom-right-radius:var(--border-radius-4);-webkit-border-bottom-left-radius:var(--border-radius-4);-moz-border-radius-bottomleft:var(--border-radius-4);border-bottom-left-radius:var(--border-radius-4);-webkit-box-shadow:".concat(n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)",";-moz-box-shadow:").concat(n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)",";box-shadow:").concat(n&&!t?"0 3px 0 3px ".concat(n):"var(--shadow-1)","}.wrap.__jsx-style-dynamic-selector{overflow:hidden}.wrap.__jsx-style-dynamic-selector>svg{max-width:640px;min-width:500px;height:auto}@media screen and (min-width:900px){.loader.__jsx-style-dynamic-selector{padding:30px}}")})]})}},51409:function(e,t,n){function r(e){var t=document.createElement("canvas"),n=t.getContext("2d");if(t.width=e.width,t.height=e.height,!n)throw new Error("failed to get canvas ctx");return{version:"1",width:e.width,height:e.height,palette:[[0,0,0,255],[255,255,255,255],[255,255,128,255],[255,128,255,255],[0,128,128,255],[128,0,255,255],[255,0,128,255],[0,255,255,255]],anims:{},frames:e.frames.map((function(r){var a=new window.ImageData(new Uint8ClampedArray(r.pixels),e.width,e.height);return n.putImageData(a,0,0),t.toDataURL()}))}}function a(e){return new Promise((function(t,n){var r=new window.Image;r.src=e,r.onload=function(){t(r)},r.onerror=n}))}function i(e){return new Promise((function(t,n){Promise.all(e.frames.map(a)).then((function(r){var a=document.createElement("canvas");a.width=e.width,a.height=e.height;var i=a.getContext("2d");if(i){var o=r.map((function(t){return i.drawImage(t,0,0),{pixels:Array.from(i.getImageData(0,0,e.width,e.height).data),width:e.width,height:e.height}}));t({frames:o,preview:e.frames[0],width:e.width,height:e.height})}else n(new Error("failed to get canvas ctx"))})).catch(n)}))}n.d(t,{C:function(){return r},u:function(){return i}})}}]);
//# sourceMappingURL=4989-ac72fa18cb8db661.js.map