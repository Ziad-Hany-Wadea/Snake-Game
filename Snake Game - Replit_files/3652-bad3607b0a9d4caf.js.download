"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3652],{27361:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(34051),a=t.n(r);function o(e,n,t,r,a,o,i){try{var u=e[o](i),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(r,a)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function u(e){o(i,r,a,u,c,"next",e)}function c(e){o(i,r,a,u,c,"throw",e)}u(void 0)}))}}function u(e){return c.apply(this,arguments)}function c(){return(c=i(a().mark((function e(n){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({args:["sh","-c","ls /home/runner/.nix-defexpr/channels | grep nixpkgs-"]});case 2:if((t=e.sent).output){e.next=5;break}return e.abrupt("return",[]);case 5:return r=t.output.trim().split("\n").map((function(e){return{title:e,value:e.replace("nixpkgs-","")}})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},52242:function(e,n,t){t.d(n,{g:function(){return f}});var r=t(35944),a=t(67294),o=t(91131),i=t(54929),u=t(49474),c=t(23139),l=t(20950),f=(0,o.cn)(!1);function p(){return(0,o.Dv)(f)?(0,r.tZ)(u.Z,{children:(0,r.tZ)(i.Z,{css:[c.l0.position.fixed,c.l0.flex.row,c.l0.align.center,c.l0.justify.center,c.l0.backgroundColor.backgroundOverlay,{top:0,bottom:0,left:0,right:0,zIndex:5e5,cursor:"not-allowed"}],children:(0,r.tZ)(l.SpinnerModal,{reason:"Importing"})})}):null}n.Z=(0,a.memo)(p)},88229:function(e,n,t){t.d(n,{F:function(){return B},Z:function(){return N}});var r=t(34051),a=t.n(r),o=t(35944),i=t(67294),u=t(30617),c=t(91131),l=t(88768),f=t(80357),p=t(5560),s=t(77998),d=t(53818),v=t(47865),h=t(36793),g=t(11938),y=t(52242),m=t(55912),b=t(38880),x=t(21644),w=t(46846),k=t(3204),I=t(66168),E=t(27361),S=t(41045),A=t(11717),O=t(38848),T=t(91272),P=t(25659),Z=t(87689);function R(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function C(e,n,t,r,a,o,i){try{var u=e[o](i),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(r,a)}function D(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function i(e){C(o,r,a,i,u,"next",e)}function u(e){C(o,r,a,i,u,"throw",e)}i(void 0)}))}}function j(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){j(e,n,t[n])}))}return e}function F(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return R(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return R(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(){var e=(0,h.Z)().preferences,n=(0,A.VV)(),t=(0,c.b9)(v.MG),r=(0,c.b9)(O._N);B({insertConfigPlugin:n?function(){return r("config")}:function(){return t({pane:{type:"config"},match:function(e){return"config"===e.data.type},insertTrys:[{placement:e.isLayoutStacked?"rightOf":"above",match:function(n){var t=n.data;return e.isLayoutStacked?"codeEditor"===t.type:(0,I.oq)(t.type)}}]})},setConfigScreenLockIsOpen:(0,c.b9)(y.g)})}function B(e){var n=e.insertConfigPlugin,t=e.setConfigScreenLockIsOpen,r=(0,p.Z)(),c=F((0,l.q$D)(),2),v=c[0],h=c[1],y=(0,u.Z)(),I=y.container,A=y.fs,O=y.runner,R=y.dotReplit,C=y.session,j=(0,d.Z)(I),N=(0,b.Z)(),B=N.showNotice,L=N.showError,M=N.showConfirm;(0,i.useEffect)((function(){h.error&&L("Failed to finish cloning Repl - "+h.error)}),[h.error]),(0,i.useEffect)((function(){h.data&&M("Finished cloning Repl")}),[h.data]),(0,i.useEffect)((function(){z()}),[]);var _=F((0,l.$6N)({variables:{replId:r},fetchPolicy:"no-cache",onCompleted:function(){var e=D(a().mark((function e(n){var t,r,o,i,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.repl,r=n.currentUser,"Repl"===t.__typename&&r&&"CurrentUser"===r.__typename){e.next=4;break}return e.abrupt("return");case 4:if(t.config.gitRemoteUrl){e.next=6;break}return e.abrupt("return");case 6:if(t.config.doClone){e.next=8;break}return e.abrupt("return");case 8:ae({remote:null!==(i=t.config.gitRemoteUrl)&&void 0!==i?i:"",accessToken:null!==(u=null===(o=r.gitHubInfo)||void 0===o?void 0:o.accessToken)&&void 0!==u?u:null,username:r.username});case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}),1),z=_[0],U={isInitialized:!1,hasConflictsWithFetchedRemote:!1,hasMergeBaseWithFetchedRemote:!0,authError:f.l4.NONE,badState:f.$U.None,remote:"",repoId:null,branch:"",defaultBranch:"main",branches:[],installations:[],changedFiles:[],commits:[],commitsAhead:null,commitsBehind:null,remoteToken:null,gitHubName:null,ownerId:null,gitHubAvatarUrl:null,gitHubEmail:null},V=function(){var e=D(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({args:s.D6.format(U,null!==n&&void 0!==n?n:"")});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),K=function(){var e=D(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({args:s.M7.format(U,n)});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),H=function(){var e=D(a().mark((function e(){var n,t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({args:s.LO.format(U)});case 2:if(n=e.sent,s.LO.parse){e.next=5;break}return e.abrupt("return");case 5:return t=s.LO.parse(U,null===n.error?n.output:""),r=t.remote,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=D(a().mark((function e(n){var t,r,o,i,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.remote,r=n.remoteToken,e.next=3,j({args:s.Di.format(G({},U,{remote:t,remoteToken:r}))});case 3:if(o=e.sent,s.Di.parse){e.next=6;break}return e.abrupt("return");case 6:return i=s.Di.parse(U,null===o.error?o.output:"HEAD branch: main"),u=i.defaultBranch,e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$=function(){var e=D(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({args:s.lR.format(G({},U,{defaultBranch:n}))});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),X=function(){var e=D(a().mark((function e(n){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.remote,r=n.remoteToken,e.next=3,Y();case 3:return e.next=5,H();case 5:return e.next=7,q({deepen:!0,remote:t,remoteToken:r});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Y=function(){var e=D(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({args:s.GE.format(U)});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=D(a().mark((function e(n){var t,r,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.deepen,r=void 0!==t&&t,o=n.remote,i=n.remoteToken,!o.startsWith("https://api.glitch.com")){e.next=5;break}return e.next=4,j({args:["git","fetch",o,"+refs/heads/*:refs/remotes/origin/*"]});case 4:return e.abrupt("return");case 5:return e.next=7,j({args:s.he.format(G({},U,{remote:o,remoteToken:i}),r)});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),J=function(){var e=D(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.Z)(j);case 2:return n=e.sent,t=n.map((function(e){return e.value})).filter((function(e){return"unstable"!==e})).reduce((function(e,n){return e>n?e:n}),""),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=D(a().mark((function e(){var n,t,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,R.getConfig();case 3:if(!(t=e.sent).error&&t.config){e.next=6;break}return e.abrupt("return");case 6:return r=null===(n=t.config.nix)||void 0===n?void 0:n.channel,e.next=9,J();case 9:if(i=e.sent,r){e.next=15;break}return e.next=13,R.updateDotReplit([(0,x.cU)(i)]);case 13:e.sent.error||B((0,o.BX)("p",{css:[k.l0.color.foregroundDefault],children:['A Nix channel was not detected in your imported .replit file but is required for all Nix Repls. The latest stable Nix channel "',i,'" was automatically added to your .replit file.']}),1e4);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=D(a().mark((function e(){var n,t,r,o,i,u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,A.readDir(S.Ql);case 3:if(!(o=e.sent).error){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,R.getConfig();case 8:if(i=e.sent,!(null===(n=i.config)||void 0===n||null===(t=n.gitHubImport)||void 0===t?void 0:t.requiredFiles)){e.next=16;break}return u=i.config.gitHubImport.requiredFiles,c=u.map((function(e){return new RegExp(e)})),e.next=14,Promise.all(o.children.filter((function(e){return!c.some((function(n){return n.test(e.filename)}))})).map((function(e){return e.type===w.Tv.Directory?A.deleteDir(e.filename):A.deleteFile(e.filename)})));case 14:e.next=19;break;case 16:if(!(null===(r=i.config)||void 0===r?void 0:r.entrypoint)){e.next=19;break}return e.next=19,A.deleteFile(i.config.entrypoint);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=D(a().mark((function e(n,t,r){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(r);case 2:return e.next=4,K(n);case 4:return e.next=6,H();case 6:return e.next=8,q({deepen:!1,remote:n,remoteToken:t});case 8:return e.next=10,W({remote:n,remoteToken:t});case 10:return o=e.sent,e.next=13,$(null!==o&&void 0!==o?o:"");case 13:return e.next=15,X({remote:n,remoteToken:t});case 15:if("html"!==O.mode){e.next=20;break}return e.next=18,(0,m.rJ)(I);case 18:return e.next=20,O.run();case 20:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),te=function(){var e=D(a().mark((function e(){var n,t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.readDir(S.Ql);case 2:if(!(n=e.sent).error){e.next=5;break}return e.abrupt("return");case 5:t=n.children.map((function(e){return e.filename})),(r=(0,T.T)(t,"nix"))&&C.openFile(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=D(a().mark((function e(n,t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,P.J9)({repoNameWithOwner:n,accessToken:t});case 2:if(!("error"in(r=e.sent))){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",r.some((function(e){return e.path===g.l})));case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ae=function(){var e=D(a().mark((function e(i){var u,c,l,f,p,s,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=i.remote,c=i.accessToken,l=i.username,t(!0),e.next=4,ee();case 4:return e.next=6,ne(u,c,l);case 6:return e.next=8,Q();case 8:return e.next=10,v({variables:{input:{id:r,doClone:!1}}});case 10:return e.next=12,te();case 12:if(f=(0,Z.J)(u),p=!1,!f||!c){e.next=19;break}return s=f.username,d=f.repository,e.next=18,re("".concat(s,"/").concat(d),c);case 18:p=e.sent;case 19:if(t(!1),"html"!==O.mode){e.next=22;break}return e.abrupt("return");case 22:if(!p){e.next=25;break}return B((0,o.BX)("p",{css:[k.l0.color.foregroundDefault],children:["A .replit file was detected in your repository. Learn more about how to configure your Repl"," ",(0,o.tZ)("a",{href:"https://docs.replit.com/programming-ide/configuring-repl",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]}),1e4),e.abrupt("return");case 25:n();case 26:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}},23880:function(e,n,t){t.d(n,{Tu:function(){return c},mZ:function(){return o}});var r=t(84637),a=t(40383);function o(e,n){if(n.isFloating)e.floating.push({type:"floatingPaneGroup",panes:n.panes,activeIndex:n.activeIndex||0,rect:n.rect});else{var t=null;if(Array.isArray(n.relativeTo))t=n.relativeTo;else t=(0,r.R)(e,n.relativeTo).paneGroupPath;if(null===t)throw new Error("Expected relativeTo");if("tiling"!==t[0])throw new Error("Expected tiling path");var o=n.placement,u=n.panes,c=n.percent,l=n.activeIndex,f="above"===o||"below"===o,p="rightOf"===o||"below"===o;if(e.tiling||1!==t.length){if(!e.tiling)throw new Error("Expected tiling");var s=(0,r.K)(e,t);if(!s||!(0,a.r)(s))throw new Error("Expected tiled node");if(1!==t.length||"replace"!==o){if(1===t.length&&"paneGroup"===e.tiling.type){var d=[e.tiling];return e.tiling={type:"split",percent:100,stacked:f,children:d},void i({insertIndex:p?1:0,panes:u,children:d,percent:c})}if(1===t.length&&"split"===e.tiling.type){if(Boolean(e.tiling.stacked)===Boolean(f))return void i({panes:u,percent:c,insertIndex:p?e.tiling.children.length:0,children:e.tiling.children});var v={panes:u,type:"paneGroup",percent:void 0===c?50:c,activeIndex:void 0===l?0:l},h=p?[s,v]:[v,s];return s.percent=100-v.percent,void(e.tiling={type:"split",stacked:f,children:h,percent:100})}if(0===t.length)throw new Error("Expected relativeTo length");var g=(0,r.K)(e,(0,a.I)(t));if("split"!==(null===g||void 0===g?void 0:g.type))throw new Error("Expected split parent");if("replace"!==o)if(Boolean(g.stacked)!==Boolean(f))if(Boolean(g.stacked)===Boolean(f));else{var y={panes:u,type:"paneGroup",percent:void 0===c?50:c,activeIndex:void 0===l?0:l},m=p?[s,y]:[y,s],b=s.percent;s.percent=100-y.percent;var x=g.children.indexOf(s);g.children[x]={type:"split",stacked:f,children:m,percent:b}}else{var w=g.children.indexOf(s);i({panes:u,percent:c,insertIndex:p?w+1:w,children:g.children})}else{var k=g.children.indexOf(s);g.children.splice(k,1,{panes:u,percent:s.percent,type:"paneGroup",activeIndex:void 0===l?0:l})}}else e.tiling={type:"paneGroup",percent:100,panes:u,activeIndex:void 0===l?0:l}}else e.tiling={type:"paneGroup",percent:100,panes:u,activeIndex:0}}}function i(e){var n=e.percent,t=e.children,r=e.panes,a=e.insertIndex;if(void 0===n){var o=t.reduce((function(e,n){return e+n.percent}),0)/t.length,i=100/(100+o);t.forEach((function(e){e.percent=e.percent*i}));var u={panes:r,type:"paneGroup",percent:o*i,activeIndex:0};t.splice(a,0,u)}else{var c=(100-n)/100;t.forEach((function(e){e.percent=e.percent*c}));var l={panes:r,type:"paneGroup",percent:n,activeIndex:0};t.splice(a,0,l)}}function u(e,n){var t=n.index,r=n.paneId,a=n.activate,o=void 0===a||a;if(void 0!==t&&t>e.panes.length)throw new Error("Invalid index");var i=void 0===t?e.panes.length:t;e.panes.splice(i,0,r),o&&(e.activeIndex=i)}function c(e,n){if("floating"!==n.paneGroupPath[0]){var t=(0,r.K)(e,n.paneGroupPath);if("paneGroup"!==(null===t||void 0===t?void 0:t.type))throw new Error("Expected paneGroup");u(t,n)}else{var a=n.paneGroupPath[1];if("number"!==typeof a)throw new Error("Expected floatingIndex");var o=e.floating[a];if(!o)throw new Error("Expected paneGroup");u(o,n)}}},5031:function(e,n,t){t.d(n,{Z:function(){return v},i:function(){return d}});var r=t(84637),a=t(40383);function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function u(e){if(Array.isArray(e))return e}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,n){return u(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,n)||p(e,n)||c()}function f(e){return u(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e,i)||c()}function p(e,n){if(e){if("string"===typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}}function s(e,n){e.panes.splice(n,1),0!==e.activeIndex&&(n>e.activeIndex||(e.activeIndex=e.activeIndex-1))}function d(e,n){var t=(0,r.R)(e,n);if(t.floating)if(1===t.paneGroup.panes.length){var a=t.paneGroupPath[1];if("number"!==typeof a)throw new Error("Expected floatingIndex");v(e,["floating",a])}else s(t.paneGroup,t.index);else{var o=t.paneGroup,i=t.paneGroupPath,u=t.parent;if(!o)throw new Error("paneGroup eith paneId not found: "+n);var c=o.panes.indexOf(n);if(-1===c)throw new Error("Expected paneIndex");u||1!==o.panes.length?o.panes.length>1?s(o,c):v(e,i):e.tiling=null}}function v(e,n){var t=f(n),o=t[0],i=t.slice(1);if("tiling"!==o||0!==i.length)if("floating"!==o||0!==i.length){var u=(0,r.K)(e,n);if(!u)throw new Error("Expected node");if("floatingPaneGroup"!==u.type){var c=(0,a.I)(n),p=(0,r.K)(e,c);if("split"!==(null===p||void 0===p?void 0:p.type))throw new Error("Expected split");var s=p.children.indexOf(u);if(-1===s)throw new Error("Expected paneGroupIndex");var d=p.children;if(d.splice(s,1),d.length>1){var v=100/d.reduce((function(e,n){return e+n.percent}),0);d.forEach((function(e){e.percent=e.percent*v}))}else{var h=l(d,1)[0],g=c.length>1?(0,r.K)(e,(0,a.I)(c)):null;if(!g)return h.percent=100,void(e.tiling=h);if("split"!==g.type)throw new Error("Expected split");var y=g.children.indexOf(p);if(-1===y)throw new Error("Expected parentIndex");h.percent=p.percent,g.children[y]=h}}else{var m=e.floating.indexOf(u);if(-1===m)throw new Error("Expected paneGroupIndex");e.floating.splice(m,1)}}else e.floating=[];else e.tiling=null}},21843:function(e,n,t){t.d(n,{C$:function(){return f},Cb:function(){return s},XD:function(){return l},gM:function(){return c},gr:function(){return p},h$:function(){return u}});var r=t(91131),a=t(29632),o=t(84637),i=t(90544),u=(0,r.cn)(!1),c=(0,r.cn)(!1),l=(0,r.cn)((function(e){return e(c)?"webview":"runnerOutput"})),f=(0,r.cn)((function(e){var n=e(l);return e(a.Eh).find((function(t){return e(t.data).type===n}))})),p=(0,r.cn)((function(e){var n=e(u),t=e(i.T5);return n?["tiling",t?1:0,0]:["tiling",t?1:0]})),s=(0,r.cn)((function(e){var n=e(u),t=e(i.T5),r=n?["tiling",t?1:0,1]:["tiling",t?2:1],c=e(a.g4),l=(0,o.K)(c,r);return"split"===(null===l||void 0===l?void 0:l.type)&&r.push(l.children.length-1),r}))},47865:function(e,n,t){t.d(n,{MG:function(){return m},g2:function(){return y},zx:function(){return b},$r:function(){return g},vN:function(){return h}});var r=t(91131),a=t(18172),o=t(71171),i=t.n(o),u=t(29632),c=t(83964),l=t(5031),f=t(23880),p=t(84637),s=t(40383);var d=t(3943);function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var h=(0,r.cn)(null,(function(e,n,t){n(e((0,u.z)(t.paneId)).data,t.data),t.makeActive&&(n(u.W1,{paneId:t.paneId}),n(d.Mb))})),g=(0,r.cn)(null,(function(e,n,t){var r=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){v(e,n,t[n])}))}return e}({},e(u.V1));delete r[t],n(u.V1,r);var o=e(u.g4),i=(0,a.ZP)(o,(function(e){(0,l.i)(e,t)}));n(u.YF,i),n(d.Mb)})),y=(0,r.cn)(null,(function(e,n,t){var r=e(u.g4),o=i()(),c=(0,a.ZP)(r,(function(e){(0,f.mZ)(e,{panes:[o],relativeTo:t.relativeTo||["tiling"],placement:t.placement,percent:t.percent})}));n(u.YF,c),n(d.Mb),n(e((0,u.z)(o)).data,t.pane),t.makeActive&&n(u.W1,{paneId:o})})),m=(0,r.cn)(null,(function(e,n,t){var r={};e(u.Eh).forEach((function(n){r[n.paneId]=e(n.data)}));var a=(0,c.kA)({paneData:r},t.match);if(a)n(h,{paneId:a.paneId,data:t.pane});else if(e(u.Eh).some((function(e){return"tile"===e.type}))){var o=!0,i=!1,l=void 0;try{for(var f,p=t.insertTrys[Symbol.iterator]();!(o=(f=p.next()).done);o=!0){var s=f.value,d=(0,c.kA)({paneData:r},s.match);if(d)return"replace"===s.placement?void n(h,{paneId:d.paneId,data:t.pane,makeActive:Boolean(s.makeActive)}):void n(y,{pane:t.pane,percent:s.percent,relativeTo:d.paneId,placement:s.placement,makeActive:Boolean(s.makeActive)})}}catch(v){i=!0,l=v}finally{try{o||null==p.return||p.return()}finally{if(i)throw l}}n(y,{pane:t.pane,placement:"rightOf",makeActive:!0,relativeTo:["tiling"]})}else n(y,{pane:t.pane,placement:"replace",makeActive:!0})})),b=((0,r.cn)(null,(function(e,n,t){var r=t.a,o=t.b,i=e(u.g4),c=(0,a.ZP)(i,(function(e){!function(e,n){var t=n.a,r=n.b,a=(0,s.I)(t),o=(0,p.K)(e,a);if("split"!==(null===o||void 0===o?void 0:o.type))throw new Error("Expected splitNode");var i=(0,p.K)(e,t);if(!i||!(0,s.r)(i))throw new Error("Expected nodeA");var u=(0,p.K)(e,r);if(!u||!(0,s.r)(u))throw new Error("Expected nodeB");var c=o.children.indexOf(i),l=o.children.indexOf(u);if(1!==Math.abs(c-l))throw new Error("Expected adjacent indexes");o.children[c]=u,o.children[l]=i}(e,{a:r,b:o})}));n(u.YF,c),n(d.Mb)})),(0,r.cn)(null,(function(e,n,t){var r=e((0,u.z)(t.fromPaneId));if(r.isDialog){n(g,r.paneId);var a=e(u.Eh).some((function(e){return"tile"===e.type}));n(y,a?{pane:t.data,placement:"leftOf",makeActive:!0}:{pane:t.data,placement:"replace",makeActive:!0})}else n(h,{paneId:t.fromPaneId,data:t.data,makeActive:!0})})))},3943:function(e,n,t){t.d(n,{Mb:function(){return p},O4:function(){return d},sq:function(){return v}});var r=t(29632),a=t(91131),o=t(88768),i=t(87152),u=t(34503);function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=(0,a.cn)((function(e){var n=e(r.g4),t={};return e(r.Eh).forEach((function(n){t[n.paneId]=e(n.data)})),{layout:n,data:t}})),p=(0,a.cn)(null,(function(e){if(e(r.nJ)&&e(u.H).flagSaveLayoutState){var n=e(f),t=e(s);if(t){var a={replId:t,state:n};null===i.l||void 0===i.l||i.l.mutate({mutation:o.R6j,variables:{input:a}})}}})),s=(0,a.cn)(null),d=(0,a.cn)(!1),v=(0,a.cn)(null,(function(e,n,t){n(s,t.replId),Object.entries(t.data).forEach((function(t){var a=l(t,2),o=a[0],i=a[1],u=e((0,r.z)(o));n(u.data,i)})),n(r.YF,t.layout),n(d,t.isSavedLayout)}))},90544:function(e,n,t){t.d(n,{Dn:function(){return f},T5:function(){return y},Wp:function(){return v},jw:function(){return g},nv:function(){return p},sz:function(){return s},ye:function(){return h},zN:function(){return d}});var r=t(91131),a=t(29632),o=t(47865);function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,n)||l(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){if(e){if("string"===typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,n):void 0}}var f=["tutorial","kaboombar","filetree","git","packager","envEditor","debugger","database","autograder","unitTests","education","preferences","adminPanel"],p=(0,r.cn)([]),s=(0,r.cn)((function(e){var n=e(y);return n&&f.includes(n.type)?n.type:null})),d=(0,r.cn)(null,(function(e,n,t){var r=e(y);r?r.type!==t?n(o.vN,{paneId:r.paneId,data:{type:t}}):n(o.$r,r.paneId):n(o.g2,{pane:{type:t},percent:20,placement:"leftOf",makeActive:!1})})),v=(0,r.cn)(null,(function(e,n,t){var r=e(y);r?n(o.vN,{paneId:r.paneId,data:{type:t}}):n(o.g2,{pane:{type:t},percent:20,placement:"leftOf",makeActive:!1})})),h=(0,r.cn)(null,(function(e,n,t){var r=e(p);r.some((function(e){return e.type===t.type}))||n(p,f.reduce((function(e,n){if(t.type===n)return c(e).concat([t]);var a=r.find((function(e){return e.type===n}));return a?c(e).concat([a]):e}),[]))})),g=(0,r.cn)(null,(function(e,n,t){var r=e(p),a=r.filter((function(e){return e.type!==t}));a.length!==r.length&&n(p,a)})),y=(0,r.cn)((function(e){var n=e(a.g4);if(!n.tiling)return null;if("split"!==n.tiling.type)return null;if(n.tiling.stacked)return null;var t=u(n.tiling.children,1)[0];if("paneGroup"!==t.type)return null;var r=e(a.Eh).find((function(e){return e.paneId===t.panes[0]}));if(!r)return null;var o=e(r.data).type;return f.some((function(e){return e===o}))?{paneId:r.paneId,type:o}:null}));(0,r.cn)((function(e){return Boolean(e(y))}))},38848:function(e,n,t){t.d(n,{$1:function(){return P},d6:function(){return R},bg:function(){return Z},PC:function(){return T},M4:function(){return O},Et:function(){return S},_N:function(){return I},c:function(){return D},a4:function(){return G},SG:function(){return A},Up:function(){return C},ao:function(){return E},im:function(){return w},Ky:function(){return k},Oe:function(){return b},qi:function(){return x}});var r=t(46846),a=t(71171),o=t.n(a),i=t(18172),u=t(91131),c=t(23880),l=t(84637);var f=t(29632),p=t(5031),s=t(47865),d=t(21843),v=t(11938),h=t(66168),g=t(34503),y=t(83964),m=t(3943),b=(0,u.cn)(null,(function(e,n,t){var r=e(f.g4),a=(0,i.ZP)(r,(function(e){!function(e,n){var t=(0,l.R)(e,n).paneGroup;if(!t)throw new Error("Expected pane group");var r=t.panes.indexOf(n);if(-1===r)throw new Error("Expected index");t.activeIndex=r}(e,t)}));n(f.YF,a),n(m.Mb),n(f.W1,{paneId:t})})),x=(0,u.cn)(null,(function(e,n,t){var r={};e(f.Eh).forEach((function(n){r[n.paneId]=e(n.data)}));var a=e(f.g4),u=e(d.gr),p=(0,l.K)(a,u);if("paneGroup"!==(null===p||void 0===p?void 0:p.type))throw new Error("Expect pane group");var s=p.panes,y=p.activeIndex,b=s[y],x=null,w=(0,i.ZP)(a,(function(a){var i={};if(s.forEach((function(e){var n=r[e],t="data"in n?n.data.path:v.l;i[t||""]=e})),0===t.openFiles.length){var l=e((0,f.z)(b));return n(l.data,{type:"codeEditor",data:{path:""}}),void(0,c.mZ)(a,{placement:"replace",relativeTo:u,panes:[b]})}var p=[];t.openFiles.forEach((function(t){if(i[t])p.push(i[t]);else{var r=e(g.H).flagVisualDotReplitEditor,a={type:(0,h.Dp)({path:t,visualDotReplitEditorEnabled:r}),data:{path:t}},u=o()(),c=e((0,f.z)(u));n(c.data,a),p.push(u)}})),x=p[t.activeTab],(0,c.mZ)(a,{placement:"replace",relativeTo:u,panes:p,activeIndex:t.activeTab})}));n(f.YF,w),n(m.Mb),null!==x&&n(f.W1,{paneId:x})})),w=(0,u.cn)(null,(function(e,n){var t=e(d.Cb),r=e(d.C$);if(r)n(b,r.paneId);else{var a=e(d.XD);n(S,{paneGroupPath:t,index:0,pane:{type:a}})}})),k=(0,u.cn)(null,(function(e,n,t){var r=e(f.Eh).find((function(n){return e(n.data).type===t.type}));if(r)n(b,r.paneId);else{var a=e(d.Cb),o=e(f.g4),i=(0,l.K)(o,a);if("paneGroup"===(null===i||void 0===i?void 0:i.type)){var u=i.panes.length;n(S,{paneGroupPath:a,index:u,pane:t})}}})),I=(0,u.cn)(null,(function(e,n,t){if(!e(f.Eh).find((function(n){return e(n.data).type===t}))){var r=e(d.h$),a=e(d.Cb);n(s.g2,{pane:{type:t},placement:r?"leftOf":"above",relativeTo:a,makeActive:!1})}})),E=(0,u.cn)(null,(function(e,n,t){var r=e(f.Eh).find((function(n){return e(n.data).type===t.type}));if(r){var a=e(f.g4),o=(0,i.ZP)(a,(function(e){(0,p.i)(e,r.paneId)}));n(f.YF,o),n(m.Mb)}})),S=(0,u.cn)(null,(function(e,n,t){var r=e(f.g4),a=o()(),u=(0,i.ZP)(r,(function(e){(0,c.Tu)(e,{paneId:a,activate:t.activate,paneGroupPath:t.paneGroupPath,index:t.index})}));n(f.YF,u),n(e((0,f.z)(a)).data,t.pane),t.activate&&(n(f.W1,{paneId:a}),n(m.Mb))})),A=(0,u.cn)(null,(function(e,n,t){var r=e(f.g4),a=(0,i.ZP)(r,(function(e){var n=(0,l.R)(e,t.paneId);if("paneGroup"!==n.paneGroup.type)throw new Error("Expected paneGroup");var r=(0,l.K)(e,t.toPaneGroupPath);if("paneGroup"!==(null===r||void 0===r?void 0:r.type))throw new Error("Expected toPaneGroup");var a=1===n.paneGroup.panes.length,i=!r.panes.includes(t.paneId);a&&!i||(a&&i&&(0,c.Tu)(e,{paneId:o()(),activate:!1,paneGroupPath:n.paneGroupPath}),(0,p.i)(e,t.paneId),(0,c.Tu)(e,{paneId:t.paneId,paneGroupPath:t.toPaneGroupPath,index:t.index}))}));n(f.YF,a),n(m.Mb)})),O=((0,u.cn)(null,(function(e,n,t){var r=e(f.g4),a=(0,i.ZP)(r,(function(e){var n=(0,l.R)(e,t.paneToReplace),r=n.index===n.paneGroup.activeIndex;(0,c.Tu)(e,{paneGroupPath:n.paneGroupPath,paneId:t.paneId,index:n.index,activate:r}),(0,p.i)(e,t.paneToReplace)}));n(f.YF,a),n(m.Mb)})),(0,u.cn)((function(e){return e(f.Eh).some((function(n){return"webview"===e(n.data).type}))}))),T=(0,u.cn)((function(e){return e(f.Eh).some((function(n){return"vnc"===e(n.data).type}))})),P=(0,u.cn)((function(e){return e(f.Eh).some((function(n){return"runnerOutput"===e(n.data).type}))})),Z=(0,u.cn)((function(e){return e(f.Eh).some((function(n){return"markdown"===e(n.data).type}))})),R=(0,u.cn)((function(e){return e(f.Eh).some((function(n){return"docs"===e(n.data).type}))})),C=(0,u.cn)(null,(function(e,n,t){var r=t.path,a=t.col,o=t.line,i=e(f.Eh).find((function(n){var t=e(n.data);return!!(0,h.KM)(t)&&r===(0,y.pC)(t)}));if(!i||t.newTab){var u=e(d.gr),c=e(g.H).flagVisualDotReplitEditor,p=(0,h.Dp)({path:r,visualDotReplitEditorEnabled:c}),v="codeEditor"===p?{type:p,data:{path:r,col:a,line:o}}:{type:p,data:{path:r}},m=(0,l.K)(e(f.g4),u);if("paneGroup"!==(null===m||void 0===m?void 0:m.type))throw new Error("Expected paneGroup");var x=(0,f.z)(m.panes[m.activeIndex]),w=e(x),k=e(w.data);t.newTab||!(0,h.KM)(k)&&"commands"!==k.type?n(S,{pane:v,paneGroupPath:u,activate:!0,index:m.activeIndex+1}):n(s.vN,{paneId:w.paneId,data:v,makeActive:!0})}else n(b,i.paneId)})),D=(0,u.cn)(!1),j=(0,u.cn)(null,(function(e,n,t){var r=e(f.S6).map((function(n){return{paneId:n.paneId,path:(0,y.pC)(e(n.data))}})).filter((function(e){return t===e.path})),a=[],o=e(f.g4),u=(0,i.ZP)(o,(function(e){var n=!0,t=!1,o=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var c=i.value.paneId,f=(0,l.R)(e,c);!f.floating&&1===f.paneGroup.panes.length?a.push(c):(0,p.i)(e,c)}}catch(s){t=!0,o=s}finally{try{n||null==u.return||u.return()}finally{if(t)throw o}}})),c=!0,d=!1,v=void 0;try{for(var h,g=a[Symbol.iterator]();!(c=(h=g.next()).done);c=!0){var m=h.value;n(s.vN,{paneId:m,data:{type:"commands",data:{autoFocus:!1}}})}}catch(S){d=!0,v=S}finally{try{c||null==g.return||g.return()}finally{if(d)throw v}}var b=!0,x=!1,w=void 0;try{for(var k,I=r[Symbol.iterator]();!(b=(k=I.next()).done);b=!0){var E=k.value;E.path&&n(f.jM,E.path)}}catch(S){x=!0,w=S}finally{try{b||null==I.return||I.return()}finally{if(x)throw w}}n(f.YF,u)})),G=(0,u.cn)(null,(function(e,n,t){var a=t.node.path;if(t.eventType!==r.kS.Delete){var o=e(f.S6).filter((function(n){return(0,y.pC)(e(n.data))===a})),i=e(g.H).flagVisualDotReplitEditor,u={type:(0,h.Dp)({path:t.to,visualDotReplitEditorEnabled:i}),data:{path:t.to}},c=!0,l=!1,p=void 0;try{for(var d,v=o[Symbol.iterator]();!(c=(d=v.next()).done);c=!0){var m=d.value.paneId;n(s.vN,{paneId:m,data:u})}}catch(b){l=!0,p=b}finally{try{c||null==v.return||v.return()}finally{if(l)throw p}}n(f.MI,{from:a,to:t.to})}else n(j,a)}))},57337:function(e,n,t){t.d(n,{L:function(){return S},Z:function(){return A}});var r,a=t(35944),o=t(67294),i=t(88768),u=t(56834),c=t(5560),l=t(21217),f=t(3204),p=t(54929),s=t(1517),d=t(85567),v=t(23139),h=t(70917),g=t(44054),y=t(17825),m=t(87349),b=t(92944);function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function w(e){switch(e.runState){case l.A.IDLE:return(0,a.tZ)(m.Z,{size:16});case l.A.RUNNING:return(0,a.tZ)(b.Z,{size:16});default:return(0,a.tZ)(s.Z,{size:16})}}var k=(x(r={},l.A.IDLE,"Run"),x(r,l.A.RUNNING,"Stop"),x(r,l.A.STOPPING,"Stopping"),x(r,l.A.OFFLINE,"Working"),r),I=(0,h.iv)([f.l0.py(12),f.l0.width(60),f.l0.flex.row,f.l0.center,f.l0.borderRadius(8),f.l0.backgroundColor.accentPositiveDimmest,f.l0.color.accentPositiveStronger,f.l0.cursor.pointer,x({transition:"color 0.2s ease 0s, background-color 0.2s ease 0s",border:"1px solid",borderColor:f.TV.accentPositiveDimmest,lineHeight:1,outline:"0 none","&:hover":[{color:"white"},f.l0.backgroundColor.accentPositiveDefault]},"@media (min-width: ".concat(g.j.tabletMax,"px)"),[f.l0.width(100)])]),E=(0,h.iv)([f.l0.color.foregroundDimmer,f.l0.backgroundColor.backgroundHigher,{borderColor:f.TV.backgroundHigher,"&:hover":[{color:"white"},f.l0.backgroundColor.backgroundHighest]}]);function S(e){var n=(0,o.useState)(e.getRunState()),t=n[0],r=n[1];return(0,o.useEffect)((function(){return r(e.getRunState()),e.onStateChanged((function(e){r(e)}))}),[e]),t}function A(e){var n=e.runner,t=e.onRunInitiated,r=e.style,o=void 0===r?"default":r,s=e.disableTooltip,h=(0,c.Z)(),m=S(n),b=(0,i._3A)({variables:{id:h}}).data,A="Repl"===(null===b||void 0===b?void 0:b.repl.__typename)?b.repl:null,O=(0,y.Z)().celebrate,T=m!==l.A.IDLE&&m!==l.A.RUNNING,P=function(e){return m===l.A.IDLE?(t&&t(),n.run(),A&&(0,u.j)(u.U3.PROJECT_RAN,{language:A.language,replId:A.id,replTitle:A.title,rootOriginReplUrl:A.rootOriginReplUrl}),void O(e.currentTarget)):m===l.A.RUNNING?n.stopRun():void 0};if("floating"===o)return(0,a.tZ)(p.Z,{tag:"button",disabled:T,css:[{position:"fixed",right:24,bottom:72,zIndex:1},f.l0.center,{height:"50px",width:"50px",opacity:"0.5",cursor:"pointer",borderRadius:"100%",border:"solid 2px var(--accent-positive-dimmer)",backgroundColor:f.TV.accentPositiveDimmest}],onClick:P,children:(0,a.tZ)(w,{runState:m})});var Z=m===l.A.IDLE;return"inline-small"===o?(0,a.BX)("button",{onClick:P,disabled:T,css:[f.l0.p(12),f.l0.flex.row,f.l0.center,f.l0.borderRadius(8),Z?f.l0.backgroundColor.accentPositiveDimmest:f.l0.backgroundColor.backgroundHigher,Z?f.l0.color.accentPositiveStronger:f.l0.color.foregroundDimmer,{border:"1px solid",borderColor:Z?f.TV.accentPositiveDimmest:f.TV.backgroundHigher},f.l0.width("100%"),f.l0.height("100%")],children:[(0,a.tZ)(w,{runState:m}),(0,a.tZ)(v.xv,{variant:"subheadDefault",css:[f.l0.pl(8)],children:k[m]})]}):(0,a.tZ)(v.u,{placement:"bottom",isDisabled:s,tooltip:(0,a.tZ)(d.Z,{shortcut:{cmdOrCtrlKey:!0,key:"Enter"}}),children:function(e,n){return(0,a.BX)("button",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){x(e,n,t[n])}))}return e}({},e,{onClick:P,ref:n,css:[I,!Z&&E],children:[(0,a.tZ)(w,{runState:m}),(0,a.tZ)(v.xv,{variant:"subheadDefault",css:[f.l0.pl(8),f.l0.display.none,x({lineHeight:1,overflow:"visible"},"@media (min-width: ".concat(g.j.tabletMax,"px)"),[f.l0.display.block])],children:k[m]})]}))}})}},50278:function(e,n,t){t.d(n,{Z:function(){return D}});var r,a=t(35944),o=t(79547),i=t.n(o),u=t(67294),c=t(23139),l=t(90601),f=t(8996),p=t(70917),s=t(50055),d=t(90213),v=t(21217);function h(e,n){var t,a;switch(e){case r.Init:t="5%",a="Loading...";break;case r.Booting:a="Booting Repl",t="20%";break;case r.LoadingFiles:a="Downloading files",t="".concat(Math.floor(20+70*n).toString(),"%");break;case r.Ready:a="Ready",t="100%";break;default:(0,d.Z)(e)}return{percentString:t,message:a}}!function(e){e.Init="Init",e.Booting="Booting",e.LoadingFiles="LoadingFiles",e.Ready="Ready"}(r||(r={}));var g=(0,p.F4)({"0%":{opacity:0,top:0},"100%":{opacity:1,top:"-25px"}});function y(e){var n=e.onBootStatus,t=e.initialRunState,o=(0,u.useState)({current:t===v.A.OFFLINE?r.Init:r.Ready,previous:null}),i=o[0],c=o[1],l=(0,u.useState)(0),f=l[0],p=l[1];(0,u.useEffect)((function(){var e=0,t=0,a=null,o=null,i=function(){e=0,t=0,a=null,o&&(clearInterval(o),o=null)},u=n((function(n){var u;switch(function(n){var r=n.stage,u=n.progress,c=n.total;if(o&&clearInterval(o),r!==s.api.BootStatus.Stage.PULL_FILES&&r!==s.api.BootStatus.Stage.LOAD_BLOCK||!c)return i(),void p(0);if(!(e>u)&&t!==u){var l=Date.now(),f=0;f=a?(u-t)/(l-a)*50:5e4,a=l,t=u,o=setInterval((function(){(e+=f)>c&&(e=c),e=Math.max(e,u),p(e/c)}),50)}}(n),n.stage){case s.api.BootStatus.Stage.ACQUIRING:u=r.Booting;break;case s.api.BootStatus.Stage.PULL_FILES:case s.api.BootStatus.Stage.LOAD_BLOCK:u=r.LoadingFiles;break;case s.api.BootStatus.Stage.COMPLETE:u=r.Ready;break;default:return}c((function(e){return e.current===u?e:{current:u,previous:e.current}}))}));return function(){i(),u()}}),[n]);var d=i.previous?h(i.previous,1):null,y=h(i.current,f);return(0,a.BX)("div",{css:{position:"absolute",left:"25%",right:"25%",top:"45%",backgroundColor:"transparent",color:"white",transition:"all 1s 0.5s",opacity:i.current===r.Ready?0:1},children:[(0,a.BX)("div",{children:[d&&(0,a.BX)("div",{css:{textAlign:"center",position:"absolute",width:"100%",top:"-100px",opacity:0,transition:"top 0.4s, opacity 0.4s"},children:[d.message,i.previous===r.LoadingFiles&&" 100%"]},d.message),(0,a.BX)("div",{css:{textAlign:"center",position:"absolute",width:"100%",top:"-25px",opacity:1,animationName:g.toString(),animationDuration:"0.6s"},children:[y.message,i.current===r.LoadingFiles&&" ".concat(y.percentString)]},y.message)]}),(0,a.tZ)("div",{css:{background:"none",border:"solid white 1px",borderRadius:"10px"},children:(0,a.tZ)("div",{css:{height:"5px",width:y.percentString,backgroundColor:"#fff",transition:"width cubic-bezier(0.28, 0.26, 0.33, 1) 2s"}})})]})}var m=t(77012),b=t(51968);function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function w(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return x(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=t(17070),I=t(89290),E=t(16911),S=t(84948),A=t(44660),O=t(34140),T=t(36793),P=t(94309);function Z(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function R(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Z(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Z(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=function(e,n){var t=e.runner,r=e.packager,o=e.languageHeader,p=e.onClear,s=e.enableScreenReaderMode,d=e.onBootStatus,h=(0,T.Z)().preferences.accessibleTerminal,g=R(function(e){var n=e.runner,t=e.packager,r=e.languageHeader,a=e.enableScreenReaderMode,o=w((0,m.Z)({createXtermProps:{enableScreenReaderMode:a}}),2),i=o[0],c=o[1],l=(0,u.useState)(""),f=l[0],p=l[1];return(0,u.useEffect)((function(){if(!i)return n.onOutput((function(e){return p((function(n){return n+e}))}))}),[i,n,p]),(0,u.useEffect)((function(){if(!i&&t)return t.onOutput((function(e){return p((function(n){return n+e.replace(/\n/g,"\n\r")}))}))}),[i,t,p]),(0,u.useEffect)((function(){var e=function(e){if(!i)throw new Error("Expected xterm");i.write(e.replace(/\n/g,"\n\r"))};if(i&&t){var n=t.onOutput((function(n){e(n)})),r=t.onError((function(){return e("\x1b[31m\n\nReplit: Package operation failed.\x1b[00m")})),a=t.onStateChanged((function(n){n&&e("\n\nReplit: Updating package configuration\n\n")}));return function(){n(),r(),a()}}}),[i,t]),(0,u.useEffect)((function(){f&&i&&(i.write(f),p(""))}),[i,f]),(0,u.useEffect)((function(){r&&p((function(e){return e+"".concat(r.replace(/\n/g,"\n\r"),"\n\r")}))}),[r,p]),(0,u.useEffect)((function(){if(i){var e=function(){n.getRunState()!==v.A.OFFLINE&&n.resizeTerminal(i.getSize())},t=[];t.push(i.onResize(e).dispose);var r=[];t.push(i.onData((function(e){var t=(0,b.I)(e);n.getRunState()!==v.A.OFFLINE?n.sendInput(t):r.push(t)})).dispose),t.push(n.onOutput((function(e){i.write(e)})));var a=!1;return t.push(n.onStateChanged((function(t){if(t!==v.A.OFFLINE){if(a||(e(),a=!0),r.length){var o=!0,i=!1,u=void 0;try{for(var c,l=r[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=c.value;n.sendInput(f)}}catch(p){i=!0,u=p}finally{try{o||null==l.return||l.return()}finally{if(i)throw u}}r=[]}}else a=!1}))),n.getRunState()!==v.A.OFFLINE&&(e(),a=!0),function(){t.forEach((function(e){return e()}))}}}),[i,n]),[i,c,p]}({runner:t,packager:r,languageHeader:o,enableScreenReaderMode:s}),3),x=g[0],Z=g[1],C=g[2],D=R(u.useState(!1),2),j=D[0],G=D[1],F=(0,P.a)();u.useImperativeHandle(n,(function(){return{write:function(e){x?x.write(e):C((function(n){return n+e.replace(/\n/g,"\n\r")}))},clear:function(){x&&x.clear()},focus:function(){x&&x.focus()}}}));var N=(0,S.Z)(A.H.Output);return(0,a.BX)("div",{css:F,onKeyDown:function(e){"f"===e.key&&(0,l.j)(e)&&!e.shiftKey&&(G(!0),e.preventDefault())},ref:N,className:i().dynamic([["ca4bff8d74a439a1",[c.TV.borderRadius4]]])+" terminal",children:[(0,a.tZ)("div",{className:i().dynamic([["ca4bff8d74a439a1",[c.TV.borderRadius4]]])+" controls",children:(0,a.BX)(f.Ug,{align:"center",wrap:"nowrap",children:[j&&x?(0,a.tZ)(k.R,{findPrevious:x.findPrevious,findNext:x.findNext,exit:function(){return G(!1)}}):(0,a.tZ)(I.l,{onClick:function(){return G(!0)}}),(0,a.tZ)(E.Z,{onClick:function(){x&&(x.clear(),p&&p(),o&&x.write("".concat(o.replace(/\n/g,"\n\r"),"\n\r")),x.focus())}})]})}),!(s||h)&&(0,a.tZ)(O.T,{children:'Enable "Accessible Terminal" in Workspace Settings to use a screen reader with the console.'}),(0,a.tZ)("div",{ref:Z,className:i().dynamic([["ca4bff8d74a439a1",[c.TV.borderRadius4]]])+" xterm-container"}),d?(0,a.tZ)(y,{initialRunState:t.getRunState(),onBootStatus:d}):null,(0,a.tZ)(i(),{id:"ca4bff8d74a439a1",dynamic:[c.TV.borderRadius4],children:".terminal.__jsx-style-dynamic-selector{height:100%;width:100%;position:relative;background-color:var(--background-default);-webkit-border-radius:".concat(c.TV.borderRadius4,";-moz-border-radius:").concat(c.TV.borderRadius4,";border-radius:").concat(c.TV.borderRadius4,";padding-left:var(--space-16);padding-top:var(--space-4)}.controls.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;position:absolute;opacity:0;top:var(--space-8);right:var(--space-8);z-index:100;min-height:30px}.terminal.__jsx-style-dynamic-selector:focus-within .controls.__jsx-style-dynamic-selector{opacity:1}.xterm-container.__jsx-style-dynamic-selector{height:100%;overflow:auto}.xterm-container.__jsx-style-dynamic-selector .xterm{height:100%}.xterm-container.__jsx-style-dynamic-selector .xterm-viewport{overflow-y:auto!important;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4)}")})]})},D=u.forwardRef(C)},16524:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(35944),a=t(67294),o=t(62904),i=t(17070),u=t(89290),c=t(16911),l=t(90601),f=t(54929),p=t(3204),s=t(34140),d=t(36793),v=t(94309);function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=(0,f.K)("div");function m(e){var n,t=e.container,h=e.fs,m=e.className,b=e.visible,x=(0,d.Z)().preferences.accessibleTerminal,w=g((0,o.Z)({container:t,autoFocus:!0,createXtermProps:{listFiles:h.listFiles,replSlug:null===(n=t.getContext())||void 0===n?void 0:n.repl.slug}}),2),k=w[0],I=w[1],E=g(a.useState(!1),2),S=E[0],A=E[1];a.useEffect((function(){b&&k&&k.focus()}),[b,k]);var O=S&&k?(0,r.tZ)(i.R,{findPrevious:k.findPrevious,findNext:k.findNext,exit:function(){return A(!1)}}):(0,r.tZ)(u.l,{onClick:function(){return A(!0)}}),T=(0,v.a)();return(0,r.BX)(f.Z,{className:m,css:[p.l0.p(8),p.l0.position.relative,p.l0.height("100%"),p.l0.backgroundColor.backgroundDefault,{"& .xterm":[p.l0.height("100%")],"& .xterm .xterm-viewport":[p.l0.height("100%"),{overflowY:"auto"}],"&:focus-within .controls":{opacity:1}},T],onKeyDown:function(e){"f"===e.key&&(0,l.j)(e)&&(A(!0),e.preventDefault())},children:[!x&&(0,r.tZ)(s.T,{children:'Enable "Accessible Terminal" in Workspace Settings to use a screen reader with the shell.'}),(0,r.tZ)(y,{css:[p.l0.flex.growAndShrink(1)],ref:I}),k?(0,r.BX)(f.Z,{className:"controls",css:[p.l0.position.absolute,p.l0.flex.row,p.l0.top(8),p.l0.right(8),p.l0.height(30),p.l0.align.center,{opacity:0,zIndex:4}],children:[O,(0,r.tZ)(c.Z,{onClick:k.clear})]}):(0,r.tZ)("code",{css:[p.l0.color.foregroundDimmest,p.l0.coverContainer,p.l0.p(8)],children:"Loading..."})]})}},5499:function(e,n,t){t.d(n,{P:function(){return d},Z:function(){return h}});var r=t(34051),a=t.n(r),o=t(11163),i=t.n(o),u=t(67294),c=t(91272),l=t(73049),f=t(5560);function p(e,n,t,r,a,o,i){try{var u=e[o](i),c=u.value}catch(l){return void t(l)}u.done?n(c):Promise.resolve(c).then(r,a)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function i(e){p(o,r,a,i,u,"next",e)}function u(e){p(o,r,a,i,u,"throw",e)}i(void 0)}))}}var d=function(){var e=s(a().mark((function e(n,t,r,o){var i,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.W)({fs:n,dotReplit:r,replId:o});case 2:i=e.sent,(u=i.entrypoint)&&t.openFile(u);case 5:case"end":return e.stop()}}),e)})));return function(n,t,r,a){return e.apply(this,arguments)}}(),v=function(){var e=s(a().mark((function e(n,t){var r,o,i,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,l.u9)()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,l.mv)(n);case 4:if(r=e.sent,o=r.path,i=r.line,u=r.col,o){e.next=10;break}return e.abrupt("return");case 10:o!==t.getActiveFile()&&t.openFile(o),t.updateDeeplink({path:o,line:i,col:u});case 12:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();function h(e,n,t){var r=(0,f.Z)(),o=(0,u.useRef)(!1);(0,u.useEffect)((function(){return n.onDeeplinkUpdated((function(e){var n=function(e){var n=e.path,t=e.line,r=e.col,a="#".concat(n);return t?r?"".concat(a,":").concat(t,":").concat(r):"".concat(a,":").concat(t):a}(e);window.location.hash=n}))}),[n]),(0,u.useEffect)((function(){s(a().mark((function o(){return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n.getActiveFile()){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,v(e,n);case 4:n.getActiveFile()||d(e,n,t,r);case 5:case"end":return a.stop()}}),o)})))()}),[e,n,t,r]),(0,u.useEffect)((function(){var t=function(){var t=s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o.current){t.next=3;break}return o.current=!1,t.abrupt("return");case 3:return t.next=5,v(e,n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return window.addEventListener("hashchange",t),function(){window.removeEventListener("hashchange",t)}}),[e,n]),(0,u.useEffect)((function(){return n.onSessionStateChanged(s(a().mark((function t(){var r,u,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.getActiveFile()){t.next=3;break}return t.abrupt("return");case 3:if(!(0,l.u9)()){t.next=10;break}return t.next=6,(0,l.mv)(e);case 6:if(u=t.sent,u.path!==r){t.next=10;break}return t.abrupt("return");case 10:o.current=!0,window.location.hash.length>0?n.updateDeeplink({path:r}):(c=i().asPath.includes("#")?i().asPath.slice(0,i().asPath.indexOf("#")):i().asPath,i().replace({pathname:i().pathname,query:i().query},"".concat(c,"#").concat(r),{shallow:!0}));case 12:case"end":return t.stop()}}),t)}))))}),[e,n])}},94074:function(e,n,t){t.d(n,{PH:function(){return v},ZP:function(){return h},it:function(){return d}});var r=t(35944),a=(t(67294),t(70917)),o=t(66552),i=t(3204);function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var c=function(e){return"var(".concat(e,")")},l={inactive:{color:i.TV.foregroundDimmest,borderColor:i.TV.backgroundHigher,controlsOpacity:0},hover:{color:i.TV.foregroundDimmer,borderColor:i.TV.outlineDefault,controlsOpacity:1},active:{color:i.TV.foregroundDefault,borderColor:i.TV.accentPrimaryStrongest,controlsOpacity:1}},f="--ws-pane-foreground-color",p="--ws-pane-border-color",s="--ws-pane-controls-opacity",d={color:(0,a.iv)({color:c(f)}),controlsOpacity:(0,a.iv)({opacity:c(s)}),borderColor:(0,a.iv)({borderColor:c(p)}),border:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,a.iv)([{borderWidth:0,borderStyle:"solid",borderColor:c(p)},n.includes("top")&&{borderTopWidth:1},n.includes("right")&&{borderRightWidth:1},n.includes("bottom")&&{borderBottomWidth:1},n.includes("left")&&{borderLeftWidth:1}])}},v=function(e){var n,t,r;return e.active?(u(n={},f,l.active.color),u(n,p,l.active.borderColor),u(n,s,l.active.controlsOpacity),n):(0,a.iv)((u(r={},f,l.inactive.color),u(r,p,l.inactive.borderColor),u(r,s,l.inactive.controlsOpacity),u(r,"&:hover",(u(t={},f,l.hover.color),u(t,p,l.hover.borderColor),u(t,s,l.hover.controlsOpacity),t)),r))};function h(e){return(0,r.tZ)(o.Z,{elevated:e.elevated,onClick:e.onClick,css:[v({active:e.active}),d.color,d.border("top","left","right","bottom"),e.height&&i.l0.height(e.height),e.width&&i.l0.width(e.width),i.l0.overflow("hidden"),i.l0.borderRadius(8),{boxShadow:i.TV.shadow1},e.active&&{boxShadow:"".concat(i.TV.shadow1,", 0 0 1px 1px ").concat(i.TV.accentPrimaryDefault)},e.maximized&&{borderRadius:0,boxShadow:"none",border:"none"},{transform:"translate3d(0, 0, 0)"}],children:e.children})}},74677:function(e,n,t){t.d(n,{r:function(){return y},z:function(){return h}});var r=t(35944),a=t(67294),o=t(23139),i=t(60153),u=t(2729),c=t(30617),l=t(73248),f=t(40079),p=t(91131),s=t(78135);function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],i=!0,u=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);i=!0);}catch(c){u=!0,a=c}finally{try{i||null==t.return||t.return()}finally{if(u)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h={Content:function(){return(0,r.tZ)(y,{})},Icon:function(e){var n=e.size;return(0,r.tZ)(l.Z,{size:n})},getTitle:function(){return"Git"}},g=(0,p.cn)(null);function y(){var e=(0,c.Z)(),n=v((0,p.KO)(g),2),t=n[0],l=n[1],d=(0,s.oR)();return a.useEffect((function(){if(!t){var n=new i.Z;n.yikesInjectStore(d),n.injectServices(e),n.register("git",u),n.bootstrap({plugins:{git:{type:"git"}},layout:{tiling:{type:"pane",pud:"git"},floating:[]}}),n.store.dispatch({type:"WORKSPACE_MOUNTED"}),l({Component:n.component()})}}),[t,e,l,d]),(null===t||void 0===t?void 0:t.Component)?(0,r.tZ)(o.Tg,{background:"default",css:o.l0.flex.growAndShrink(1),id:f.b,children:(0,r.tZ)(t.Component,{})}):null}}}]);
//# sourceMappingURL=3652-bad3607b0a9d4caf.js.map