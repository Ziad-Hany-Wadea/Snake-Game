"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8271],{33468:function(e,t,n){n.d(t,{Y:function(){return p}});var r=n(35944),i=n(67294),o=n(91131),a=n(80682),l=n(45193),c=n(30617),s=n(18056),u=n(50658);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{enabled:!0}).enabled,n=(0,o.b9)(s.Rf);(0,i.useEffect)((function(){if(t)return n((function(t){return f(t).concat([e])})),function(){n((function(t){return t.filter((function(t){return t!==e}))}))}}),[n,e,t])}function h(){var e=(0,o.Dv)(s.a3),t=(0,o.b9)(s.cN),n=(0,o.Dv)(s.YM),d=(0,c.Z)().session,f=(0,u.Z)("commandBar").trackTimeToLoadFileStart;return(0,i.useEffect)((function(){return d.onCommandBarToggled((function(n){n!==e&&t()}))}),[d,t,e]),(0,i.useEffect)((function(){d.setIsCommandBarOpen(e)}),[d,e]),(0,r.tZ)(l.Z,{isOpen:e,onRequestClose:function(){t()},hideCloseButton:!0,children:(0,r.tZ)(a.Z,{onSelect:function(e){if("openFile"===e.data.type){var n=e.data.deeplink;f(n.path),d.openFile(n.path),d.updateDeeplink(n)}"action"===e.data.type&&e.data.run(),t()},initialCommand:n})})}t.Z=(0,i.memo)(h)},18056:function(e,t,n){n.d(t,{Rf:function(){return s},YM:function(){return u},a3:function(){return o},cN:function(){return a}});var r=n(91131),i=n(10586),o=(0,r.cn)(!1),a=(0,r.cn)(null,(function(e,t,n){if(e(o))return t(l,null),void t(o,!1);n&&t(l,n),t(o,!0)})),l=(0,r.cn)(null),c=(0,r.cn)((function(e){var t=e(s);return{data:i.$,commands:function(){return t}}})),s=(0,r.cn)([]),u=(0,r.cn)((function(e){var t=e(c),n=e(l);return n?[t,n]:t}))},75661:function(e,t,n){n.d(t,{g:function(){return o}});var r=n(32537),i=n(83964);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;e.stopPropagation(),e.preventDefault();var o=(0,i.uJ)(e),a=o.pageX,l=o.pageY,c={x:a,y:l},s={x:0,y:0};t.start&&t.start({mouse:c,shiftKey:e.shiftKey});var u=(0,r.Z)((function(e){e.preventDefault(),e.stopPropagation();var n=(0,i.uJ)(e),r={x:n.pageX,y:n.pageY};s={x:r.x-c.x,y:r.y-c.y},t.move({delta:s,shiftKey:e.shiftKey,mouse:r})}),n),d=function(){u.cancel(),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d),document.removeEventListener("touchmove",u),document.removeEventListener("touchend",d),document.removeEventListener("touchcancel",d),t.end&&t.end({delta:s,shiftKey:e.shiftKey})};document.addEventListener("mousemove",u),document.addEventListener("mouseup",d),document.addEventListener("touchmove",u),document.addEventListener("touchend",d),document.addEventListener("touchcancel",d)}},10586:function(e,t,n){n.d(t,{$:function(){return a},q:function(){return o}});var r=n(35944),i=n(98990),o={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"K"},a={type:"context",icon:(0,r.tZ)(i.Z,{}),label:"",description:"Type a command...",keyboardShortcut:o}},49265:function(e,t,n){n.d(t,{F:function(){return k},q:function(){return w}});var r=n(34051),i=n.n(r),o=n(35944),a=(n(67294),n(48015)),l=n(80796),c=n(36107),s=n(66754),u=n(88503),d=n(28614),f=n(20730),p=n(23139),h=n(55681);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,i)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){var t=e.path,n=e.line;return(0,o.BX)(p.G7,{css:[p.l0.colWithGap(4),p.l0.align.start,p.l0.flex.growAndShrink(1),p.l0.py(4)],children:[(0,o.BX)(p.Tg,{elevated:!0,css:[p.l0.rowWithGap(4),p.l0.borderRadius(8),p.l0.p(2)],children:[(0,o.tZ)(h.Z,{path:t,size:12}),(0,o.BX)(p.xv,{variant:"small",children:[t,":",n.lineNumber]})]}),(0,o.tZ)(s.xK,{source:n.content,matches:n.matches})]})}function y(){return(0,o.BX)(p.G7,{css:[p.l0.rowWithGap(8)],children:[(0,o.tZ)(d.Z,{}),(0,o.tZ)(p.xv,{color:"dimmest",children:"Something went wrong searching your Repl's contents. Please try again."})]})}function Z(){return(0,o.BX)(p.G7,{css:[p.l0.rowWithGap(8)],children:[(0,o.tZ)(d.Z,{}),(0,o.tZ)(p.xv,{color:"dimmest",children:"Displaying only part of the results, try being more specific with your search."})]})}function x(){return(0,o.tZ)(p.G7,{children:(0,o.tZ)(p.xv,{color:"dimmest",children:"Nothing came up searching your Repl's content."})})}var w={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!0,key:"F"};function k(e){var t,n=(0,l.Z)((function(e,t,n){(0,f.yC)(e).then(t).catch(n)}),200);return(0,c.fA)({type:"context",description:"Search through your files",label:"Search",icon:(0,o.tZ)(u.Z,{}),keyboardShortcut:w},{match:(0,c.zf)({defaultScore:2}),commands:function(){var r,l=(r=i().mark((function r(l){var s,u,f,m,g,w,k,S,j,C,T,I;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(l.search){r.next=2;break}return r.abrupt("return",[]);case 2:return s=Math.random(),t=s,r.next=6,new Promise((function(t,r){n({query:l.search,container:e.container},t,r)}));case 6:if(u=r.sent,f=u.results,m=u.error,g=u.isPartialResult,s===t){r.next=12;break}return r.abrupt("return",[]);case 12:if(null===m){r.next=16;break}if(l.active){r.next=15;break}return r.abrupt("return",[]);case 15:return r.abrupt("return",[{data:{type:"error",label:"error",icon:(0,o.tZ)(d.Z,{})},match:function(){return{score:1,render:{content:(0,o.tZ)(y,{})}}}}]);case 16:for(w=[],k=!0,S=!1,j=void 0,r.prev=18,C=function(e,t){var n=v(t.value,2),r=n[0];n[1].forEach((function(e){var t=e.matches[0].column;w.push((0,c.fA)({type:"openFile",label:r,icon:(0,o.tZ)(h.Z,{path:r}),deeplink:{path:r,line:e.lineNumber,col:t}},{match:function(){var n=a.Z.match(l.search,e.content);return{score:(null===n||void 0===n?void 0:n.score)||1,render:{content:(0,o.tZ)(b,{path:r,line:e})},key:[r,e.lineNumber,t].join(":")}}}))}))},T=Object.entries(f)[Symbol.iterator]();!(k=(I=T.next()).done);k=!0)C(0,I);r.next=27;break;case 23:r.prev=23,r.t0=r.catch(18),S=!0,j=r.t0;case 27:r.prev=27,r.prev=28,k||null==T.return||T.return();case 30:if(r.prev=30,!S){r.next=33;break}throw j;case 33:return r.finish(30);case 34:return r.finish(27);case 35:if(0!==w.length||!l.active){r.next=37;break}return r.abrupt("return",[{data:{type:"output",label:"",icon:(0,o.tZ)(p.G7,{})},match:function(){return{score:1,render:{content:(0,o.tZ)(x,{})}}}}]);case 37:if(!l.active){r.next=43;break}if(0!==w.length){r.next=42;break}return r.abrupt("return",[{data:{type:"output",label:"",icon:(0,o.tZ)(p.G7,{})},match:function(){return{score:1,render:{content:(0,o.tZ)(x,{})}}}}]);case 42:g&&w.push({data:{type:"error",label:"error",icon:(0,o.tZ)(d.Z,{})},match:function(){return{score:1/0,render:{content:(0,o.tZ)(Z,{})}}}});case 43:return r.abrupt("return",w);case 44:case"end":return r.stop()}}),r,null,[[18,23,27,35],[28,,30,34]])})),function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function a(e){g(o,n,i,a,l,"next",e)}function l(e){g(o,n,i,a,l,"throw",e)}a(void 0)}))});return function(e){return l.apply(this,arguments)}}()})}},80682:function(e,t,n){n.d(t,{Z:function(){return T},T:function(){return C}});var r=n(35944),i=n(67294),o=n(70917),a=n(54929),l=n(3204),c=n(27464),s=n(13475),u=n(71688),d=n(96505),f=n(15391);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}var m=(0,a.K)("div");function g(e){var t=e.isLoading||e.items.length?e.items.map((function(t,n){var i=t.data,o=i.label,a=i.icon,l=t.match.render,c=n===e.highlightedIndex,s=l&&"content"in l?l.content:void 0,d=l&&"ranges"in l?l.ranges:void 0;return(0,r.tZ)(m,h({css:[{cursor:"pointer"}]},e.getItemProps({item:t,index:n}),{children:s?(0,r.tZ)(f.Z,{active:c,description:i.description,keyboardShortcut:i.keyboardShortcut,content:s}):(0,r.tZ)(f.Z,{active:c,description:i.description,keyboardShortcut:i.keyboardShortcut,item:{icon:a,label:o,active:c,highlightRanges:d}})}),(0,u.k)(t))})):null;return(0,r.tZ)(m,h({},e.getMenuProps(),{css:[l.l0.flex.growAndShrink(1),l.l0.overflow("auto")],children:t}))}var v=(0,i.memo)(g),b=n(23139),y=n(85567),Z=n(98990),x=n(1517);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}var S=(0,a.K)("div"),j=(0,a.K)("input"),C=(0,o.iv)([l.l0.height("100%"),l.l0.flex.growAndShrink(1),l.l0.color.foregroundDefault,l.l0.display.block,l.l0.py(8),{fontSize:l.TV.fontSizeSubheadDefault,backgroundColor:"transparent",border:"0 none",outline:"0 none","::placeholder":{color:l.TV.foregroundDimmest},"&:hover::placeholder":{color:l.TV.foregroundDimmer},"&:focus::placeholder, &:hover:focus::placeholder":{color:l.TV.foregroundDimmest}}]);function T(e){var t=(0,s.Z)(e.onCancel||function(){},[e.onCancel]),n=(0,u.Z)({onSelect:e.onSelect,initialCommand:e.initialCommand,onShowInput:e.onShowInput}),i=n.combobox;return(0,r.BX)(b.Tg,{elevated:!0,innerRef:t,className:e.className,css:[l.l0.flex.growAndShrink(1),l.l0.borderRadius(8),l.l0.overflow("hidden"),l.l0.maxHeight("70vh")],children:[(0,r.BX)(S,k({},i.getComboboxProps(),{css:[l.l0.rowWithGap(4),l.l0.pl(4),l.l0.pr(8),l.l0.align.center],children:[(0,r.tZ)(a.Z,{css:[l.l0.py(8),l.l0.rowWithGap(4)],children:n.path.map((function(t,i){var o=t.data,a=o.label,l=o.icon,s=a+i,u=function(){e.hideInput&&e.onShowInput&&e.onShowInput(),n.resetToIndex({index:i,focus:!0})};return 0===i?(0,r.tZ)(c.Z,{alt:"Commands",onClick:u,children:n.isLoading?(0,r.tZ)(x.Z,{}):(0,r.tZ)(Z.Z,{})},s):(0,r.tZ)(d.M,{label:a,icon:l,onClick:u},s)}))}),(0,r.tZ)(j,k({css:[C,e.hideInput&&[l.l0.px(0),l.l0.width(0),l.l0.flex.grow(0)]]},i.getInputProps({value:n.inputValue,autoFocus:!0,ref:n.inputRef,onChange:function(e){return n.setInputValue(e.currentTarget.value)},onBlur:e.onBlur,onKeyDown:function(t){"ArrowLeft"!==t.key&&"ArrowRight"!==t.key?"Backspace"!==t.key?"Escape"===t.key&&e.onCancel&&e.onCancel():n.handleBackspace():n.handleLeftRightArrow(t.key)},placeholder:n.placeholder}))),n.keyboardShortcut?(0,r.tZ)(y.Z,{shortcut:n.keyboardShortcut}):null,e.trailingContent]})),(0,r.tZ)(v,{items:n.items,getMenuProps:i.getMenuProps,getItemProps:i.getItemProps,highlightedIndex:i.highlightedIndex,isLoading:n.isLoading})]})}},18614:function(e,t,n){n.d(t,{Z:function(){return le}});var r,i=n(34051),o=n.n(i),a=n(35944),l=n(79547),c=n.n(l),s=n(67294),u=n(5560),d=n(71171),f=n.n(d),p=n(94184),h=n.n(p),m=n(9917),g=n(50553),v=n(35060),b=n(86072),y=n(26687),Z=n(51281),x=n(70420),w=n(98620),k=n(89431),S=n(38380),j=n(47571),C=n(33630),T=n(33090),I=n(88768),A=n(21394),D=n(68342),z=n(5440),E=n(32378),B=n(74279),O=n(8996),R=n(8286),M=n(88076),P=n(54920),X=n(40425),G=n(55681),_=n(30617),L=n(95343),N=n(56834),F=n(21837),H=n(91131),V=n(33379),U=n(93577),W=n(30887),Y=n(93943);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,i)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"===typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function ee(e){var t,n=e.annotation,r=e.onChangeMessage,i=void 0===r?function(){}:r,o=e.onFinalizeMessage,l=void 0===o?function(){}:o,u=e.onCloseThread,d=void 0===u?function(){}:u,f=e.scrollToAnchor,p=void 0===f?function(){}:f,h=e.markThreadResolved,m=void 0===h?function(){}:h,v=e.markThreadUnresolved,y=void 0===v?function(){}:v,w=(0,k.Z)("flag-thread-snippets"),S=(0,C.Z)(n.id),T=(0,F.Vy)(n),I=s.useMemo((function(){var e,t=q(n.messages).sort((function(e,t){return new Date(e.timeCreated).getTime()-new Date(t.timeCreated).getTime()}));return(e=t).push.apply(e,q(S.filter((function(e){return!t.slice(-5).find((function(t){return t.id===e.id}))})))),(0,B.Z)(t)}),[n,S]),z=s.useMemo((function(){if(T)return null===T||void 0===T?void 0:T.getSnippet()}),[T]),P=s.useRef(null);(0,j.Z)(n);s.useEffect((function(){P.current&&(P.current.scrollTop=P.current.scrollHeight)}),[P,n]);var X=(null===T||void 0===T||null===(t=T.anchor)||void 0===t?void 0:t.path)||n.path||"";return(0,a.BX)(a.HY,{children:[(0,a.BX)("div",{className:"jsx-f601ef3cc045c3e6 header",children:[(0,a.tZ)("span",{className:"jsx-f601ef3cc045c3e6",children:(0,a.tZ)(Z.Z,{filled:!1,border:!1,onClick:d,children:(0,a.tZ)(g.Z,{rotate:90})})}),(0,a.tZ)("span",{className:"jsx-f601ef3cc045c3e6 separator"}),(0,a.BX)(O.Ug,{children:[!n.isResolved&&n.path&&(0,a.tZ)(Z.Z,{filled:!1,border:!1,"aria-label":"Jump to code",role:"tooltip","data-microtip-position":"left",onClick:function(){return p(n.id)},children:(0,a.tZ)(b.Z,{})}),!n.isResolved&&!n.isGeneral&&(0,a.tZ)(Z.Z,{filled:!1,border:!1,"aria-label":"Resolve thread",role:"tooltip","data-microtip-position":"left",onClick:function(){return m(n)},children:(0,a.tZ)(R.Z,{})}),n.isResolved&&!n.isGeneral&&(0,a.tZ)(Z.Z,{filled:!1,border:!1,"aria-label":"Unresolve thread",role:"tooltip","data-microtip-position":"left",onClick:function(){return y(n)},children:(0,a.tZ)(M.Z,{})})]}),(0,a.tZ)(c(),{id:"f601ef3cc045c3e6",children:".separator.jsx-f601ef3cc045c3e6{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.header.jsx-f601ef3cc045c3e6{padding:var(--space-8);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;min-height:32px}"})]}),(0,a.BX)("div",{className:"jsx-e771b3432a43458d "+"jsx-".concat(x.Q.__hash)+" thread",children:[(0,a.tZ)("div",{className:"jsx-e771b3432a43458d "+"jsx-".concat(x.Q.__hash)+" message-group-container-container",children:(0,a.BX)("div",{ref:P,className:"jsx-e771b3432a43458d "+"jsx-".concat(x.Q.__hash)+" message-group-container",children:[w&&n.path&&(0,a.tZ)(E.u5,{path:X,snippet:z,onNavigateToCode:function(){return p(n.id)}}),I.map((function(e){return(0,a.tZ)(D.ZP,{messageGroup:e},e.messages[0].id)}))]})}),(0,a.tZ)(A.Z,{annote:n,onChangeMessage:i,onFinalizeMessage:l}),(0,a.tZ)(c(),{id:x.Q.__hash,children:x.Q}),(0,a.tZ)(c(),{id:"e771b3432a43458d",children:".thread.jsx-e771b3432a43458d{position:relative;display:grid;grid-row-gap:var(--space-16);-webkit-box-pack:stretch;-webkit-justify-content:stretch;-moz-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;overflow:hidden;padding:var(--space-16);padding-top:0;grid-template-rows:1fr -webkit-min-content;grid-template-rows:1fr min-content;height:100%}.message-group-container-container.jsx-e771b3432a43458d{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.message-group-container.jsx-e771b3432a43458d{display:grid;grid-row-gap:var(--space-16);overflow-y:auto;padding:var(--space-8);padding-bottom:0}"})]})]})}function te(e){var t=e.unreadCount;return(0,a.BX)("div",{className:"jsx-7452becc48d76305 count-container",children:[t>0?(0,a.tZ)("div",{className:"jsx-7452becc48d76305 count",children:t}):null,(0,a.tZ)(c(),{id:"7452becc48d76305",children:".count-container.jsx-7452becc48d76305{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;height:15px}.count.jsx-7452becc48d76305{background:var(--accent-primary-default);color:var(--white);font-size:var(--font-size-small);height:15px;padding:0 5px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]})}function ne(e){var t=e.annotation,n=e.onClick,r=t.messages.some((function(e){return!e.seen})),i=(0,F.Vy)(t),o=s.useMemo((function(){return t.messages.filter((function(e){return!1===e.seen})).length}),[t]),l=(0,S.Z)(t),u=l.map((function(e){return e.username})).join(", "),d=t.messages[0],f=t.messages[t.messages.length-1],p=(null===i||void 0===i?void 0:i.anchor.path)||(null===t||void 0===t?void 0:t.path)||void 0,g=s.useMemo((function(){if(i)return null===i||void 0===i?void 0:i.getSnippet()}),[i]),v=(null===t||void 0===t?void 0:t.user)?{src:t.user.image,name:t.user.username}:void 0,b="TextMessageContentType"===(null===t||void 0===t?void 0:t.messages[0].content.__typename)?t.messages[0].content.text:void 0,y=s.useMemo((function(){if(!(null===f||void 0===f?void 0:f.timeCreated))return"";var e=new Date(f.timeCreated),t=e.getTime();return Date.now()-t<1e3?"just now":"".concat((0,m.F)(e,!0)," ago")}),[f]);return d?t.path?(0,a.tZ)(E.dp,{path:p,snippet:g,timeString:y,onClick:n,avatar:v,message:b}):(0,a.BX)("button",{onClick:n,tabIndex:0,className:"jsx-e71b06328d0d68b1 "+(h()("thread",{unread:r})||""),children:[(0,a.tZ)("div",{className:"jsx-e71b06328d0d68b1 profile",children:(0,a.tZ)(T.Z,{users:l})}),(0,a.BX)("div",{className:"jsx-e71b06328d0d68b1 message-preview",children:[(0,a.tZ)("div",{className:"jsx-e71b06328d0d68b1 thread-title",children:u}),"TextMessageContentType"===d.content.__typename&&(0,a.tZ)("div",{className:"jsx-e71b06328d0d68b1 thread-preview",children:d.content.text})]}),(0,a.BX)("div",{className:"jsx-e71b06328d0d68b1 info",children:[(0,a.tZ)(te,{unreadCount:o}),(0,a.tZ)("div",{className:"jsx-e71b06328d0d68b1 time",children:y})]}),(0,a.tZ)(c(),{id:"e71b06328d0d68b1",children:".thread.jsx-e71b06328d0d68b1{background:var(--background-default);padding:var(--space-8);-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);display:grid;grid-auto-flow:column;grid-template-columns:-webkit-min-content minmax(0,1fr)-webkit-min-content;grid-template-columns:min-content minmax(0,1fr)min-content;grid-gap:var(--space-8);width:100%;max-height:52px;overflow:hidden;cursor:pointer;-webkit-transition:.1s all ease-in-out;-moz-transition:.1s all ease-in-out;-o-transition:.1s all ease-in-out;transition:.1s all ease-in-out;border:none;text-align:left}.thread.unread.jsx-e71b06328d0d68b1 .thread-title.jsx-e71b06328d0d68b1{font-weight:var(--font-weight-bold)}.thread.jsx-e71b06328d0d68b1:hover{-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-ms-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05);-webkit-transition:.2s all;-moz-transition:.2s all;-o-transition:.2s all;transition:.2s all}.thread.jsx-e71b06328d0d68b1:focus{outline:none;outline-offset:2px;-webkit-box-shadow:0 0 0 3px var(--accent-primary-dimmer);-moz-box-shadow:0 0 0 3px var(--accent-primary-dimmer);box-shadow:0 0 0 3px var(--accent-primary-dimmer)}.thread-title.jsx-e71b06328d0d68b1,.thread-preview.jsx-e71b06328d0d68b1{white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.thread-title.jsx-e71b06328d0d68b1{color:var(--foreground-default);font-size:var(--font-size-default)}.thread-preview.jsx-e71b06328d0d68b1{color:var(--foreground-dimmer);font-size:var(--font-size-small)}.profile.jsx-e71b06328d0d68b1{width:25px;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.time.jsx-e71b06328d0d68b1{white-space:pre;font-size:var(--font-size-small);color:var(--foreground-dimmest)}.info.jsx-e71b06328d0d68b1{display:grid;grid-gap:var(--space-4);-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:end;-webkit-align-items:flex-end;-moz-box-align:end;-ms-flex-align:end;align-items:flex-end}"})]}):null}function re(e){var t=e.generalThreadsOpen,n=e.setGeneralThreadsOpen,r=(0,u.Z)(),i=s.useContext(P.Z),o=i.generalThread,l=i.handleChangeMessage,d=i.handleFinalizeMessage,p=i.createAnnotationAnchorPlaceholder,m=s.useMemo((function(){if(!o)return[];var e=q(o.messages).sort((function(e,t){return new Date(e.timeCreated).getTime()-new Date(t.timeCreated).getTime()}));return(0,B.Z)(e)}),[o]);s.useEffect((function(){o||p({annotationAnchor:{id:f()(),replId:r,isGeneral:!0,indexStart:null,indexEnd:null,isResolved:!1,otVersion:null,path:null}})}),[o,r,p]);var v=s.useMemo((function(){return o?o.messages.filter((function(e){return!1===e.seen})).length:0}),[o]),b=s.useRef(null);(0,j.Z)(t&&o||null);return s.useEffect((function(){b.current&&(b.current.scrollTop=b.current.scrollHeight)}),[b,o]),o?(0,a.BX)("div",{onClick:function(){return n(!0)},className:"jsx-f2c7b6e2655edf19 "+"jsx-".concat(x.Q.__hash)+" "+(h()("general-thread",{"is-open":t})||""),children:[(0,a.BX)("div",{className:"jsx-f2c7b6e2655edf19 "+"jsx-".concat(x.Q.__hash)+" general-thread-header",children:[(0,a.BX)(O.Ug,{spacing:1,align:"center",children:[(0,a.tZ)(X.Z,{level:5,children:"Chat"}),(0,a.tZ)(te,{unreadCount:v})]}),(0,a.tZ)(O.Ug,{spacing:1,align:"center",children:(0,a.tZ)(Z.Z,{onClick:function(e){n(!t),e.stopPropagation()},filled:!1,Icon:function(){return(0,a.tZ)(g.Z,{rotate:t?0:180})},border:!1,size:"small"})})]}),(0,a.tZ)("div",{className:"jsx-f2c7b6e2655edf19 "+"jsx-".concat(x.Q.__hash)+" message-group-container-container",children:(0,a.tZ)("div",{ref:b,className:"jsx-f2c7b6e2655edf19 "+"jsx-".concat(x.Q.__hash)+" message-group-container",children:m.map((function(e){return(0,a.tZ)(D.ZP,{messageGroup:e},e.messages[0].id)}))})}),(0,a.tZ)("div",{className:"jsx-f2c7b6e2655edf19 "+"jsx-".concat(x.Q.__hash)+" thread-input-container",children:(0,a.tZ)(A.Z,{placeholder:"Send message",annote:o,onChangeMessage:function(e){l({anchor:o,message:e.message,messageId:e.messageId}),n(!0)},onFinalizeMessage:function(e){d({anchor:o,message:e.message,messageId:e.messageId}),n(!0),(0,N.j)(N.U3.MESSAGE_SENT,{replId:r,source:"generalThreads",variant:"replace-chat"})}})}),(0,a.tZ)(c(),{id:x.Q.__hash,children:x.Q}),(0,a.tZ)(c(),{id:"f2c7b6e2655edf19",children:".general-thread.jsx-f2c7b6e2655edf19{margin:1px;padding:var(--space-16);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);border-top:1px solid var(--background-higher);-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);z-index:100;position:absolute;bottom:0;left:0;right:0;background:var(--background-default);display:grid;overflow:hidden;grid-template-rows:-webkit-min-content 1fr -webkit-min-content;grid-template-rows:min-content 1fr min-content;grid-gap:var(--space-8);cursor:pointer;-webkit-transition:.2s height;-moz-transition:.2s height;-o-transition:.2s height;transition:.2s height;height:7.5em}.general-thread.is-open.jsx-f2c7b6e2655edf19{height:100%;cursor:unset}.general-thread-header.jsx-f2c7b6e2655edf19{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%}.message-group-container-container.jsx-f2c7b6e2655edf19{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:0}.general-thread.is-open.jsx-f2c7b6e2655edf19 .message-group-container-container.jsx-f2c7b6e2655edf19{height:100%}.message-group-container.jsx-f2c7b6e2655edf19{display:grid;grid-row-gap:var(--space-16);overflow-y:auto;padding:var(--space-8);padding-bottom:0}.thread-input-container.jsx-f2c7b6e2655edf19{width:100%}"})]}):null}function ie(e,t){var n,r,i=null===(n=e.messages)||void 0===n?void 0:n[e.messages.length-1],o=null===(r=t.messages)||void 0===r?void 0:r[t.messages.length-1];return i||o?i?o?new Date(o.timeCreated).getTime()-new Date(i.timeCreated).getTime():1:-1:0}function oe(e){var t=e.annotations,n=e.inboxMode,i=e.generalThreadsOpen,o=e.setInboxMode,l=e.onThreadClick,u=e.onMarkAllAsReadClick,d=e.onClose,f=e.setGeneralThreadsOpen,p=$(s.useState(!1),2),h=p[0],m=p[1],b=(0,_.Z)().session,k=s.useMemo((function(){return t.filter((function(e){return!e.isGeneral&&(n===r.ACTIVE?!e.isResolved:e.isResolved)})).sort(ie)}),[t,n]),S=$(s.useState(3),2),j=S[0],C=S[1],T=(0,L.Z)({onLoadMore:function(){C((function(e){return e+3}))}}).targetRef,I=s.useMemo((function(){var e={},t=!0,n=!1,r=void 0;try{for(var i,o=k[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a,l=i.value,c=l.messages[l.messages.length-1];if(c){var s=l.path||-1,u=e[s]||{threads:[],unreadCount:0,lastMessageTime:null,path:s,lang:null===(a=l.path)||void 0===a?void 0:a.split(".").slice(-1)[0]};u.threads.push(l),u.unreadCount+=l.messages.filter((function(e){return!1===e.seen})).length,u.lastMessageTime?u.lastMessageTime=new Date(Math.max(u.lastMessageTime.getTime(),new Date(c.timeCreated).getTime())):u.lastMessageTime=new Date(c.timeCreated),e[s]=u}}}catch(d){n=!0,r=d}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return Object.values(e).sort((function(e,t){return t.lastMessageTime.getTime()-e.lastMessageTime.getTime()}))}),[k]);return(0,a.BX)("div",{className:"jsx-10034a93e516db1e "+"jsx-".concat(x.Q.__hash)+" threads-feed",children:[(0,a.BX)("div",{className:"jsx-10034a93e516db1e "+"jsx-".concat(x.Q.__hash)+" header",children:[(0,a.BX)(O.Ug,{align:"center",spacing:1,children:[(0,a.tZ)(X.Z,{level:4,style:{marginLeft:"var(--space-8)"},children:"Threads"}),(0,a.tZ)(w.Z,{isMenuOpen:h,renderAnchorComponent:function(){return(0,a.tZ)(Z.Z,{filled:!0,border:!1,onClick:function(){return m(!h)},Icon:g.Z,iconOnRight:!0,children:n})},renderItemChildComponent:function(e){return(0,a.tZ)("div",{className:"jsx-10034a93e516db1e "+"jsx-".concat(x.Q.__hash),children:e.label})},onClick:function(e){o(e.mode),m(!1)},items:[{label:"Active",mode:r.ACTIVE},{label:"Resolved",mode:r.RESOLVED}]}),(0,a.tZ)(Z.Z,{border:!1,filled:!1,Icon:y.Z,onClick:u,"aria-label":"Mark all as read",role:"tooltip","data-microtip-position":"bottom"})]}),(0,a.tZ)("span",{className:"jsx-10034a93e516db1e "+"jsx-".concat(x.Q.__hash),children:(0,a.tZ)(Z.Z,{filled:!1,border:!1,onClick:d,children:(0,a.tZ)(v.Z,{})})})]}),(0,a.tZ)("div",{className:"jsx-10034a93e516db1e "+"jsx-".concat(x.Q.__hash)+" threads-container",children:(0,a.BX)(O.gC,{spacing:6,align:"stretch",children:[(0,a.BX)(a.HY,{children:[I.slice(0,j).map((function(e){return(0,a.BX)("div",{className:"jsx-10034a93e516db1e "+"jsx-".concat(x.Q.__hash)+" thread-group",children:[-1!==e.path&&(0,a.tZ)("button",{onClick:function(){"string"===typeof e.path&&b.openFile(e.path)},className:"jsx-10034a93e516db1e "+"jsx-".concat(x.Q.__hash)+" group-header",children:(0,a.BX)("div",{className:"jsx-10034a93e516db1e "+"jsx-".concat(x.Q.__hash)+" left",children:[(0,a.tZ)(G.Z,{path:"number"!==typeof e.path?e.path:"",size:20}),(0,a.tZ)("span",{className:"jsx-10034a93e516db1e "+"jsx-".concat(x.Q.__hash)+" path",children:e.path}),(0,a.tZ)(te,{unreadCount:e.unreadCount})]})}),e.threads.map((function(e){return(0,a.tZ)(ne,{annotation:e,onClick:function(){return l(e.id)}},e.id)}))]},e.path)})),j<I.length&&(0,a.tZ)("div",{ref:T,style:{height:"100px"},className:"jsx-10034a93e516db1e "+"jsx-".concat(x.Q.__hash)})]}),(0,a.tZ)("div",{className:"jsx-10034a93e516db1e "+"jsx-".concat(x.Q.__hash)+" general-threads-buffer"})]})}),(0,a.tZ)(re,{generalThreadsOpen:i,setGeneralThreadsOpen:f}),(0,a.tZ)(c(),{id:x.Q.__hash,children:x.Q}),(0,a.tZ)(c(),{id:"6bd29fae0c26abbe",children:"::-webkit-scrollbar-track{background:transparent!important}"}),(0,a.tZ)(c(),{id:"ca620c0fa3049fc0",children:".feedback.jsx-10034a93e516db1e{text-decoration:none}.threads-feed.jsx-10034a93e516db1e .list-wrapper{z-index:1}.threads-feed.jsx-10034a93e516db1e{height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.threads-container.jsx-10034a93e516db1e{position:relative;padding:var(--space-16);overflow-y:auto;overflow-y:overlay}.header.jsx-10034a93e516db1e{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;padding:var(--space-8);padding-top:var(--space-16);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;min-height:32px}.thread-group.jsx-10034a93e516db1e{max-width:100%;display:grid;grid-gap:var(--space-16)}.group-header.jsx-10034a93e516db1e{color:var(--foreground-default);font-size:var(--font-size-subhead-default);cursor:pointer;display:grid;border:none;background-color:transparent;grid-gap:var(--space-8);grid-auto-flow:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-weight:var(--font-weight-medium);max-width:100%;overflow:hidden}.group-header.jsx-10034a93e516db1e:hover{color:var(--accent-primary-stronger)}.group-header.jsx-10034a93e516db1e .left.jsx-10034a93e516db1e{display:grid;grid-auto-flow:column;grid-template-columns:-webkit-min-content 1fr -webkit-max-content;grid-template-columns:min-content 1fr max-content;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;grid-gap:var(--space-8)}.path.jsx-10034a93e516db1e{text-align:left;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.general-threads-buffer.jsx-10034a93e516db1e{height:104px}"})]})}function ae(){var e,t,n=(0,u.Z)(),i=(0,I.sw0)({variables:{replId:n}}).data,o=(0,H.b9)(V.c),l=s.useRef(null),d=$(s.useState(null),2),p=d[0],h=d[1],m=$(s.useState(r.ACTIVE),2),g=m[0],v=m[1],b=$(s.useState(!1),2),y=b[0],Z=b[1],w=s.useContext(P.Z),k=w.annotations,S=w.jumpToThread,j=w.handleFinalizeMessage,C=w.handleChangeMessage,T=w.setResolvedAnnotation,A=w.createAnnotationAnchorPlaceholder,D=w.markAllMessagesInReplAsSeenByUser;if(s.useEffect((function(){var e=function(e){var t;if("Escape"===e.key&&l.current){var n=document.querySelectorAll(":hover"),r=Array.from(n).filter((function(e){var t;return null===(t=l.current)||void 0===t?void 0:t.contains(e)})).length>0,i=e.target&&(null===(t=l.current)||void 0===t?void 0:t.contains(e.target));(r||i)&&(p?h(null):y?Z(!1):o(!1))}};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[l,p,y,Z,h,o]),"Repl"!==(null===i||void 0===i||null===(e=i.repl)||void 0===e?void 0:e.__typename)||!(null===(t=i.repl)||void 0===t?void 0:t.user)||!i.currentUser)return null;var z=k.find((function(e){return e.id===p}));return(0,a.BX)("div",{ref:l,className:"jsx-ff646b2cd36de159 "+"jsx-".concat(x.Q.__hash)+" conversations-container",children:[!z&&(0,a.tZ)(oe,{annotations:k,onThreadClick:function(e){h(e),"Repl"===i.repl.__typename&&(0,N.j)(N.U3.THREAD_SELECTED,{replId:n,source:"threads",general:!1,variant:"replace-chat"})},onNewThreadClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=f()();A({annotationAnchor:{id:t,replId:n,path:null,otVersion:null,indexStart:null,indexEnd:null,isGeneral:e}}),h(t)}()},onMarkAllAsReadClick:D,inboxMode:g,onClose:function(){return o(!1)},setInboxMode:function(e){return v(e)},generalThreadsOpen:y,setGeneralThreadsOpen:function(e){e!==y&&(Z(e),"Repl"===i.repl.__typename&&e&&(0,N.j)(N.U3.THREAD_SELECTED,{replId:n,source:"threads",general:!0,variant:"replace-chat"}))}}),z&&(0,a.tZ)(ee,{annotation:z,onCloseThread:function(){return h(null)},onFinalizeMessage:function(e){j({anchor:z,message:e.message,messageId:e.messageId}),"Repl"===i.repl.__typename&&(0,N.j)(N.U3.MESSAGE_SENT,{replId:n,source:"threads",variant:"replace-chat"})},onChangeMessage:function(e){C({anchor:z,message:e.message,messageId:e.messageId})},markThreadResolved:function(e){T(e,!0),h(null)},markThreadUnresolved:function(e){T(e,!1)},scrollToAnchor:S}),(0,a.tZ)(c(),{id:x.Q.__hash,children:x.Q}),(0,a.tZ)(c(),{id:"ff646b2cd36de159",children:".conversations-container.jsx-ff646b2cd36de159{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:575px;width:350px;-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);border-color:var(--background-higher);border-width:1px;border-style:solid;-webkit-box-shadow:var(--shadow-1);-moz-box-shadow:var(--shadow-1);box-shadow:var(--shadow-1);background-color:var(--background-default)}@media only screen and (max-height:672px){.conversations-container.jsx-ff646b2cd36de159{height:450px;width:300px}}"})]})}function le(){var e=(0,u.Z)(),t=(0,U.Z)(),n=(0,W.Z)(),r=(0,k.Z)("flag-typing-presence"),i=n.map((function(e){return e.username})),l=(0,H.b9)(V.Q),c=(0,H.b9)(V.c),s=(0,_.Z)(),d=s.session,f=s.container,p=(0,Y.Z)(e,{onReceiveAnnotationUpdate:function(){}}),h=p.annotations,m=p.generalThread,g=p.placeholderAnchorId,v=p.createAnnotationAnchorPlaceholder,b=p.deleteAnnotationAnchorPlaceholder,y=p.createAnnotationMessage,Z=p.updateAnnotationAnchor,x=p.updateThreadPreview,w=p.markAllMessagesInReplAsSeenByUser,S=function(){var e,n=(e=o().mark((function e(n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=h.find((function(e){return e.id===n})))&&r.path){e.next=3;break}return e.abrupt("return");case 3:if(t===r.path){e.next=15;break}return e.prev=4,e.next=7,f.exec("test","-f",r.path);case 7:if(null===e.sent.error){e.next=10;break}return e.abrupt("return");case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return");case 15:d.openFile(r.path),l(n),c(!1);case 18:case"end":return e.stop()}}),e,null,[[4,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){K(o,r,i,a,l,"next",e)}function l(e){K(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,a.tZ)(P.Z.Provider,{value:{activeFile:t,users:n,annotations:h,generalThread:m,jumpToThread:S,onRequestCloseThread:function(){l(null),b(),d.focusEditor()},handleFinalizeMessage:function(e){var t=e.anchor,n=e.resolvedAnchor,r=e.message,o=e.messageId,a=(0,z.kW)(r,{users:q(i).concat(["everyone"])}),l=null===n||void 0===n?void 0:n.getHighlight();y({anchor:t,annotationMessage:{id:o,text:r,mentions:a.mentions},highlight:l})},handleChangeMessage:function(e){var t=e.anchor,n=e.message,i=e.messageId;x({threadId:t.id,message:r?n:null,messageId:i})},setResolvedAnnotation:function(e,t){g===e.id?b():Z({annotationAnchor:e,changes:{isResolved:t}})},createAnnotationAnchorPlaceholder:v,markAllMessagesInReplAsSeenByUser:w},children:(0,a.tZ)(ae,{})})}!function(e){e.ACTIVE="Active",e.RESOLVED="Resolved"}(r||(r={}))},89319:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(35944),i=n(79547),o=n.n(i),a=n(8893),l=n(13475),c=n(91131),s=n(33379),u=n(67294),d=n(23139),f=n(12380);function p(){var e=(0,c.b9)(s.c),t=(0,l.Z)((function(){e(!1)}),[]),n=(0,u.useRef)(null);return(0,r.BX)(r.HY,{children:[(0,r.tZ)(f.Z,{in:!0,timeout:300,appear:!0,transitionEnter:!1,transitionLeave:!0,classNames:"fade",children:(0,r.tZ)("div",{css:[d.l0.transition.chill,{width:"350px",height:"575px",bottom:52,right:0,position:"absolute"}],ref:n,className:o().dynamic([["2f8ab447b223d77",[d.TV.transitionDurationSnappy,d.TV.transitionTimingFunctionSnappy]]]),children:(0,r.tZ)("div",{ref:t,css:[d.l0.width("100%"),d.l0.height("100%")],className:o().dynamic([["2f8ab447b223d77",[d.TV.transitionDurationSnappy,d.TV.transitionTimingFunctionSnappy]]]),children:(0,r.tZ)(a.Z,{})})})}),(0,r.tZ)(o(),{id:"2f8ab447b223d77",dynamic:[d.TV.transitionDurationSnappy,d.TV.transitionTimingFunctionSnappy],children:".fade-appear.__jsx-style-dynamic-selector{opacity:0;bottom:-20px}.fade-appear.fade-appear-active.__jsx-style-dynamic-selector{opacity:1;bottom:52px;-webkit-transition:".concat(d.TV.transitionDurationSnappy," all ").concat(d.TV.transitionTimingFunctionSnappy,";-moz-transition:").concat(d.TV.transitionDurationSnappy," all ").concat(d.TV.transitionTimingFunctionSnappy,";-o-transition:").concat(d.TV.transitionDurationSnappy," all ").concat(d.TV.transitionTimingFunctionSnappy,";transition:").concat(d.TV.transitionDurationSnappy," all ").concat(d.TV.transitionTimingFunctionSnappy,"}")})]})}},89834:function(e,t,n){var r=n(35944),i=n(23139),o=n(67294),a=n(8286),l=n(86072),c=n(32378),s=n(18457),u=n(52697),d=n(7036),f=n(21837);t.Z=function(e){var t=e.hasUnseen,n=e.thread,p=e.onClick,h=function(e){var t=(0,f.Vy)(e.path?e:null);return null===t||void 0===t?void 0:t.getSnippet()}(n),m="Jump to code",g="Resolve this thread",v=function(e,t){return"View ".concat(e," ").concat(t?"unread ":""," ").concat(1===e?"reply":"replies")},b=function(e,t){return"Opened ".concat(e," by ").concat(t)},y=n.messages[0],Z=o.useMemo((function(){return(null===y||void 0===y?void 0:y.timeCreated)?(0,d.Z)(y.timeCreated)+" ago":"some time ago"}),[y]);return n.user?(0,r.BX)(i.Tg,{css:[i.gU.filledAndOutlined,i.l0.overflow("hidden")],onClick:function(){return null===p||void 0===p?void 0:p(n)},children:[(0,r.BX)(i.G7,{css:[i.l0.flex.row,i.l0.align.center,i.l0.justify.spaceBetween,i.l0.flex.grow(1),i.l0.px(8),i.l0.py(8)],children:[(0,r.tZ)(i.G7,{css:[i.l0.flex.row,i.l0.align.center,i.l0.rowWithGap(4)],children:(0,r.tZ)(i.xv,{color:"dimmer",variant:"small",children:b(Z,n.user.username)})}),(0,r.BX)(i.G7,{css:[i.l0.flex.row,i.l0.align.center,i.l0.rowWithGap(4)],children:[(0,r.tZ)(i.hU,{alt:m,onClick:function(){return null===p||void 0===p?void 0:p(n)},children:(0,r.tZ)(l.Z,{})}),(0,r.tZ)(i.hU,{alt:g,children:(0,r.tZ)(a.Z,{})})]})]}),h&&n.path&&(0,r.tZ)(c.Fy,{elevation:"root",path:n.path,snippet:h,fontSize:12,maxHeight:"42px",minHeight:"42px",allowScroll:!1}),(0,r.tZ)(i.G7,{css:[i.l0.p(8),i.l0.py(12)],children:(0,r.tZ)(s.Z,{message:y},y.id)}),n.messages.length>1&&(0,r.BX)(i.G7,{css:[i.l0.pb(12),i.l0.px(8),i.l0.flex.row,i.l0.align.center,i.l0.rowWithGap(4),i.l0.color.foregroundDimmer],children:[(0,r.tZ)(i.G7,{css:[i.l0.position.relative],children:(0,r.tZ)(u.Z,{unreadDot:t})}),(0,r.tZ)(i.xv,{variant:"small",children:v(n.messages.length-1,t)})]})]}):null}},8893:function(e,t,n){n.d(t,{Z:function(){return J}});var r=n(34051),i=n.n(r),o=n(35944),a=n(23139),l=n(88768),c=n(8286),s=(n(94485),n(40696)),u=n(71263),d=(n(63953),n(30223)),f=(n(70486),n(88076)),p=n(5560),h=n(67294),m=n(79744),g=n(85567),v=n(66715),b=n(40572),y=n(93577),Z=n(30617),x=n(33379),w=n(91131),k=n(65684),S=n(93943),j=n(5440),C=n(35515),T=n(89431),I=n(79547),A=n.n(I),D=n(74279),z=n(47571),E=n(55877),B=n.n(E),O=n(70420),R=n(21394),M=n(50553),P=n(8996),X=n(40425),G=n(51281),_=n(68342),L=n(94184),N=n.n(L),F=n(56834);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e){var t=e.unreadCount;return(0,o.BX)("div",{className:"jsx-7452becc48d76305 count-container",children:[t>0?(0,o.tZ)("div",{className:"jsx-7452becc48d76305 count",children:t}):null,(0,o.tZ)(A(),{id:"7452becc48d76305",children:".count-container.jsx-7452becc48d76305{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;height:15px}.count.jsx-7452becc48d76305{background:var(--accent-primary-default);color:var(--white);font-size:var(--font-size-small);height:15px;padding:0 5px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]})}function W(e){var t=e.generalThreadsOpen,n=e.setGeneralThreadsOpen,r=e.generalThread,i=e.handleChangeMessage,a=void 0===i?function(){}:i,l=e.handleFinalizeMessage,c=void 0===l?function(){}:l,s=e.createAnnotationAnchorPlaceholder,u=void 0===s?function(){}:s,d=(0,p.Z)(),f=h.useMemo((function(){if(!r)return[];var e=V(r.messages).sort((function(e,t){return new Date(e.timeCreated).getTime()-new Date(t.timeCreated).getTime()}));return(0,D.Z)(e)}),[r]);h.useEffect((function(){r||u({annotationAnchor:{id:B()(),replId:d,isGeneral:!0,indexStart:null,indexEnd:null,isResolved:!1,otVersion:null,path:null}})}),[r,d,u]),h.useEffect((function(){r||u({annotationAnchor:{id:B()(),replId:d,isGeneral:!0,indexStart:null,indexEnd:null,isResolved:!1,otVersion:null,path:null}})}),[r,d,u]);var m=h.useMemo((function(){return r?r.messages.filter((function(e){return!1===e.seen})).length:0}),[r]),g=h.useRef(null);(0,z.Z)(t&&r||null);return h.useEffect((function(){g.current&&(g.current.scrollTop=g.current.scrollHeight)}),[g,r]),r?(0,o.BX)("div",{onClick:function(){return n(!0)},className:"jsx-44fee8cee88ef73c "+"jsx-".concat(O.Q.__hash)+" "+(N()("general-thread",{"is-open":t})||""),children:[(0,o.BX)("div",{onClick:function(e){n(!t),e.stopPropagation()},className:"jsx-44fee8cee88ef73c "+"jsx-".concat(O.Q.__hash)+" general-thread-header",children:[(0,o.BX)(P.Ug,{spacing:1,align:"center",children:[(0,o.tZ)(X.Z,{level:5,children:"Chat"}),(0,o.tZ)(U,{unreadCount:m})]}),(0,o.tZ)(P.Ug,{spacing:1,align:"center",children:(0,o.tZ)(G.Z,{onClick:function(e){n(!t),e.stopPropagation()},filled:!1,Icon:function(){return(0,o.tZ)(M.Z,{rotate:t?0:180})},border:!1,size:"small"})})]}),(0,o.tZ)("div",{className:"jsx-44fee8cee88ef73c "+"jsx-".concat(O.Q.__hash)+" message-group-container-container",children:(0,o.tZ)("div",{ref:g,className:"jsx-44fee8cee88ef73c "+"jsx-".concat(O.Q.__hash)+" message-group-container",children:f.map((function(e){return(0,o.tZ)(_.ZP,{messageGroup:e},e.messages[0].id)}))})}),(0,o.tZ)("div",{className:"jsx-44fee8cee88ef73c "+"jsx-".concat(O.Q.__hash)+" thread-input-container",children:(0,o.tZ)(R.Z,{placeholder:"Send message",annote:r,onChangeMessage:function(e){a({anchor:r,message:e.message,messageId:e.messageId}),n(!0)},onFinalizeMessage:function(e){c({anchor:r,message:e.message,messageId:e.messageId}),n(!0),(0,F.j)(F.U3.MESSAGE_SENT,{replId:d,source:"generalThreads",variant:"replace-chat"})}})}),(0,o.tZ)(A(),{id:O.Q.__hash,children:O.Q}),(0,o.tZ)(A(),{id:"44fee8cee88ef73c",children:".general-thread.jsx-44fee8cee88ef73c{margin:1px;padding:var(--space-16);-webkit-border-radius:var(--border-radius-8);-moz-border-radius:var(--border-radius-8);border-radius:var(--border-radius-8);border-top:1px solid var(--background-higher);-webkit-box-shadow:var(--shadow-2);-moz-box-shadow:var(--shadow-2);box-shadow:var(--shadow-2);z-index:100;position:absolute;bottom:0;left:0;right:0;background:var(--background-default);display:grid;overflow:hidden;grid-template-rows:-webkit-min-content 1fr -webkit-min-content;grid-template-rows:min-content 1fr min-content;grid-gap:var(--space-8);cursor:pointer;-webkit-transition:.2s height;-moz-transition:.2s height;-o-transition:.2s height;transition:.2s height;height:7.5em}.general-thread.is-open.jsx-44fee8cee88ef73c{height:100%;cursor:unset}.general-thread-header.jsx-44fee8cee88ef73c{cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%}.message-group-container-container.jsx-44fee8cee88ef73c{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;overflow:hidden;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:0}.general-thread.is-open.jsx-44fee8cee88ef73c .message-group-container-container.jsx-44fee8cee88ef73c{height:100%}.message-group-container.jsx-44fee8cee88ef73c{display:grid;grid-row-gap:var(--space-16);overflow-y:auto;padding:var(--space-8);padding-bottom:0}.thread-input-container.jsx-44fee8cee88ef73c{width:100%}"})]}):null}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,i)}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"===typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}var J=function(){var e=(0,p.Z)(),t=(0,T.Z)("flag-typing-presence"),n=(0,S.Z)(e,{onReceiveAnnotationUpdate:function(){}}),r=n.annotations,I=n.generalThread,A=n.createAnnotationAnchorPlaceholder,D=n.createAnnotationMessage,z=n.updateThreadPreview,E=(0,l.WYo)(),B=E.data,O=E.loading,R=K(h.useState(!1),2),M=R[0],P=R[1],X=(0,y.Z)(),G=(0,w.b9)(x.Q),_=(0,Z.Z)(),L=_.container,N=_.session,F=K(h.useState(""),2),H=F[0],V=F[1],U=K(h.useState(!1),2),Y=U[0],q=U[1],J=K(h.useState(!1),2),ee=J[0],te=J[1],ne=h.useMemo((function(){var e,t=null===B||void 0===B||null===(e=B.currentUser)||void 0===e?void 0:e.id,n=r.filter((function(e){return!(!Y&&e.isResolved)&&!(ee&&t&&!function(e,t){var n;return(null===(n=e.user)||void 0===n?void 0:n.id)===t||e.messages.some((function(e){var n=e.user;return(null===n||void 0===n?void 0:n.id)===t}))}(e,t))}));return n}),[B,r,Y,ee]),re=h.useMemo((function(){return ne.filter((function(e){var t,n;return 0===H.length||null!==(n=null===(t=e.path)||void 0===t?void 0:t.toLowerCase().includes(H))&&void 0!==n&&n}))}),[H,ne]),ie=h.useMemo((function(){return re.reduce((function(e,t){var n=t.path;return n&&"undefined"!==typeof n?(e[n]=e[n]||[],e[n].push(t),e):e}),{})}),[re]),oe=(0,C.Z)().map((function(e){return e.username})),ae=v.Wo.StartThread.keyboardShortcut,le={title:"Threads",filters:{participating:{key:"participating",label:"Participating"},resolved:{label:"Show resolved"}},sorts:{chronological:{key:"chronological",label:"Chronological"},codeOrder:{key:"codeOrder",label:"Code Order"}},search:{placeholder:"Search threads\u2026"},empty:{image:{alt:"an illustration of an escape key that resembles a sunny beach, with an umbrella and palm tree"},text:{primary:"You haven\u2019t started any threads yet.",secondary:(0,o.BX)(o.HY,{children:["Select code and press"," ",(0,o.tZ)(g.Z,{shortcut:ae,small:!0})," ","to get started."]})}}},ce=function(){var e,t=(e=i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.path){e.next=2;break}return e.abrupt("return");case 2:if(X===t.path){e.next=14;break}return e.prev=3,e.next=6,L.exec("test","-f",t.path);case 6:if(null===e.sent.error){e.next=9;break}return e.abrupt("return");case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return");case 14:N.openFile(t.path),G(t.id);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Q(o,r,i,a,l,"next",e)}function l(e){Q(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,o.BX)(a.Tg,{className:"threads-inbox",elevated:!0,css:[a.l0.borderRadius(8),a.l0.pb(8),a.l0.shadow(2),a.l0.height("100%"),a.l0.width("100%"),a.l0.overflowY("auto"),{borderWidth:a.TV.borderWidthDefault,borderStyle:"solid",borderColor:a.TV.outlineDimmest}],children:[(0,o.BX)(a.G7,{className:"threads-inbox-header",css:[a.l0.py(12),a.l0.px(8),a.l0.position.sticky,a.l0.top(0),a.l0.backgroundColor.backgroundDefault,{zIndex:10}],children:[(0,o.BX)(a.G7,{css:[a.l0.flex.row,a.l0.justify.spaceBetween,a.l0.align.center,a.l0.pb(12)],children:[(0,o.BX)(a.G7,{css:[a.l0.align.center,a.l0.rowWithGap(4)],children:[(0,o.tZ)(b.Z,{size:20}),(0,o.tZ)(a.xv,{variant:"subheadDefault",children:le.title})]}),(0,o.tZ)(k.Z,{feature:"Threads",css:a.l0.flex.shrink(1)})]}),(0,o.BX)(a.G7,{css:[a.l0.flex.row,a.l0.align.center,a.l0.justify.spaceBetween,a.l0.rowWithGap(8)],children:[(0,o.tZ)(a.II,{placeholder:le.search.placeholder,value:H,onChange:function(e){return V(e.target.value)}}),(0,o.BX)(a.ZE,{icon:(0,o.tZ)(s.Z,{}),onAction:function(e){"toggle-resolved"===e?q((function(e){return!e})):"toggle-participating"===e&&te((function(e){return!e}))},children:[(0,o.tZ)(u.ck,{"aria-label":le.filters.participating.label,children:(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.align.center],children:[(0,o.tZ)(f.Z,{}),(0,o.tZ)(a.xv,{children:le.filters.participating.label})]})},"toggle-participating"),(0,o.tZ)(u.ck,{"aria-label":le.filters.resolved.label,children:(0,o.BX)(a.G7,{css:[a.l0.rowWithGap(8),a.l0.align.center],children:[(0,o.tZ)(c.Z,{}),(0,o.tZ)(a.xv,{children:le.filters.resolved.label})]})},"toggle-resolved")]}),!1]})]}),0!==Object.keys(ie).length||O?(0,o.tZ)(a.G7,{children:Object.keys(ie).map((function(e,t){return(0,o.tZ)(d.Z,{path:e||"-",threads:Object.values(ie)[t],onThreadClick:function(e){ce(e)}},e)}))}):(0,o.BX)(a.G7,{css:[a.l0.align.center,a.l0.justify.center,a.l0.flex.grow(1)],children:[(0,o.tZ)(a.G7,{css:[a.l0.width(140),a.l0.height(140),a.l0.position.relative,a.l0.align.center,a.l0.justify.center,{pointerEvents:"none"}],children:(0,o.tZ)(m.Z,{alt:le.empty.image.alt,src:"/public/images/product/threads-empty.svg",layout:"fill"})}),(0,o.tZ)(a.xv,{variant:"subheadDefault",css:a.l0.mt(32),children:le.empty.text.primary}),(0,o.tZ)("div",{css:[a.l0.color.foregroundDimmest],children:(0,o.tZ)(a.xv,{variant:"text",css:a.l0.mt(8),children:le.empty.text.secondary})})]}),(0,o.tZ)(W,{generalThreadsOpen:M,setGeneralThreadsOpen:P,generalThread:I,handleChangeMessage:function(e){var n=e.anchor,r=e.message,i=e.messageId;z({threadId:n.id,message:t?r:null,messageId:i})},handleFinalizeMessage:function(e){var t=e.anchor,n=e.resolvedAnchor,r=e.message,i=e.messageId,o=(0,j.kW)(r,{users:$(oe).concat(["everyone"])}),a=null===n||void 0===n?void 0:n.getHighlight();D({anchor:t,annotationMessage:{id:i,text:r,mentions:o.mentions},highlight:a})},createAnnotationAnchorPlaceholder:A})]})}},30223:function(e,t,n){var r=n(35944),i=n(23139),o=n(55681),a=n(89834);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.Z=function(e){var t=e.path,n=e.threads,l=e.onThreadClick,s=null===n||void 0===n?void 0:n.reduce((function(e,t){return c(e).concat(c(t.messages))}),[]),u=null===s||void 0===s?void 0:s.some((function(e){return!e.seen}));return(0,r.tZ)(i.G7,{css:[i.l0.pb(8)],children:(0,r.tZ)(i.Qd,{css:[i.TV.singleLine,i.l0.px(8)],headerContent:(0,r.BX)(i.G7,{css:[i.l0.flex.row,i.l0.align.center,i.l0.justify.spaceBetween,i.l0.flex.growAndShrink(1),i.l0.mr(8)],children:[(0,r.BX)(i.G7,{css:[i.l0.flex.row,i.l0.align.center,i.l0.rowWithGap(8),i.l0.flex.growAndShrink(1)],children:[(0,r.tZ)(o.Z,{path:t,size:20}),(0,r.tZ)(i.xv,{css:[i.l0.flex.shrink(1)],children:t})]}),u&&(0,r.tZ)("div",{css:[i.l0.width(8),i.l0.height(8),i.l0.backgroundColor.redStronger,i.l0.borderRadius("full")]})]}),children:(0,r.tZ)("div",{css:[i.l0.mt(8),i.l0.colWithGap(8)],children:n.map((function(e){return(0,r.tZ)(a.Z,{hasUnseen:u,thread:e,onClick:l},e.id)}))})})})}},97285:function(e,t,n){n.d(t,{$:function(){return x},D:function(){return Z}});var r=n(35944),i=n(67294),o=n(30617),a=n(45421),l=n(5289),c=n(17518),s=n(55681),u=n(29987),d=n(54929),f=n(3204),p=n(11938),h=n(92704),m=n(62873),g=n(47865),v=n(91131),b=n(11717);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z={Content:function(e){var t=e.pane,n=e.options;return(0,r.tZ)(w,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}({},t.data,{isHidden:n.isHidden}))},Icon:function(e){var t=e.pane,n=e.size;return(0,r.tZ)(s.Z,{path:t.data.path||"",size:n})},getTitle:function(e){return e.data.path||"No file open"}},x=(0,v.cn)(null);function w(e){var t=e.path,n=e.line,s=e.col,y=e.isHidden,Z=(0,o.Z)().lsp,w=(0,v.b9)(g.MG),k=(0,b.Qm)(),S=Boolean(t&&((0,a.V)(t)===a.D.Code||(0,a.V)(t)===a.D.Markdown));i.useEffect((function(){S&&Z.start()}),[Z,S]);var j=(0,u.Z)(),C=function(e){var t=e.isHidden,n=(0,v.b9)(x);return i.useEffect((function(){t&&n(null)}),[n,t]),(0,i.useCallback)((function(e){n({focus:function(){e.focus()}})}),[n])}({isHidden:y});if(!t)return null;if(!S)return null;var T=(0,r.tZ)(c.Z,{filePath:t,onType:j,onFocus:C,autoFocus:!(0,l.Z)(),deeplink:{line:n,col:s},hideMobileKeyboardToolbar:!0});return t===p.l&&k?(0,r.BX)(d.Z,{children:[(0,r.tZ)(d.Z,{css:[f.l0.position.absolute,f.l0.mt(24),f.l0.mr(32),{right:0,zIndex:1e3}],children:(0,r.tZ)(h.ZP,{text:"Switch to visual .replit editor",iconLeft:(0,r.tZ)(m.Z,{}),onClick:function(){return w({pane:{type:"dotReplitEditor"},match:function(e){return"dotReplitEditor"===e.data.type},insertTrys:[{placement:"replace",match:function(e){return"codeEditor"===e.data.type}}]})}})})," ",T]}):T}},1933:function(e,t,n){n.d(t,{U:function(){return xr}});var r=n(35944),i=n(67294),o=n(67542),a=n(12325),l={Content:function(){return(0,r.tZ)(o.Z,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(a.Z,{size:t})},getTitle:function(){return"Markdown"}},c=n(59897),s=n(76798),u=n(30617),d=n(50658),f={Content:function(){return(0,r.tZ)(p,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(c.Z,{size:t})},getTitle:function(){return"Files"}};function p(){var e=(0,u.Z)().session,t=(0,d.Z)("fileTree").trackTimeToLoadFileStart;return(0,r.tZ)(s.Z,{onFileNodeClick:function(n,r){t(n),e.openFile(n,{newTab:r})}})}var h=n(97285),m=n(50278),g=n(47019),v=n(31284),b=n(63805),y={Content:function(e){var t=e.options;return(0,r.tZ)(Z,{visible:!t.isHidden})},Icon:function(e){var t=e.size;return(0,r.tZ)(g.Z,{size:t})},getTitle:function(){return"Console"}};function Z(e){var t=e.visible,n=(0,u.Z)(),o=n.session,a=n.runner,l=n.packager,c=n.container,s=n.debuggest,d=i.useRef(null),f=(0,v.Z)(s.mainClient);return i.useEffect((function(){if(f)return f.onOutput((function(e){d.current&&d.current.write(e)}))}),[f]),i.useEffect((function(){var e=o.onTerminalClear((function(){d.current&&d.current.clear()})),t=o.onTerminalWrite((function(e){d.current&&d.current.write(e)}));return function(){e(),t()}}),[o]),i.useEffect((function(){t&&d.current&&d.current.focus()}),[t]),i.useEffect((function(){if(!(0,b.isMobile)())return a.onLocalRun((function(){var e,t;null===(e=d.current)||void 0===e||e.clear(),null===(t=d.current)||void 0===t||t.focus()}))}),[a]),(0,r.tZ)(m.Z,{runner:a,packager:l,ref:d,onBootStatus:c.client().onBootStatus})}var x=n(51419),w=n(58032),k=n(15866),S=n(93577),j={Content:function(){return(0,r.tZ)(C,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(k.Z,{size:t})},getTitle:function(){return"Secrets"}};function C(){var e=(0,u.Z)().fs,t=(0,S.Z)();return(0,r.tZ)(w.Z,{children:(0,r.tZ)(x.Z,{fs:e,activeFile:t})})}var T=n(74661),I=n(81970),A=n(23139),D={Content:function(){return(0,r.BX)(A.G7,{css:[A.l0.overflow("auto")],children:[(0,r.tZ)(A.h4,{variant:"subheadBig",level:3,css:[A.l0.p(8)],children:"Settings"}),(0,r.tZ)(T.Z,{css:[{backgroundColor:"transparent"}]})]})},Icon:function(e){var t=e.size;return(0,r.tZ)(I.Z,{size:t})},getTitle:function(){return"Settings"}},z=n(20370),E=n(66919),B={Content:function(){return(0,r.BX)(A.G7,{children:[(0,r.tZ)(A.h4,{variant:"subheadBig",level:3,css:[A.l0.p(12)],children:"Packages"}),(0,r.tZ)(z.Z,{})]})},Icon:function(e){var t=e.size;return(0,r.tZ)(E.Z,{size:t})},getTitle:function(){return"Packager"}},O=n(27248),R=n(67472),M={Content:function(){var e=(0,S.Z)();return(0,r.tZ)(R.Z,{activeFile:e})},Icon:function(e){var t=e.size;return(0,r.tZ)(O.Z,{size:t})},getTitle:function(){return"Database"}},P=n(43151),X=n(33468),G=n(30693),_=n(43233),L=n(36107),N=n(28774),F=n(91131),H=n(47865),V=n(38848),U=n(21217),W={Content:function(e){var t=e.options,n=t.paneId,o=t.isHidden,a=(0,u.Z)(),l=a.container,c=a.fs,s=a.session,d=a.runner,f=(0,F.b9)(V.Oe),p=(0,i.useRef)(null);(0,P.x)(Y,{run:function(){var e;f(n),null===(e=p.current)||void 0===e||e.refresh()}}),(0,X.Y)({match:L.pl,data:{type:"action",label:"Refresh",icon:(0,r.tZ)(N.Z,{}),description:"Refresh webview",keyboardShortcut:Y,run:function(){var e;f(n),null===(e=p.current)||void 0===e||e.refresh()}}}),(0,i.useEffect)((function(){return l.onPortOpened((function(e){var t;e.isVnc||null===(t=p.current)||void 0===t||t.refresh()}))}),[l]),i.useEffect((function(){if("html"===d.mode)return d.onStateChanged((function(e){var t;e===U.A.RUNNING&&(null===(t=p.current)||void 0===t||t.refresh())}))}),[d]);var h=(0,F.b9)(H.$r);return(0,r.tZ)(_.Z,{fs:c,session:s,ref:p,isVisible:!o,onClose:function(){h(n)}})},Icon:function(e){var t=e.size;return(0,r.tZ)(G.Z,{size:t})},getTitle:function(){return"Webview"}},Y={cmdOrCtrlKey:!0,altKey:!1,shiftKey:!1,key:"S"};var Q=n(71688),K=n(34051),$=n.n(K),q=n(98990),J=n(71054),ee=n(60915),te=n(13494),ne=n(94485),re=n(55681),ie=n(49265),oe=n(88768),ae=n(5560),le=n(29738),ce=n(19826);function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,i)}function de(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fe={type:"context",icon:(0,r.tZ)(q.Z,{}),label:"",description:"Search for tools and files"};function pe(){var e,t=(0,u.Z)(),n=t.fs,o=t.session,l=t.container,c=(0,F.Dv)(V.M4),s=(0,F.Dv)(V.PC),d=(0,F.Dv)(V.$1),f=(0,F.Dv)(V.bg),p=(0,F.Dv)(V.d6),h=(0,le.A)(),m=(0,le.Z)(),v=(0,ae.Z)(),b=(0,oe.cgv)({variables:{replId:v}}),y="Repl"===(null===(e=b.data)||void 0===e?void 0:e.repl.__typename)?b.data.repl.config:null,Z=Boolean(null===y||void 0===y?void 0:y.isVnc),x=Boolean(null===y||void 0===y?void 0:y.isServer),w=(0,F.b9)(V.Ky),k=(0,F.b9)(V._N),S=(0,F.b9)(V.im),j=(0,i.useMemo)((function(){var e=[];return!c&&x&&e.push({match:L.pl,data:{type:"action",label:"Webview",icon:(0,r.tZ)(G.Z,{}),run:function(){k("webview")}}}),!s&&Z&&e.push({match:L.pl,data:{type:"action",label:"VNC view",icon:(0,r.tZ)(G.Z,{}),run:function(){k("vnc")}}}),d||e.push({match:L.pl,data:{type:"action",label:"Console",icon:(0,r.tZ)(g.Z,{}),run:function(){S()}}}),e}),[x,Z,c,s,d,k,S]),C=(0,i.useMemo)((function(){var e=[{type:"openPane",icon:(0,r.tZ)(ee.Z,{}),label:"Shell",pane:{type:"shell"}}].map((function(e){return{match:L.pl,data:e}}));return f||e.push({match:L.pl,data:{type:"action",label:"Markdown",icon:(0,r.tZ)(a.Z,{}),run:function(){w({type:"markdown",data:{path:""}})}}}),p||e.push({match:L.pl,data:{type:"action",label:"Docs",icon:(0,r.tZ)(ce.Z,{}),run:function(){w({type:"docs"})}}}),e}),[f,p,w]),T=(0,i.useMemo)((function(){return{data:{type:"context",label:"Recent",icon:(0,r.tZ)(ne.Z,{})},commands:function(){var e,t=(e=$().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.search,e.abrupt("return",m.map((function(e){return{match:function(e){return n?(0,L.pl)(e):{score:10}},data:{type:"openFile",label:e,icon:(0,r.tZ)(re.Z,{path:e}),deeplink:{path:e}}}})));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ue(o,r,i,a,l,"next",e)}function l(e){ue(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()}}),[m]);return(0,i.useMemo)((function(){return{data:fe,commands:function(){return[T,{data:{type:"context",label:"Tools",icon:(0,r.tZ)(te.Z,{})},commands:function(){return[(0,J.i)({session:o,fs:n,getRecentFiles:h}),(0,ie.F)({container:l})].concat(de(C),de(j))}}]}}}),[n,o,l,C,j,h,T])}var he=n(96505),me=n(15391),ge=n(80682);function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ve(e,t,n[t])}))}return e}var ye=(0,A.KD)("div"),Ze=(0,A.KD)("input");function xe(e){var t=pe(),n=(0,Q.Z)({onSelect:e.onSelect,initialCommand:t,insertSectionHeaders:!0}),o=n.combobox,a=n.inputRef;return(0,i.useEffect)((function(){var t;e.autoFocus&&(e.isHidden||null===(t=a.current)||void 0===t||t.focus())}),[e.autoFocus,e.isHidden,a]),(0,r.BX)(A.G7,{css:[A.l0.flex.growAndShrink(1)],children:[(0,r.tZ)(ye,be({},o.getComboboxProps(),{children:(0,r.BX)(A.Tg,{css:[A.l0.rowWithGap(4),A.l0.align.center,n.path.length>1&&A.l0.pl(8),{borderTop:"1px solid ",borderBottom:"1px solid ",borderColor:A.TV.backgroundHigher,":focus-within":{borderColor:A.TV.backgroundHighest}}],children:[n.path.map((function(e,t){var i=e.data;if(t<=1)return null;var o=i.label,a=i.icon,l=o+t;return(0,r.tZ)(he.M,{label:o,icon:a,onClick:function(){return n.resetToIndex({index:t,focus:!0})}},l)})),(0,r.tZ)(Ze,be({css:[ge.T,A.l0.px(8),n.path.length>1&&{paddingLeft:4}]},n.combobox.getInputProps({value:n.inputValue,ref:n.inputRef,onChange:function(e){return n.setInputValue(e.currentTarget.value)},onKeyDown:function(e){"ArrowLeft"!==e.key&&"ArrowRight"!==e.key?"Backspace"!==e.key||e.currentTarget.value?"Escape"===e.key&&e.currentTarget.blur():n.resetToIndex({index:0}):n.handleLeftRightArrow(e.key)},placeholder:n.placeholder})))]})})),(0,r.tZ)(ke,{items:n.itemsWithSections||[],getMenuProps:o.getMenuProps,getItemProps:o.getItemProps,highlightedIndex:o.highlightedIndex,isLoading:n.isLoading})]})}function we(e){return(0,r.tZ)(ye,be({},e.getMenuProps(),{css:[A.l0.flex.growAndShrink(1),A.l0.overflow("auto")],children:e.isLoading||e.items.length?e.items.map((function(t){if(t.isSection){var n=t.name;return(0,r.tZ)(A.xv,{variant:"small",color:"dimmest",css:[A.l0.px(8),A.l0.py(4),{marginTop:8}],children:n},n)}var i=t.item,o=t.index,a=i.data,l=a.label,c=a.icon,s=i.match.render,u=o===e.highlightedIndex,d=s&&"content"in s?s.content:void 0,f=s&&"ranges"in s?s.ranges:void 0;return(0,r.tZ)(ye,be({css:[{cursor:"pointer"}]},e.getItemProps({item:i,index:o}),{children:d?(0,r.tZ)(me.Z,{active:u,content:d}):(0,r.tZ)(me.Z,{active:u,item:{icon:c,label:l,active:u,highlightRanges:f}})}),(0,Q.k)(i))})):null}))}var ke=(0,i.memo)(we),Se=n(66168),je={Content:function(e){var t=e.options,n=t.openPane,i=t.isHidden,o=e.pane.data.autoFocus;return(0,r.tZ)(xe,{autoFocus:o,isHidden:i,onSelect:function(e){if("openFile"!==e.data.type)"openPane"!==e.data.type?"action"!==e.data.type||e.data.run():n(e.data.pane);else{var t=e.data.deeplink.path,r={type:(0,Se.Dp)({path:t,visualDotReplitEditorEnabled:!1}),data:{path:t}};n(r)}}})},Icon:function(){return null},getTitle:function(){return"New tab"}},Ce=n(64824),Te=n(77346),Ie=n(35060),Ae=n(34503),De={Content:function(e){return(0,r.tZ)(ze,{paneId:e.options.paneId})},Icon:function(e){var t=e.size;return(0,r.tZ)(G.Z,{size:t})},getTitle:function(){return"Output"}};function ze(e){var t=(0,F.b9)(H.$r),n=(0,u.Z)(),i=n.fs,o=n.container;return(0,F.Dv)((0,Ce.kv)(Ae.H,(function(e){return e.flagLayoutTabs})))?(0,r.BX)(A.G7,{css:[A.l0.flex.growAndShrink(1)],children:[(0,r.BX)(A.G7,{css:[A.l0.p(8),A.l0.rowWithGap(8),A.l0.align.center,A.l0.justify.spaceBetween],children:[(0,r.BX)(A.G7,{css:[A.l0.rowWithGap(4),A.l0.align.center],children:[(0,r.tZ)(G.Z,{}),(0,r.tZ)(A.xv,{css:[A.l0.flex.growAndShrink(1)],children:"VNC"})]}),(0,r.tZ)(A.hU,{alt:"Remove",tooltipHidden:!0,onClick:function(){t(e.paneId)},children:(0,r.tZ)(Ie.Z,{})})]}),(0,r.tZ)(A.G7,{css:[A.l0.flex.growAndShrink(1)],children:(0,r.tZ)(Te.Z,{fs:i,container:o})})]}):(0,r.tZ)(Te.Z,{fs:i,container:o})}var Ee=n(16524),Be=n(58375),Oe=n(88503);function Re(e){var t=e.pane,n=e.label,r=e.icon,i=e.action;return(0,L.fA)({type:"paneAction",label:n,icon:r,action:i,pane:t},{match:L.pl})}var Me={Content:function(e){var t=e.options;return(0,r.tZ)(Pe,{visible:!t.isHidden})},Icon:function(e){var t=e.size;return(0,r.tZ)(g.Z,{size:t})},getTitle:function(){return"Shell"},getActions:function(e){return function(){return[Re({label:"Clear",icon:(0,r.tZ)(Be.Z,{}),action:{type:"clear"},pane:e}),Re({label:"Search",icon:(0,r.tZ)(Oe.Z,{}),action:{type:"search"},pane:e})]}}};function Pe(e){var t=e.visible,n=(0,u.Z)(),i=n.container,o=n.fs;return(0,r.tZ)(Ee.Z,{container:i,fs:o,visible:t})}var Xe=n(37044),Ge=n(29698),_e={Content:function(e){var t=e.pane;return(0,r.tZ)(Le,{path:t.data.path})},Icon:function(e){var t=e.size;return(0,r.tZ)(Ge.Z,{size:t})},getTitle:function(e){return e.data.path}};function Le(e){var t=e.path,n=(0,u.Z)(),i=n.fs,o=n.broadcast,a=n.presence;return(0,r.tZ)(Xe.Z,{fs:i,broadcast:o,presence:a,filePath:t})}var Ne=n(62208);function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He={Content:function(e){var t=e.pane;return(0,r.tZ)(Ve,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Fe(e,t,n[t])}))}return e}({},t.data))},Icon:function(e){var t=e.pane,n=e.size;return(0,r.tZ)(re.Z,{path:t.data.path,size:n})},getTitle:function(e){return e.data.path}};function Ve(e){var t=e.path,n=(0,u.Z)().fs;return(0,r.tZ)(A.G7,{css:[A.l0.flex.growAndShrink(1),A.l0.center],children:(0,r.tZ)(Ne.Z,{filePath:t,fs:n})})}var Ue=n(74677),We=n(89731),Ye={Content:function(e){var t=e.pane;return(0,r.tZ)(We.Z,{activeFile:t.data.path})},Icon:function(e){var t=e.size;return(0,r.tZ)(Ge.Z,{size:t})},getTitle:function(e){return e.data.path}},Qe=n(8286),Ke=n(57885),$e={Content:function(){return(0,r.tZ)(A.G7,{css:[A.l0.p(8)],children:(0,r.tZ)(Ke.Z,{})})},Icon:function(e){var t=e.size;return(0,r.tZ)(Qe.Z,{size:t})},getTitle:function(){return"Unit Tests"}},qe=n(96641),Je={Content:function(){return(0,r.tZ)(qe.Z,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(Qe.Z,{size:t})},getTitle:function(){return"Autograder"}},et=n(44262),tt=n(10781),nt={Content:function(){return(0,r.tZ)(tt.Z,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(et.Z,{size:t})},getTitle:function(){return"Education Pane"}},rt=n(22150),it={Content:function(){return(0,r.tZ)(rt.Z,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(et.Z,{size:t})},getTitle:function(){return"Instructions"}},ot=n(79806),at=n(95249),lt={Content:function(){return(0,r.tZ)(ct,{})},Icon:function(){return(0,r.tZ)(ot.Z,{})},getTitle:function(){return"Kaboom"}};function ct(){var e=(0,u.Z)().session;return(0,r.tZ)(at.Z,{onFileOpen:function(t){e.openFile(t)}})}var st,ut,dt=n(67936),ft=n(67642),pt=n(15770),ht=n(52855),mt=n(54683),gt=n(76531);function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.Repl="repl",e.Logs="logs",e.LSP="lsp",e.Copilot="copilot",e.Metadata="metadata",e.Override="override"}(st||(st={}));var Zt=(bt(ut={},st.Repl,dt._),bt(ut,st.Logs,gt.ZP),bt(ut,st.LSP,ft.L),bt(ut,st.Copilot,pt.n),bt(ut,st.Metadata,ht.S),bt(ut,st.Override,mt.V),ut),xt=Object.values(st);function wt(){var e=(0,i.useState)(st.Repl),t=e[0],n=e[1],o=xt.map((function(e){return(0,r.tZ)(A.zx,{css:A.l0.flex.grow(1),colorway:e===t?"primary":void 0,onClick:function(){return n(e)},text:e},e)}));return(0,r.BX)(A.Tg,{background:"default",css:[A.l0.colWithGap(8),A.l0.p(4),A.l0.height("100%")],children:[(0,r.tZ)(A.G7,{css:A.l0.rowWithGap(2),children:o}),(0,r.tZ)(A.G7,{css:[A.l0.flex.growAndShrink(1),A.l0.overflow("auto")],children:Object.entries(Zt).map((function(e){var n=yt(e,2),i=n[0],o=n[1];return(0,r.tZ)(A.G7,{css:i!==t&&A.l0.display.none,children:i===st.Override&&t!==st.Override?null:(0,r.tZ)(o,{})},i)}))})]})}var kt=n(34996),St={Content:function(){return(0,r.tZ)(wt,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(kt.Z,{size:t})},getTitle:function(){return"Debug"}},jt=n(76278),Ct={Content:function(){return(0,r.tZ)(Tt,{})},Icon:function(){return null},getTitle:function(){return""}};function Tt(){var e=(0,u.Z)().session;return(0,r.tZ)(jt.Z,{onOpenFile:function(t){e.openFile(t.path),e.updateDeeplink(t)}})}var It=n(52811),At={Content:function(){return(0,r.tZ)(It.Z,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(et.Z,{size:t})},getTitle:function(){return"Tutorial"}},Dt=n(10672),zt=n(24799),Et={Content:function(e){var t=e.options.paneId,n=(0,F.b9)(H.$r);return(0,r.tZ)(Dt.Z,{closeConfigPane:function(){return n(t)},useReadFile:zt.Z})},Icon:function(){return null},getTitle:function(){return""}};var Bt=n(89431),Ot=n(18614),Rt=n(89319);function Mt(){return(0,Bt.Z)("flag-threads-2")?(0,r.tZ)(Rt.Z,{}):(0,r.tZ)(Ot.Z,{})}var Pt,Xt={Content:function(){return(0,r.tZ)(Mt,{})},Icon:function(){return null},getTitle:function(){return""}},Gt=n(47334),_t=n(11938),Lt=n(54929),Nt=n(3204),Ft=n(92704),Ht=n(22274),Vt=n(3609),Ut=n(34860),Wt=n(73345),Yt=n(86072),Qt=n(61955),Kt=n(50055),$t=n(21644),qt=n(67938),Jt=n(79635),en=n(27422),tn=n(27464),nn=n(76529),rn=n(94590),on=n(48938),an=(0,Lt.K)("a");!function(e){e.Command="command",e.Boolean="boolean",e.ListOfString="[string]",e.String="string",e.KeyValue="key-value",e.Hint="{regex, message}"}(Pt||(Pt={}));var ln=function(e){var t=e.field,n=e.argumentType,i=e.docsLink,o=e.disabled,a=e.setIsDisabled,l=e.description;return(0,r.BX)(Lt.Z,{css:[Nt.l0.colWithGap(8),Nt.l0.align.start,Nt.l0.width("100%")],children:[(0,r.BX)(Lt.Z,{css:[Nt.l0.flex.row,Nt.l0.justify.spaceBetween,Nt.l0.width("100%")],children:[(0,r.BX)(Lt.Z,{css:[Nt.l0.rowWithGap(8),Nt.l0.align.center],children:[(0,r.tZ)(qt.x,{variant:"subheadDefault",css:[o?Nt.l0.color.foregroundDimmest:Nt.l0.color.foregroundDefault],children:t}),n===Pt.Command?(0,r.tZ)(Jt.ZP,{tooltip:'A Command can either be a string or a list of strings. If the Command is a string ("node index.js"), it will be executed via sh -c "<Command>". If the Command is a list of strings (["node", "index.js"]), it will be directly executed with the list of strings passed as arguments. When possible, it is preferred to pass a list of strings.',placement:"bottom",isDisabled:o,children:(0,r.tZ)(an,{href:"https://docs.replit.com/programming-ide/configuring-repl#replit-reference",target:"_blank",rel:"noopener noreferrer",css:[o?Nt.l0.color.foregroundDimmest:Nt.l0.color.foregroundDefault,{cursor:o?"auto":"pointer",pointerEvents:o?"none":"auto"}],children:(0,r.tZ)(en.Z,{text:Pt.Command,clickable:!o})})}):null,n===Pt.Boolean?(0,r.tZ)(en.Z,{text:Pt.Boolean,clickable:!1,css:[o?Nt.l0.color.foregroundDimmest:Nt.l0.color.foregroundDefault]}):null,n===Pt.ListOfString?(0,r.tZ)(Jt.ZP,{tooltip:"A list of strings.",placement:"bottom",isDisabled:o,children:(0,r.tZ)(en.Z,{text:Pt.ListOfString,clickable:!1,css:[o?Nt.l0.color.foregroundDimmest:Nt.l0.color.foregroundDefault]})}):null,n===Pt.String?(0,r.tZ)(en.Z,{text:Pt.String,clickable:!1,css:[o?Nt.l0.color.foregroundDimmest:Nt.l0.color.foregroundDefault]}):null,n===Pt.KeyValue?(0,r.tZ)(en.Z,{text:Pt.KeyValue,clickable:!1,css:[o?Nt.l0.color.foregroundDimmest:Nt.l0.color.foregroundDefault]}):null,n===Pt.Hint?(0,r.tZ)(Jt.ZP,{tooltip:"A hint is made up of a RegEx and a message. The shell will look for strings matching the RegEx specified, and will print the message once a match is found.",placement:"bottom",isDisabled:o,children:(0,r.tZ)(en.Z,{text:Pt.Hint,clickable:!o,css:[o?Nt.l0.color.foregroundDimmest:Nt.l0.color.foregroundDefault]})}):null,(0,r.tZ)(an,{href:i,target:"_blank",rel:"noopener noreferrer",css:[Nt.l0.color.foregroundDefault,{pointerEvents:o?"none":"auto"}],children:(0,r.tZ)(tn.Z,{alt:"Open Docs",disabled:o,tooltipHidden:o,children:(0,r.tZ)(nn.Z,{})})})]}),["run","channel","start","pattern"].includes(t)?null:(0,r.tZ)(tn.Z,{alt:o?"Add field":"Remove field",onClick:function(){return a(!o)},children:o?(0,r.tZ)(rn.Z,{}):(0,r.tZ)(on.Z,{})})]}),(0,r.tZ)(qt.x,{css:[o?Nt.l0.color.foregroundDimmest:Nt.l0.color.foregroundDimmer],multiline:!0,variant:"small",children:l})]})},cn=n(90652),sn=n(89957);function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return un(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fn=function(e){var t,n=e.initialCommand,o=e.createCommandOp,a=e.fieldName,l=e.docsLink,c=e.placeholder,s=e.description,d=e.disabled,f=e.setIsDisabled,p=(0,u.Z)().dotReplit,h=dn(i.useState((null!==(t=null===n||void 0===n?void 0:n.args)&&void 0!==t?t:[]).join(" ")),2),m=h[0],g=h[1];i.useEffect((function(){g((0,Qt.m)(null!==n&&void 0!==n?n:void 0))}),[n]);var v=(0,cn.Z)(m,400);i.useEffect((function(){v&&p.updateDotReplit([o(v)])}),[v,o,p]);return(0,r.BX)(Lt.Z,{css:[Nt.l0.colWithGap(8)],children:[(0,r.tZ)(ln,{field:a,argumentType:Pt.Command,docsLink:l,disabled:d,setIsDisabled:function(e){if(f(e),e)return p.updateDotReplit([(0,$t.xz)(a)]),void g("");p.updateDotReplit([o(v)])},description:s}),d?null:(0,r.tZ)(sn.ZP,{value:m,onChange:function(e){return g(e.target.value)},placeholder:c,size:m.length,css:[Nt.l0.width("fit-content"),{fontFamily:Nt.TV.fontFamilyCode}]})]})},pn=function(e){var t=e.initialRunCommand;return(0,r.tZ)(fn,{initialCommand:t,createCommandOp:$t.KQ,fieldName:"run",docsLink:"https://docs.replit.com/programming-ide/configuring-repl#run",placeholder:"Enter a run command",description:(0,r.tZ)(r.HY,{children:"The command to run the repl."}),disabled:!1,setIsDisabled:function(){}})},hn=n(31162),mn=function(e){var t=e.children;return(0,r.tZ)(Lt.Z,{css:[{borderLeft:"1px solid var(--outline-dimmest)"},Nt.l0.colWithGap(8),Nt.l0.align.start,Nt.l0.pl(8),Nt.l0.width("100%")],children:t})},gn=n(53818),vn=n(57923),bn=n(27361);function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zn(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,i)}function xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wn=(0,Lt.K)("a"),kn=function(e){var t=e.initialChannel,n=(0,u.Z)(),o=n.dotReplit,a=n.container,l=(0,gn.Z)(a),c=xn(i.useState(void 0),2),s=c[0],d=c[1],f=xn(i.useState([]),2),p=f[0],h=f[1],m=(0,vn.Z)();return i.useEffect((function(){t&&p.length&&d(p.find((function(e){return e.value===t})))}),[t,p]),i.useEffect((function(){var e=function(){var e,t=(e=$().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,bn.Z)(l);case 2:(t=e.sent).push({title:"legacy",value:""}),h(t);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Zn(o,r,i,a,l,"next",e)}function l(e){Zn(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[l,m]),(0,r.BX)(Lt.Z,{css:[Nt.l0.colWithGap(8),Nt.l0.align.start],children:[(0,r.tZ)(qt.x,{variant:"subheadDefault",children:"[nix]"}),(0,r.tZ)(mn,{children:(0,r.BX)(r.HY,{children:[(0,r.tZ)(ln,{field:"channel",docsLink:"https://docs.replit.com/programming-ide/configuring-repl#channel",argumentType:Pt.String,disabled:!1,setIsDisabled:function(){},description:(0,r.BX)(r.HY,{children:["Where you specify a"," ",(0,r.tZ)(wn,{href:"https://nixos.wiki/wiki/Nix_channels",target:"_blank",rel:"noopener noreferrer",css:{display:"inline"},children:"Nix channel"}),"."]})}),(0,r.tZ)(hn.Z,{css:[Nt.l0.width(190)],items:p,placeholder:"Select a Nix channel",onChange:function(e){d(e),o.updateDotReplit([(0,$t.cU)(e.value)])},initialSelectedItem:s},null===s||void 0===s?void 0:s.value)]})})]})},Sn=n(90020),jn=n(37155);function Cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tn(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,i)}function In(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var An=function(e){var t=e.initialEntrypoint,n=e.disabled,o=e.setIsDisabled,a=(0,u.Z)(),l=a.dotReplit,c=a.fs,s=In(i.useState(null!==t&&void 0!==t?t:""),2),d=s[0],f=s[1],p=In(i.useState([]),2),h=p[0],m=p[1],g=(0,cn.Z)(d,400),v=(0,jn.u)(),b=(0,vn.Z)();i.useEffect((function(){var e=function(){var e,t=(e=$().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v&&b){e.next=2;break}return e.abrupt("return");case 2:m(v);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Tn(o,r,i,a,l,"next",e)}function l(e){Tn(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[v,c,b]),i.useEffect((function(){g&&l.updateDotReplit([(0,$t.If)(g)])}),[g,l]);return(0,r.BX)(Lt.Z,{css:[Nt.l0.colWithGap(8),Nt.l0.align.start],children:[(0,r.tZ)(ln,{field:"entrypoint",docsLink:"https://docs.replit.com/programming-ide/configuring-repl#entrypoint",argumentType:Pt.String,disabled:n,setIsDisabled:function(e){if(o(e),e)return l.updateDotReplit([(0,$t.xz)("entrypoint")]),void f("");l.updateDotReplit([(0,$t.If)(g)])},description:(0,r.tZ)(r.HY,{children:"The name of the main file including the extension. This is the file that will be run, and shown by default when opening the editor."})}),n?null:(0,r.tZ)(Sn.Z,{id:"visual-dotreplit-editor-entrypoint",options:h,onSelect:f,onInit:f,initialSelectedOption:null!==t&&void 0!==t?t:void 0})]})},Dn=n(77287),zn=function(e){var t=e.initialCompileCommand,n=e.disabled,i=e.setIsDisabled;return(0,r.tZ)(fn,{initialCommand:t,createCommandOp:$t.D3,fieldName:"compile",docsLink:"https://docs.replit.com/programming-ide/configuring-repl#compile",placeholder:"Enter a compile command",description:(0,r.BX)(r.HY,{children:["The shell command to compile the repl before the"," ",(0,r.tZ)(Dn.Z,{children:"run"})," command. Only for compiled languages like C, C++, and Java."]}),disabled:n,setIsDisabled:i})},En=function(e){var t=e.initialBootCommand,n=e.disabled,i=e.setIsDisabled;return(0,r.tZ)(fn,{initialCommand:t,createCommandOp:$t.qR,fieldName:"onBoot",docsLink:"https://docs.replit.com/programming-ide/configuring-repl#onboot",placeholder:"Enter a boot command",description:(0,r.tZ)(r.HY,{children:"The command that executes after your repl has booted."}),disabled:n,setIsDisabled:i})},Bn=n(62996),On=function(e){var t=e.list,n=e.setList,i=e.addField,o=e.deleteField,a=e.ListItem,l=e.toConcat,c=void 0===l?"":l;return(0,r.BX)(Lt.Z,{css:[Nt.l0.colWithGap(8)],children:[t.length?t.map((function(e,i){return(0,r.BX)(Lt.Z,{css:[Nt.l0.rowWithGap(8),Nt.l0.align.center],children:[a({arg:e,index:i}),(0,r.tZ)(tn.Z,{alt:o,tooltipHidden:!0,size:28,onClick:function(){var e=t.slice();e.splice(i,1),n(e,i)},children:(0,r.tZ)(Be.Z,{})})]},i)})):null,(0,r.tZ)(Ft.zx,{text:i,iconLeft:(0,r.tZ)(rn.Z,{}),outlined:!0,css:[Nt.l0.width("fit-content")],onClick:function(){return n(t.concat([c]))}})]})};function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mn(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,i)}function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||Gn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(e){return function(e){if(Array.isArray(e))return Rn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Gn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(e,t){if(e){if("string"===typeof e)return Rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(e,t):void 0}}var _n=function(e){var t=e.initialHiddenFiles,n=e.disabled,o=e.setIsDisabled,a=(0,u.Z)(),l=a.dotReplit,c=a.fs,s=Pn(i.useState(null!==t&&void 0!==t?t:[]),2),d=s[0],f=s[1];i.useEffect((function(){t&&f(t)}),[t]);var p=Pn(i.useState(d),2),h=p[0],m=p[1],g=(0,vn.Z)();i.useEffect((function(){var e=function(){var e,t=(e=$().mark((function e(){var t,n,r,i,o,a,l,s,u,d,f,p;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.listFiles();case 2:if(t=e.sent.files,g.current&&t){e.next=5;break}return e.abrupt("return");case 5:if(t){e.next=8;break}return m([]),e.abrupt("return");case 8:for(n=Bn.uP.concat(Bn.nh),r=t.filter((function(e){return!n.includes(e)})),i=[],o=!0,a=!1,l=void 0,e.prev=12,s=r[Symbol.iterator]();!(o=(u=s.next()).done);o=!0)d=u.value,(f=i).push.apply(f,Xn((0,jn.O)(d)));e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),a=!0,l=e.t0;case 20:e.prev=20,e.prev=21,o||null==s.return||s.return();case 23:if(e.prev=23,!a){e.next=26;break}throw l;case 26:return e.finish(23);case 27:return e.finish(20);case 28:p=Xn(new Set(i)),m(p);case 30:case"end":return e.stop()}}),e,null,[[12,16,20,28],[21,,23,27]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Mn(o,r,i,a,l,"next",e)}function l(e){Mn(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[]);return(0,r.BX)(Lt.Z,{css:[Nt.l0.colWithGap(8)],children:[(0,r.tZ)(ln,{field:"hidden",argumentType:Pt.ListOfString,docsLink:"https://docs.replit.com/programming-ide/configuring-repl#hidden",disabled:n,setIsDisabled:function(e){if(o(e),e)return l.updateDotReplit([(0,$t.xz)("hidden")]),void f([]);l.updateDotReplit([(0,$t.px)(d)])},description:(0,r.tZ)(r.HY,{children:"A list of files to hide in the editor."})}),n?null:(0,r.tZ)(On,{list:d,setList:function(e){f(e),l.updateDotReplit([(0,$t.px)(e)])},addField:"Hide another file",deleteField:"Unhide file",ListItem:function(e){var t=e.arg,n=e.index;return(0,r.tZ)(Sn.Z,{id:"visual-dotreplit-editor-hiddenfiles",options:h.filter((function(e){return!d.includes(e)})),onInit:function(){},onSelect:function(e){return function(e,t){f((function(n){var r=n.slice();return r[t]=e,l.updateDotReplit([(0,$t.px)(r)]),r}))}(e,n)},placeholderText:"Choose a file to hide",initialSelectedOption:null!==t&&void 0!==t?t:""})}})]})},Ln=n(45101),Nn=n(34045),Fn=n(83406);function Hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Un=["python","nodejs","java"],Wn=[{title:"Python",value:"python",icon:(0,r.tZ)(Ln.Z,{})},{title:"Node.js",value:"nodejs",icon:(0,r.tZ)(Nn.Z,{})},{title:"Java",value:"java",icon:(0,r.tZ)(Fn.Z,{})}],Yn=function(e){var t=e.initialLanguage,n=e.disabled,o=e.setIsDisabled,a=(0,u.Z)().dotReplit,l=Vn(i.useState(t),2),c=l[0],s=l[1],d=(0,cn.Z)(c,400);i.useEffect((function(){d&&!n&&a.updateDotReplit([(0,$t.MY)(d)])}),[d,a,n]);return(0,r.BX)(Lt.Z,{css:[Nt.l0.colWithGap(8),Nt.l0.align.start],children:[(0,r.tZ)(qt.x,{variant:"subheadDefault",css:[n?Nt.l0.color.foregroundDimmest:Nt.l0.color.foregroundDefault],children:"[unitTest]"}),(0,r.tZ)(mn,{children:(0,r.BX)(r.HY,{children:[(0,r.tZ)(ln,{field:"language",docsLink:"https://docs.replit.com/programming-ide/configuring-repl#language-1",argumentType:Pt.String,disabled:n,setIsDisabled:function(e){if(o(e),e)return a.updateDotReplit([(0,$t.xz)("unitTest")]),void s(null);d&&a.updateDotReplit([(0,$t.MY)(d)])},description:(0,r.BX)(r.HY,{children:["Enables unit testing to the repl. The language you want the unit tests to run. Supported strings: ",(0,r.tZ)(Dn.Z,{children:"java"}),","," ",(0,r.tZ)(Dn.Z,{children:"python"}),", and"," ",(0,r.tZ)(Dn.Z,{children:"nodejs"}),"."]})}),n?null:(0,r.tZ)(hn.Z,{items:Wn,placeholder:"Select a language",onChange:function(e){return s(e.value)},initialSelectedItem:t?Wn.find((function(e){return e.value===t})):void 0,css:[Nt.l0.width(240)]})]})})]})};function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $n=(0,Lt.K)("a"),qn=function(e){var t=e.addNewLanguage;return(0,r.BX)(Lt.Z,{css:[Nt.l0.colWithGap(8)],children:[(0,r.BX)(Lt.Z,{css:[Nt.l0.flex.row,Nt.l0.justify.spaceBetween],children:[(0,r.BX)(qt.x,{variant:"subheadDefault",css:[Nt.l0.color.foregroundDimmest],children:["[language.","<language name>","]"]}),(0,r.tZ)(tn.Z,{alt:"Add new language",onClick:t,children:(0,r.tZ)(rn.Z,{})})]}),(0,r.tZ)(qt.x,{variant:"small",multiline:!0,css:[Nt.l0.color.foregroundDimmest],children:"Add a new language to your Repl."})]})},Jn=function(e){var t,n,o=e.language,a=e.setLanguage,l=e.initialLanguage,c=e.deleteLanguage,s=(0,u.Z)().dotReplit,d=Kn(i.useState((0,Qt.m)(null===l||void 0===l||null===(t=l.languageServer)||void 0===t?void 0:t.startCommand)),2),f=d[0],p=d[1],h=Kn(i.useState(null!==(n=null===l||void 0===l?void 0:l.pattern)&&void 0!==n?n:""),2),m=h[0],g=h[1],v=(0,cn.Z)(f,400),b=(0,cn.Z)(m,400);i.useEffect((function(){o.length&&v.length&&s.updateDotReplit([(0,$t.XF)(o,v)])}),[v,s]),i.useEffect((function(){o.length&&b.length&&s.updateDotReplit([(0,$t.mO)(o,b)])}),[b,s]),i.useEffect((function(){var e,t;g(null!==(t=null===l||void 0===l?void 0:l.pattern)&&void 0!==t?t:""),p((0,Qt.m)(null===l||void 0===l||null===(e=l.languageServer)||void 0===e?void 0:e.startCommand))}),[l]);return(0,r.BX)(Lt.Z,{css:[Nt.l0.colWithGap(8)],children:[(0,r.BX)(Lt.Z,{css:[Nt.l0.flex.row,Nt.l0.justify.spaceBetween,Nt.l0.mt(12)],children:[(0,r.BX)(qt.x,{variant:"subheadDefault",children:["[language.",(0,r.tZ)(sn.ZP,{value:o,onChange:function(e){return a(e.target.value)},placeholder:"new-language",css:[Nt.l0.display.inline],size:o.length-1}),"]"]}),(0,r.tZ)(tn.Z,{alt:"Delete language",onClick:function(){s.updateDotReplit([(0,$t.xz)("languages/".concat(o))]),c()},children:(0,r.tZ)(on.Z,{})})]}),(0,r.tZ)(qt.x,{variant:"small",multiline:!0,children:"Per-language configuration. The language name has no special meaning other than to allow multiple languages to be configured at once."}),(0,r.tZ)(mn,{children:(0,r.BX)(r.HY,{children:[(0,r.tZ)(ln,{field:"pattern",argumentType:Pt.String,docsLink:"https://docs.replit.com/programming-ide/configuring-repl#pattern",disabled:!1,setIsDisabled:function(){},description:(0,r.BX)(r.HY,{children:["A"," ",(0,r.tZ)($n,{href:"https://en.wikipedia.org/wiki/Glob_(programming)",target:"_blank",rel:"noopener noreferrer",css:[Nt.l0.display.inline],children:"glob"})," ","used to identify which files belong to this language configuration (for example, ",(0,r.tZ)(Dn.Z,{children:"**/*.js"}),")"]})}),(0,r.tZ)(sn.ZP,{value:m,onChange:function(e){return g(e.target.value)},placeholder:"Set a language glob"}),m.length?null:(0,r.tZ)(qt.x,{variant:"small",css:[Nt.l0.color.accentNegativeStronger],children:"A glob is required."}),(0,r.BX)(qt.x,{variant:"subheadDefault",css:[Nt.l0.mt(8)],children:["[languages.",o,".languageServer]"]}),(0,r.tZ)(mn,{children:(0,r.BX)(r.HY,{children:[(0,r.tZ)(ln,{field:"start",argumentType:Pt.Command,docsLink:"https://docs.replit.com/programming-ide/configuring-repl#start",disabled:!1,setIsDisabled:function(){},description:(0,r.tZ)(r.HY,{children:"The command used to start the LSP server for the specified language."})}),(0,r.tZ)(sn.ZP,{value:f,onChange:function(e){return p(e.target.value)},placeholder:"Set a command",size:f.length,css:[Nt.l0.width("fit-content"),{fontFamily:Nt.TV.fontFamilyCode}]}),f.length?null:(0,r.tZ)(qt.x,{variant:"small",css:[Nt.l0.color.accentNegativeStronger],children:"A LSP start command is required."})]})})]})})]})},er=(0,Lt.K)("a"),tr=function(e){var t=e.disabled,n=e.setIsDisabled,i=(0,u.Z)().dotReplit;return(0,r.tZ)(ln,{field:"audio",docsLink:"https://docs.replit.com/programming-ide/configuring-repl#audio",argumentType:Pt.Boolean,disabled:t,setIsDisabled:function(e){n(e),e?i.updateDotReplit([(0,$t.xz)("audio")]):i.updateDotReplit([(0,$t.Rr)(!0)])},description:(0,r.BX)(r.HY,{children:["Enables"," ",(0,r.tZ)(er,{href:"https://docs.replit.com/misc/playing-audio-replit",target:"_blank",rel:"noopener noreferrer",css:{display:"inline"},children:"system-wide audio"})," ","for the repl when configured to true. Currently"," ",t?"disabled":"enabled","."]})})};function nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ir=function(e){var t,n=e.initialEnv,o=e.disabled,a=e.setIsDisabled,l=(0,u.Z)().dotReplit,c=rr(i.useState(null!==(t=Object.entries(null!==n&&void 0!==n?n:{}))&&void 0!==t?t:[]),2),s=c[0],d=c[1];i.useEffect((function(){n&&d(Object.entries(n))}),[n]);var f=(0,cn.Z)(s,400);i.useEffect((function(){!f.length&&o||l.updateDotReplit([(0,$t.EX)(Object.fromEntries(f))])}),[f,l,o]);var p=i.useCallback((function(e){var t=rr(e.arg,2),n=t[0],i=t[1],o=e.index;return(0,r.BX)(Lt.Z,{css:[Nt.l0.rowWithGap(8),Nt.l0.align.center],children:[(0,r.tZ)(sn.ZP,{value:n,placeholder:"Key",onChange:function(e){e.preventDefault(),d((function(t){var n=t.slice();return n[o][0]=e.target.value,n}))}}),(0,r.tZ)(qt.x,{children:" = "}),(0,r.tZ)(sn.ZP,{value:i,placeholder:"Value",onChange:function(e){e.preventDefault(),d((function(t){var n=t.slice();return n[o][1]=e.target.value,n}))}})]},o)}),[d]);return(0,r.BX)(Lt.Z,{css:[Nt.l0.colWithGap(8)],children:[(0,r.tZ)(ln,{field:"[env]",argumentType:Pt.KeyValue,docsLink:"https://docs.replit.com/programming-ide/configuring-repl#env",disabled:o,setIsDisabled:function(e){if(a(e),e)return l.updateDotReplit([(0,$t.xz)("env")]),void d([]);l.updateDotReplit([(0,$t.EX)(Object.fromEntries(f))])},description:(0,r.tZ)(r.HY,{children:"Set environment variables. Don't put secrets here\u2014use the Secrets tab in the left sidebar."})}),o?null:(0,r.tZ)(mn,{children:(0,r.tZ)(On,{list:s,setList:d,addField:"Add another variable",deleteField:"Delete variable",ListItem:p,toConcat:["",""]})})]})};function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return or(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var lr=function(e){var t=e.initialHints,n=e.disabled,o=e.setIsDisabled,a=(0,u.Z)().dotReplit,l=ar(i.useState(t),2),c=l[0],s=l[1];i.useEffect((function(){t.length&&s(t)}),[t]);var d=i.useCallback((function(e){var t=e.arg,n=t.regex,i=t.message,o=e.index;return(0,r.BX)(Lt.Z,{css:[Nt.l0.rowWithGap(8),Nt.l0.align.center],children:[(0,r.tZ)(sn.ZP,{value:n,css:[Nt.l0.width("fit-content")],placeholder:"Enter a RegEx to match",onChange:function(e){s((function(t){var n=t.slice();return n[o].regex=e.target.value,n})),a.updateDotReplit([(0,$t.PW)({regex:e.target.value,index:o})])}}),(0,r.tZ)(sn.ZP,{value:i,css:[Nt.l0.width("fit-content")],placeholder:"Enter a message to print",onChange:function(e){s((function(t){var n=t.slice();return n[o].message=e.target.value,n})),a.updateDotReplit([(0,$t.HS)({message:e.target.value,index:o})])}})]},o)}),[s,a]);return(0,r.BX)(Lt.Z,{css:[Nt.l0.colWithGap(8)],children:[(0,r.tZ)(ln,{field:"hints",docsLink:"https://docs.replit.com/programming-ide/configuring-repl#hints",argumentType:Pt.Hint,disabled:n,setIsDisabled:function(e){o(e),e&&(a.updateDotReplit([(0,$t.xz)("hints")]),s([]))},description:(0,r.tZ)(r.HY,{children:"Set hints to display when output matching a RegEx is found. These hints display in the Shell alongside your output."})}),n?null:(0,r.tZ)(On,{list:c,setList:function(e,t){s(e),void 0!==t&&a.updateDotReplit([(0,$t.xz)("hints/".concat(t))])},addField:"Add hint",deleteField:"Delete hint",ListItem:d,toConcat:{regex:"",message:""}})]})};function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sr(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,i)}function ur(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){l=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(e,t)||fr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(e){return function(e){if(Array.isArray(e))return cr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fr(e,t){if(e){if("string"===typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cr(e,t):void 0}}var pr=function(){return(0,r.tZ)(Lt.Z,{css:[Nt.l0.height(1),Nt.l0.backgroundColor.outlineDimmest]})},hr=function(){var e,t,n,o,a,l,c,s,d,f,p,h=ur(i.useState(""),2),m=h[0],g=h[1],v=(0,F.b9)(H.MG),b=(0,u.Z)().dotReplit,y=ur(i.useState(null),2),Z=y[0],x=y[1];i.useEffect((function(){var e=function(){var e,t=(e=$().mark((function e(){var t,n,r,i,o,a,l,c,s,u,d,f,p,h,m,g,v,y,Z,w;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,b.getConfig();case 3:g=e.sent,x(g),B(!(null===g||void 0===g||null===(t=g.config)||void 0===t?void 0:t.entrypoint)),M(!(0,Qt.C)(null!==(v=null===g||void 0===g||null===(n=g.config)||void 0===n?void 0:n.compile)&&void 0!==v?v:void 0)),G(!(0,Qt.C)(null!==(y=null===g||void 0===g||null===(r=g.config)||void 0===r?void 0:r.onBoot)&&void 0!==y?y:void 0)),N(!(null===g||void 0===g||null===(i=g.config)||void 0===i||null===(o=i.hidden)||void 0===o?void 0:o.length)),W(!(null===g||void 0===g||null===(a=g.config)||void 0===a||null===(l=a.unitTest)||void 0===l?void 0:l.language)||!Un.includes(null===g||void 0===g||null===(c=g.config)||void 0===c||null===(s=c.unitTest)||void 0===s?void 0:s.language)),K(new Map(Object.entries(null!==(Z=null===g||void 0===g||null===(u=g.config)||void 0===u?void 0:u.languages)&&void 0!==Z?Z:{}))),ee(!(null===g||void 0===g||null===(d=g.config)||void 0===d?void 0:d.audio)),re(!(null===g||void 0===g||null===(f=g.config)||void 0===f?void 0:f.env)||!Object.keys(null!==(w=null===g||void 0===g||null===(p=g.config)||void 0===p?void 0:p.env)&&void 0!==w?w:{}).length),ae(!(null===g||void 0===g||null===(h=g.config)||void 0===h||null===(m=h.hintsList)||void 0===m?void 0:m.length));case 18:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){sr(o,r,i,a,l,"next",e)}function l(e){sr(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[b]);var w,k,S,j,C,T,I,A,D,z=ur(i.useState(!0),2),E=z[0],B=z[1],O=ur(i.useState(!0),2),R=O[0],M=O[1],P=ur(i.useState(!0),2),X=P[0],G=P[1],_=ur(i.useState(!0),2),L=_[0],N=_[1],V=ur(i.useState(!0),2),U=V[0],W=V[1],Y=ur(i.useState(new Map),2),Q=Y[0],K=Y[1],q=ur(i.useState(!0),2),J=q[0],ee=q[1],te=ur(i.useState(!0),2),ne=te[0],re=te[1],ie=ur(i.useState(!0),2),oe=ie[0],ae=ie[1];return(0,r.BX)(Lt.Z,{css:[Nt.l0.p(32),Nt.l0.pt(24),Nt.l0.colWithGap(24)],children:[(0,r.BX)(Lt.Z,{css:[Nt.l0.rowWithGap(12),{flexWrap:"wrap"}],children:[(0,r.tZ)(Lt.Z,{css:[Nt.l0.flex.grow(1),{flexBasis:"fit-content"},Nt.l0.mt(8)],children:(0,r.tZ)(Ht.Z,{placeholder:"Search .replit settings",value:m,onChange:function(e){return g(e.target.value)},onClear:function(){return g("")}})}),(0,r.tZ)(Ft.ZP,{text:"Reset",iconLeft:(0,r.tZ)(Vt.Z,{}),onClick:function(){},css:[Nt.l0.mt(8),{flexBasis:"fit-content"}]}),(0,r.tZ)(Wt.Co,{text:"Open docs",href:"https://docs.replit.com/programming-ide/configuring-repl",target:"_blank",rel:"noopener noreferrer",iconLeft:(0,r.tZ)(Ut.Z,{}),css:[Nt.l0.mt(8),{flexBasis:"fit-content"}]}),(0,r.tZ)(Ft.ZP,{text:"Switch to code editor",iconLeft:(0,r.tZ)(Yt.Z,{}),onClick:function(){return v({pane:{type:"codeEditor",data:{path:_t.l}},match:function(e){return"codeEditor"===e.data.type},insertTrys:[{placement:"replace",match:function(e){return"dotReplitEditor"===e.data.type}}]})},css:[Nt.l0.mt(8),{flexBasis:"fit-content"}]})]}),(0,r.BX)(r.HY,{children:[(0,r.tZ)(pr,{}),(0,r.tZ)(pn,{initialRunCommand:null!==(w=null===Z||void 0===Z||null===(e=Z.config)||void 0===e?void 0:e.run)&&void 0!==w?w:null})]}),(0,r.BX)(r.HY,{children:[(0,r.tZ)(pr,{}),(0,r.tZ)(An,{initialEntrypoint:null!==(k=null===Z||void 0===Z||null===(t=Z.config)||void 0===t?void 0:t.entrypoint)&&void 0!==k?k:null,disabled:E,setIsDisabled:B})]}),(0,r.BX)(r.HY,{children:[(0,r.tZ)(pr,{}),(0,r.tZ)(zn,{initialCompileCommand:null!==(S=null===Z||void 0===Z||null===(n=Z.config)||void 0===n?void 0:n.compile)&&void 0!==S?S:null,disabled:R,setIsDisabled:M})]}),(0,r.BX)(r.HY,{children:[(0,r.tZ)(pr,{}),(0,r.tZ)(En,{initialBootCommand:null!==(j=null===Z||void 0===Z||null===(o=Z.config)||void 0===o?void 0:o.onBoot)&&void 0!==j?j:null,disabled:X,setIsDisabled:G})]}),(0,r.BX)(r.HY,{children:[(0,r.tZ)(pr,{}),(0,r.tZ)(_n,{initialHiddenFiles:null!==(C=null===Z||void 0===Z||null===(a=Z.config)||void 0===a?void 0:a.hidden)&&void 0!==C?C:null,disabled:L,setIsDisabled:N})]}),(0,r.BX)(r.HY,{children:[(0,r.tZ)(pr,{}),(0,r.tZ)(Yn,{initialLanguage:null!==(T=null===Z||void 0===Z||null===(l=Z.config)||void 0===l||null===(c=l.unitTest)||void 0===c?void 0:c.language)&&void 0!==T?T:null,disabled:U,setIsDisabled:W})]}),dr(Q).map((function(e,t){var n=ur(e,2),i=n[0],o=n[1];return(0,r.BX)(Lt.Z,{children:[(0,r.tZ)(pr,{}),(0,r.tZ)(Jn,{initialLanguage:o,language:i,setLanguage:function(e){return K((function(t){return t.set(e,o),t.delete(i),new Map(t)}))},deleteLanguage:function(){return K((function(e){return e.delete(i),new Map(e)}))}})]},t)})),(0,r.BX)(r.HY,{children:[(0,r.tZ)(pr,{}),(0,r.tZ)(tr,{disabled:J,setIsDisabled:ee})]}),(0,r.BX)(r.HY,{children:[(0,r.tZ)(pr,{}),(0,r.tZ)(ir,{initialEnv:Z&&null!==(I=null===Z||void 0===Z||null===(s=Z.config)||void 0===s?void 0:s.env)&&void 0!==I?I:{},disabled:ne,setIsDisabled:re})]}),(0,r.BX)(r.HY,{children:[(0,r.tZ)(pr,{}),(0,r.tZ)(lr,{initialHints:null!==(A=null===Z||void 0===Z||null===(d=Z.config)||void 0===d?void 0:d.hintsList)&&void 0!==A?A:[],disabled:oe,setIsDisabled:ae})]}),(0,r.BX)(r.HY,{children:[(0,r.tZ)(pr,{}),(0,r.tZ)(qn,{addNewLanguage:function(){return K((function(e){return e.set("",Kt.api.DotReplitLanguage.create({pattern:"",languageServer:{startCommand:null}})),new Map(e)}))}})]}),(0,r.BX)(r.HY,{children:[(0,r.tZ)(pr,{}),(0,r.tZ)(kn,{initialChannel:null!==(D=null===Z||void 0===Z||null===(f=Z.config)||void 0===f||null===(p=f.nix)||void 0===p?void 0:p.channel)&&void 0!==D?D:""})]})]})},mr={Content:function(){return(0,r.tZ)(hr,{})},Icon:function(e){var t=e.size;return(0,r.tZ)(Gt.Z,{size:t})},getTitle:function(){return _t.l}};function gr(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,i)}function vr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){gr(o,r,i,a,l,"next",e)}function l(e){gr(o,r,i,a,l,"throw",e)}a(void 0)}))}}function br(e){var t=e.extensionUrl,n=i.useRef(null),o=(0,u.Z)().fs;return(0,i.useEffect)((function(){if(n.current)return function(e){var t=e.extensionIframe,n=e.fs,r=new URL(t.src).origin;function i(e){return o.apply(this,arguments)}function o(){return(o=vr($().mark((function e(n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.contentWindow){e.next=3;break}return alert("No contentWindow"),e.abrupt("return");case 3:t.contentWindow.postMessage(n,r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(e){return l.apply(this,arguments)}function l(){return(l=vr($().mark((function e(t){var r,o,a,l;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,o=r.path,a=r.content,e.next=3,n.writeFile(o,a);case 3:l=e.sent,i({id:t.id,payload:l});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return s.apply(this,arguments)}function s(){return(s=vr($().mark((function e(t){var r,o,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload.path,e.next=3,n.readFile(r);case 3:if(!(o=e.sent).error){e.next=7;break}return i({id:t.id,payload:o}),e.abrupt("return");case 7:a=o.content.toString(),i({id:t.id,payload:{content:a}});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=vr($().mark((function e(t){var r,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload.path,e.next=3,n.readDir(r);case 3:o=e.sent,i({id:t.id,payload:o});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return(p=vr($().mark((function e(t){var r,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload.path,e.next=3,n.createDir(r);case 3:o=e.sent,i({id:t.id,payload:o});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=vr($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i({id:t.id,payload:{}});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=vr($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i({id:t.id,payload:{}});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return(y=vr($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i({id:t.id,payload:{}});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return x.apply(this,arguments)}function x(){return(x=vr($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i({id:t.id,payload:{error:"notFound"}});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=vr($().mark((function e(t){var n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={handshake:b,readFile:c,writeFile:a,readDir:u,createDir:f,readUserInfo:g,readReplInfo:h},r=t.payload.type,!(i=n[r])){e.next=5;break}return e.abrupt("return",i(t));case 5:return e.abrupt("return",Z(t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(e){e.origin===r&&w(e.data)};return window.addEventListener("message",S),function(){window.removeEventListener("message",S)}}({extensionIframe:n.current,fs:o})}),[o,n.current]),(0,r.tZ)(A.G7,{className:"extension-pane",css:[A.l0.backgroundColor.backgroundDefault,A.l0.height("100%"),A.l0.borderRadius(4),{overflow:"hidden"}],children:(0,r.tZ)("iframe",{css:{width:"100%",height:"100%",border:"none"},title:"extension",ref:n,src:t})})}var yr={Content:function(e){var t=e.pane;return(0,r.tZ)(br,{extensionUrl:t.data.extensionUrl})},Icon:function(e){var t=e.size;return(0,r.tZ)(E.Z,{size:t})},getTitle:function(){return"Extension"}},Zr={Content:function(){return(0,r.tZ)(br,{extensionUrl:"https://docs.replit.com/"})},Icon:function(e){var t=e.size;return(0,r.tZ)(ce.Z,{size:t})},getTitle:function(){return"Docs"}};function xr(){return{filetree:f,codeEditor:h.D,webview:W,media:He,pedit:Ye,vnc:De,unitTests:$e,autograder:Je,education:nt,instructions:it,preferences:D,adminPanel:St,runnerOutput:y,shell:Me,packager:B,envEditor:j,commands:je,draw:_e,git:Ue.z,database:M,markdown:l,kaboombar:lt,debugger:Ct,tutorial:At,config:Et,threadInbox:Xt,dotReplitEditor:mr,extension:yr,docs:Zr}}}}]);
//# sourceMappingURL=8271-cf4a430bcb007c84.js.map